!function(){function e(e){return e&&e.__esModule?e.default:e}var n={};var t=function(e){var t=n[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t};(function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)n[t[r]]=e[t[r]]})(JSON.parse('{"4a60b2c8d21036d2":"texpaint.357a1a52.js","b99aea282a81b2b9":"wrap_tinyexr.52f1bee5.wasm","7a570996f77fc665":"SonyF35.StillLife.f8d5f0c8.exr","08583bc05ddbf04e":"immenstadter_horn_1k.8330f68c.hdr"}'));var r="undefined"!=typeof Float32Array?Float32Array:Array;Math.random,Math.PI;function o(){var e=new r(9);return r!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function i(){var e=new r(16);return r!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,n){var t=n[0],r=n[1],o=n[2],i=n[3],a=n[4],l=n[5],u=n[6],s=n[7],c=n[8],f=n[9],d=n[10],h=n[11],p=n[12],m=n[13],g=n[14],v=n[15],_=t*l-r*a,y=t*u-o*a,b=t*s-i*a,w=r*u-o*l,E=r*s-i*l,T=o*s-i*u,S=c*m-f*p,R=c*g-d*p,x=c*v-h*p,A=f*g-d*m,P=f*v-h*m,C=d*v-h*g,O=_*C-y*P+b*A+w*x-E*R+T*S;return O?(O=1/O,e[0]=(l*C-u*P+s*A)*O,e[1]=(o*P-r*C-i*A)*O,e[2]=(m*T-g*E+v*w)*O,e[3]=(d*E-f*T-h*w)*O,e[4]=(u*x-a*C-s*R)*O,e[5]=(t*C-o*x+i*R)*O,e[6]=(g*b-p*T-v*y)*O,e[7]=(c*T-d*b+h*y)*O,e[8]=(a*P-l*x+s*S)*O,e[9]=(r*x-t*P-i*S)*O,e[10]=(p*E-m*b+v*_)*O,e[11]=(f*b-c*E-h*_)*O,e[12]=(l*R-a*A-u*S)*O,e[13]=(t*A-r*R+o*S)*O,e[14]=(m*y-p*w-g*_)*O,e[15]=(c*w-f*y+d*_)*O,e):null}function u(e,n,t){var r,o,i,a,l,u,s,c,f,d,h,p,m=t[0],g=t[1],v=t[2];return n===e?(e[12]=n[0]*m+n[4]*g+n[8]*v+n[12],e[13]=n[1]*m+n[5]*g+n[9]*v+n[13],e[14]=n[2]*m+n[6]*g+n[10]*v+n[14],e[15]=n[3]*m+n[7]*g+n[11]*v+n[15]):(r=n[0],o=n[1],i=n[2],a=n[3],l=n[4],u=n[5],s=n[6],c=n[7],f=n[8],d=n[9],h=n[10],p=n[11],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=l,e[5]=u,e[6]=s,e[7]=c,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=r*m+l*g+f*v+n[12],e[13]=o*m+u*g+d*v+n[13],e[14]=i*m+s*g+h*v+n[14],e[15]=a*m+c*g+p*v+n[15]),e}function s(e,n,t){var r=t[0],o=t[1],i=t[2];return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=n[3]*r,e[4]=n[4]*o,e[5]=n[5]*o,e[6]=n[6]*o,e[7]=n[7]*o,e[8]=n[8]*i,e[9]=n[9]*i,e[10]=n[10]*i,e[11]=n[11]*i,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}function c(e,n){var t=n[0],r=n[1],o=n[2],i=n[3],a=t+t,l=r+r,u=o+o,s=t*a,c=r*a,f=r*l,d=o*a,h=o*l,p=o*u,m=i*a,g=i*l,v=i*u;return e[0]=1-f-p,e[1]=c+v,e[2]=d-g,e[3]=0,e[4]=c-v,e[5]=1-s-p,e[6]=h+m,e[7]=0,e[8]=d+g,e[9]=h-m,e[10]=1-s-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}Math.hypot||(Math.hypot=function(){for(var e=0,n=arguments.length;n--;)e+=arguments[n]*arguments[n];return Math.sqrt(e)});var f=function(e,n,t){var r=n[0],o=n[1],i=n[2],a=n[3],l=n[4],u=n[5],s=n[6],c=n[7],f=n[8],d=n[9],h=n[10],p=n[11],m=n[12],g=n[13],v=n[14],_=n[15],y=t[0],b=t[1],w=t[2],E=t[3];return e[0]=y*r+b*l+w*f+E*m,e[1]=y*o+b*u+w*d+E*g,e[2]=y*i+b*s+w*h+E*v,e[3]=y*a+b*c+w*p+E*_,y=t[4],b=t[5],w=t[6],E=t[7],e[4]=y*r+b*l+w*f+E*m,e[5]=y*o+b*u+w*d+E*g,e[6]=y*i+b*s+w*h+E*v,e[7]=y*a+b*c+w*p+E*_,y=t[8],b=t[9],w=t[10],E=t[11],e[8]=y*r+b*l+w*f+E*m,e[9]=y*o+b*u+w*d+E*g,e[10]=y*i+b*s+w*h+E*v,e[11]=y*a+b*c+w*p+E*_,y=t[12],b=t[13],w=t[14],E=t[15],e[12]=y*r+b*l+w*f+E*m,e[13]=y*o+b*u+w*d+E*g,e[14]=y*i+b*s+w*h+E*v,e[15]=y*a+b*c+w*p+E*_,e};function d(){var e=new r(3);return r!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function h(e){var n=new r(3);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function p(e,n,t){var o=new r(3);return o[0]=e,o[1]=n,o[2]=t,o}function m(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e}function g(e,n,t,r){return e[0]=n,e[1]=t,e[2]=r,e}function v(e,n,t){return e[0]=n[0]+t[0],e[1]=n[1]+t[1],e[2]=n[2]+t[2],e}function _(e,n){return e[0]=Math.round(n[0]),e[1]=Math.round(n[1]),e[2]=Math.round(n[2]),e}function y(e,n,t){return e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t,e}function b(e,n){var t=n[0],r=n[1],o=n[2],i=t*t+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e}function w(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]}function E(e,n,t){var r=n[0],o=n[1],i=n[2],a=t[0],l=t[1],u=t[2];return e[0]=o*u-i*l,e[1]=i*a-r*u,e[2]=r*l-o*a,e}function T(e,n,t){var r=n[0],o=n[1],i=n[2],a=t[3]*r+t[7]*o+t[11]*i+t[15];return a=a||1,e[0]=(t[0]*r+t[4]*o+t[8]*i+t[12])/a,e[1]=(t[1]*r+t[5]*o+t[9]*i+t[13])/a,e[2]=(t[2]*r+t[6]*o+t[10]*i+t[14])/a,e}var S,R=function(e,n,t){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e[2]=n[2]-t[2],e},x=function(e,n,t){return e[0]=n[0]*t[0],e[1]=n[1]*t[1],e[2]=n[2]*t[2],e},A=function(e){var n=e[0],t=e[1],r=e[2];return Math.hypot(n,t,r)};S=d();function P(){var e=new r(4);return r!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function C(e,n,t,r,o){return e[0]=n,e[1]=t,e[2]=r,e[3]=o,e}!function(){var e=P()}();function O(){var e=new r(4);return r!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function I(e,n,t){t*=.5;var r=Math.sin(t);return e[0]=r*n[0],e[1]=r*n[1],e[2]=r*n[2],e[3]=Math.cos(t),e}function k(e,n,t,r){var o,i,a,l,u,s=n[0],c=n[1],f=n[2],d=n[3],h=t[0],p=t[1],m=t[2],g=t[3];return(i=s*h+c*p+f*m+d*g)<0&&(i=-i,h=-h,p=-p,m=-m,g=-g),1-i>1e-6?(o=Math.acos(i),a=Math.sin(o),l=Math.sin((1-r)*o)/a,u=Math.sin(r*o)/a):(l=1-r,u=r),e[0]=l*s+u*h,e[1]=l*c+u*p,e[2]=l*f+u*m,e[3]=l*d+u*g,e}var L,N,D,M,F,H,Y=function(e,n,t){var r=n[0],o=n[1],i=n[2],a=n[3],l=t[0],u=t[1],s=t[2],c=t[3];return e[0]=r*c+a*l+o*s-i*u,e[1]=o*c+a*u+i*l-r*s,e[2]=i*c+a*s+r*u-o*l,e[3]=a*c-r*l-o*u-i*s,e},B=function(e,n){var t=n[0],r=n[1],o=n[2],i=n[3],a=t*t+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t*a,e[1]=r*a,e[2]=o*a,e[3]=i*a,e};L=d(),N=p(1,0,0),D=p(0,1,0),M=O(),F=O(),H=o();function U(){var e=new r(2);return r!=Float32Array&&(e[0]=0,e[1]=0),e}function j(e,n,t){return e[0]=n,e[1]=t,e}function z(e,n){var t=n[0]-e[0],r=n[1]-e[1];return Math.hypot(t,r)}var G,V,W,X,Z=function(e,n,t){return e[0]=n[0]-t[0],e[1]=n[1]-t[1],e},$=(function(){var e=U()}(),!1);function K(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function q(){G={},V=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,G=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,n){for(var t,r,o=K(e),i=1;i<arguments.length;i++){for(var a in t=Object(arguments[i]))W.call(t,a)&&(o[a]=t[a]);if(V){r=V(t);for(var l=0;l<r.length;l++)X.call(t,r[l])&&(o[r[l]]=t[r[l]])}}return o}}function Q(){return $||($=!0,q()),G}var J,ee,ne,te,re,oe,ie,ae,le,ue,se,ce,fe,de,he,pe,me,ge,ve,_e,ye,be,we,Ee,Te,Se,Re,xe,Ae,Pe,Ce,Oe,Ie,ke,Le,Ne,De,Me,Fe,He,Ye,Be,Ue,je,ze,Ge,Ve,We=!1;function Xe(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ze(e,n,t){this.props=e,this.context=n,this.refs=me,this.updater=t||pe}function $e(){}function Ke(e,n,t){this.props=e,this.context=n,this.refs=me,this.updater=t||pe}function qe(e,n,t){var r,o={},i=null,a=null;if(null!=n)for(r in void 0!==n.ref&&(a=n.ref),void 0!==n.key&&(i=""+n.key),n)_e.call(n,r)&&!ye.hasOwnProperty(r)&&(o[r]=n[r]);var l=arguments.length-2;if(1===l)o.children=t;else if(1<l){for(var u=Array(l),s=0;s<l;s++)u[s]=arguments[s+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:ne,type:e,key:i,ref:a,props:o,_owner:ve.current}}function Qe(e){return"object"==typeof e&&null!==e&&e.$$typeof===ne}function Je(e,n){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return n[e]}))}(""+e.key):n.toString(36)}function en(e,n,t,r,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a=!1;if(null===e)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ne:case te:a=!0}}if(a)return o=o(a=e),e=""===r?"."+Je(a,0):r,Array.isArray(o)?(t="",null!=e&&(t=e.replace(be,"$&/")+"/"),en(o,n,t,"",(function(e){return e}))):null!=o&&(Qe(o)&&(o=function(e,n){return{$$typeof:ne,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(o,t+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(be,"$&/")+"/")+e)),n.push(o)),1;if(a=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=r+Je(i=e[l],l);a+=en(i,n,t,u,o)}else if("function"==typeof(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=he&&e[he]||e["@@iterator"])?e:null}(e)))for(e=u.call(e),l=0;!(i=e.next()).done;)a+=en(i=i.value,n,t,u=r+Je(i,l++),o);else if("object"===i)throw n=""+e,Error(Xe(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n));return a}function nn(e,n,t){if(null==e)return e;var r=[],o=0;return en(e,r,"","",(function(e){return n.call(t,e,o++)})),r}function tn(e){if(-1===e._status){var n=e._result;n=n(),e._status=0,e._result=n,n.then((function(n){0===e._status&&(n=n.default,e._status=1,e._result=n)}),(function(n){0===e._status&&(e._status=2,e._result=n)}))}if(1===e._status)return e._result;throw e._result}function rn(){var e=we.current;if(null===e)throw Error(Xe(321));return e}function on(){return We||(We=!0,J={},ee=Q(),ne=60103,te=60106,re=60107,J.Fragment=re,oe=60108,J.StrictMode=oe,ie=60114,J.Profiler=ie,ae=60109,le=60110,ue=60112,se=60113,J.Suspense=se,ce=60115,fe=60116,"function"==typeof Symbol&&Symbol.for&&(de=Symbol.for,ne=de("react.element"),te=de("react.portal"),re=de("react.fragment"),J.Fragment=re,oe=de("react.strict_mode"),J.StrictMode=oe,ie=de("react.profiler"),J.Profiler=ie,ae=de("react.provider"),le=de("react.context"),ue=de("react.forward_ref"),se=de("react.suspense"),J.Suspense=se,ce=de("react.memo"),fe=de("react.lazy")),he="function"==typeof Symbol&&Symbol.iterator,pe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},me={},Ze.prototype.isReactComponent={},Ze.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(Xe(85));this.updater.enqueueSetState(this,e,n,"setState")},Ze.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},$e.prototype=Ze.prototype,(ge=Ke.prototype=new $e).constructor=Ke,ee(ge,Ze.prototype),ge.isPureReactComponent=!0,ve={current:null},_e=Object.prototype.hasOwnProperty,ye={key:!0,ref:!0,__self:!0,__source:!0},be=/\/+/g,Ee={ReactCurrentDispatcher:we={current:null},ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ve,IsSomeRendererActing:{current:!1},assign:ee},Te={map:nn,forEach:function(e,n,t){nn(e,(function(){n.apply(this,arguments)}),t)},count:function(e){var n=0;return nn(e,(function(){n++})),n},toArray:function(e){return nn(e,(function(e){return e}))||[]},only:function(e){if(!Qe(e))throw Error(Xe(143));return e}},J.Children=Te,Se=Ze,J.Component=Se,Re=Ke,J.PureComponent=Re,xe=Ee,J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,Ae=function(e,n,t){if(null==e)throw Error(Xe(267,e));var r=ee({},e.props),o=e.key,i=e.ref,a=e._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,a=ve.current),void 0!==n.key&&(o=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in n)_e.call(n,u)&&!ye.hasOwnProperty(u)&&(r[u]=void 0===n[u]&&void 0!==l?l[u]:n[u])}var u=arguments.length-2;if(1===u)r.children=t;else if(1<u){l=Array(u);for(var s=0;s<u;s++)l[s]=arguments[s+2];r.children=l}return{$$typeof:ne,type:e.type,key:o,ref:i,props:r,_owner:a}},J.cloneElement=Ae,Pe=function(e,n){return void 0===n&&(n=null),(e={$$typeof:le,_calculateChangedBits:n,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:ae,_context:e},e.Consumer=e},J.createContext=Pe,Ce=qe,J.createElement=Ce,Oe=function(e){var n=qe.bind(null,e);return n.type=e,n},J.createFactory=Oe,Ie=function(){return{current:null}},J.createRef=Ie,ke=function(e){return{$$typeof:ue,render:e}},J.forwardRef=ke,Le=Qe,J.isValidElement=Le,Ne=function(e){return{$$typeof:fe,_payload:{_status:-1,_result:e},_init:tn}},J.lazy=Ne,De=function(e,n){return{$$typeof:ce,type:e,compare:void 0===n?null:n}},J.memo=De,Me=function(e,n){return rn().useCallback(e,n)},J.useCallback=Me,Fe=function(e,n){return rn().useContext(e,n)},J.useContext=Fe,He=function(){},J.useDebugValue=He,Ye=function(e,n){return rn().useEffect(e,n)},J.useEffect=Ye,Be=function(e,n,t){return rn().useImperativeHandle(e,n,t)},J.useImperativeHandle=Be,Ue=function(e,n){return rn().useLayoutEffect(e,n)},J.useLayoutEffect=Ue,je=function(e,n){return rn().useMemo(e,n)},J.useMemo=je,ze=function(e,n,t){return rn().useReducer(e,n,t)},J.useReducer=ze,Ge=function(e){return rn().useRef(e)},J.useRef=Ge,Ve=function(e){return rn().useState(e)},J.useState=Ve,"17.0.1",J.version="17.0.1"),J}var an,ln=!1;function un(){return ln||(ln=!0,an={},an=on()),an}un(),un();var sn,cn,fn,dn,hn,pn,mn,gn,vn,_n,yn,bn,wn,En,Tn,Sn,Rn,xn,An,Pn,Cn,On,In,kn,Ln,Nn,Dn,Mn,Fn,Hn,Yn,Bn,Un,jn,zn,Gn,Vn,Wn,Xn,Zn,$n,Kn,qn,Qn=!1;function Jn(e,n){var t=e.length;e.push(n);e:for(;;){var r=t-1>>>1,o=e[r];if(!(void 0!==o&&0<tt(o,n)))break e;e[r]=n,e[t]=o,t=r}}function et(e){return void 0===(e=e[0])?null:e}function nt(e){var n=e[0];if(void 0!==n){var t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],l=i+1,u=e[l];if(void 0!==a&&0>tt(a,t))void 0!==u&&0>tt(u,a)?(e[r]=u,e[l]=t,r=l):(e[r]=a,e[i]=t,r=i);else{if(!(void 0!==u&&0>tt(u,t)))break e;e[r]=u,e[l]=t,r=l}}}return n}return null}function tt(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}function rt(e){for(var n=et(Nn);null!==n;){if(null===n.callback)nt(Nn);else{if(!(n.startTime<=e))break;nt(Nn),n.sortIndex=n.expirationTime,Jn(Ln,n)}n=et(Nn)}}function ot(e){if(Bn=!1,rt(e),!Yn)if(null!==et(Ln))Yn=!0,hn(it);else{var n=et(Nn);null!==n&&pn(ot,n.startTime-e)}}function it(e,n){Yn=!1,Bn&&(Bn=!1,mn()),Hn=!0;var t=Fn;try{for(rt(n),Mn=et(Ln);null!==Mn&&(!(Mn.expirationTime>n)||e&&!cn());){var r=Mn.callback;if("function"==typeof r){Mn.callback=null,Fn=Mn.priorityLevel;var o=r(Mn.expirationTime<=n);n=sn(),"function"==typeof o?Mn.callback=o:Mn===et(Ln)&&nt(Ln),rt(n)}else nt(Ln);Mn=et(Ln)}if(null!==Mn)var i=!0;else{var a=et(Nn);null!==a&&pn(ot,a.startTime-n),i=!1}return i}finally{Mn=null,Fn=t,Hn=!1}}function at(){return Qn||(Qn=!0,dn={},"object"==typeof performance&&"function"==typeof performance.now?(vn=performance,sn=function(){return vn.now()},dn.unstable_now=sn):(_n=Date,yn=_n.now(),sn=function(){return _n.now()-yn},dn.unstable_now=sn),"undefined"==typeof window||"function"!=typeof MessageChannel?(bn=null,wn=null,En=function(){if(null!==bn)try{var e=sn();bn(!0,e),bn=null}catch(e){throw setTimeout(En,0),e}},hn=function(e){null!==bn?setTimeout(hn,0,e):(bn=e,setTimeout(En,0))},pn=function(e,n){wn=setTimeout(e,n)},mn=function(){clearTimeout(wn)},cn=function(){return!1},dn.unstable_shouldYield=cn,fn=function(){},gn=dn.unstable_forceFrameRate=fn):(Tn=window.setTimeout,Sn=window.clearTimeout,"undefined"!=typeof console&&(Rn=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof Rn&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),xn=!1,An=null,Pn=-1,Cn=5,On=0,cn=function(){return sn()>=On},dn.unstable_shouldYield=cn,gn=function(){},fn=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Cn=0<e?Math.floor(1e3/e):5},dn.unstable_forceFrameRate=fn,In=new MessageChannel,kn=In.port2,In.port1.onmessage=function(){if(null!==An){var e=sn();On=e+Cn;try{An(!0,e)?kn.postMessage(null):(xn=!1,An=null)}catch(e){throw kn.postMessage(null),e}}else xn=!1},hn=function(e){An=e,xn||(xn=!0,kn.postMessage(null))},pn=function(e,n){Pn=Tn((function(){e(sn())}),n)},mn=function(){Sn(Pn),Pn=-1}),Ln=[],Nn=[],Dn=1,Mn=null,Fn=3,Hn=!1,Yn=!1,Bn=!1,Un=gn,5,dn.unstable_IdlePriority=5,1,dn.unstable_ImmediatePriority=1,4,dn.unstable_LowPriority=4,3,dn.unstable_NormalPriority=3,null,dn.unstable_Profiling=null,2,dn.unstable_UserBlockingPriority=2,jn=function(e){e.callback=null},dn.unstable_cancelCallback=jn,zn=function(){Yn||Hn||(Yn=!0,hn(it))},dn.unstable_continueExecution=zn,Gn=function(){return Fn},dn.unstable_getCurrentPriorityLevel=Gn,Vn=function(){return et(Ln)},dn.unstable_getFirstCallbackNode=Vn,Wn=function(e){switch(Fn){case 1:case 2:case 3:var n=3;break;default:n=Fn}var t=Fn;Fn=n;try{return e()}finally{Fn=t}},dn.unstable_next=Wn,Xn=function(){},dn.unstable_pauseExecution=Xn,Zn=Un,dn.unstable_requestPaint=Zn,$n=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=Fn;Fn=e;try{return n()}finally{Fn=t}},dn.unstable_runWithPriority=$n,Kn=function(e,n,t){var r=sn();switch(t="object"==typeof t&&null!==t&&"number"==typeof(t=t.delay)&&0<t?r+t:r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:Dn++,callback:n,priorityLevel:e,startTime:t,expirationTime:o=t+o,sortIndex:-1},t>r?(e.sortIndex=t,Jn(Nn,e),null===et(Ln)&&e===et(Nn)&&(Bn?mn():Bn=!0,pn(ot,t-r))):(e.sortIndex=o,Jn(Ln,e),Yn||Hn||(Yn=!0,hn(it))),e},dn.unstable_scheduleCallback=Kn,qn=function(e){var n=Fn;return function(){var t=Fn;Fn=n;try{return e.apply(this,arguments)}finally{Fn=t}}},dn.unstable_wrapCallback=qn),dn}var lt,ut=!1;function st(){return ut||(ut=!0,lt={},lt=at()),lt}var ct,ft,dt,ht,pt,mt,gt,vt,_t,yt,bt,wt,Et,Tt,St,Rt,xt,At,Pt,Ct,Ot,It,kt,Lt,Nt,Dt,Mt,Ft,Ht,Yt,Bt,Ut,jt,zt,Gt,Vt,Wt,Xt,Zt,$t,Kt,qt,Qt,Jt,er,nr,tr,rr,or,ir,ar,lr,ur,sr,cr,fr,dr,hr,pr,mr,gr,vr,_r,yr,br,wr,Er,Tr,Sr,Rr,xr,Ar,Pr,Cr,Or,Ir,kr,Lr,Nr,Dr,Mr,Fr,Hr,Yr,Br,Ur,jr,zr,Gr,Vr,Wr,Xr,Zr,$r,Kr,qr,Qr,Jr,eo,no,to,ro,oo,io,ao,lo,uo,so,co,fo,ho,po,mo,go,vo,_o,yo,bo,wo,Eo,To,So,Ro,xo,Ao,Po,Co,Oo,Io,ko,Lo,No,Do,Mo,Fo,Ho,Yo,Bo,Uo,jo,zo,Go,Vo,Wo,Xo,Zo,$o,Ko,qo,Qo,Jo,ei,ni,ti,ri,oi,ii,ai,li,ui,si,ci,fi,di,hi,pi,mi,gi,vi,_i,yi,bi,wi,Ei,Ti,Si,Ri,xi,Ai,Pi,Ci,Oi,Ii,ki,Li,Ni,Di,Mi,Fi,Hi,Yi,Bi,Ui,ji,zi,Gi,Vi,Wi,Xi,Zi,$i,Ki,qi,Qi,Ji,ea,na,ta,ra,oa,ia,aa,la,ua,sa,ca,fa,da,ha,pa,ma,ga,va,_a,ya,ba,wa,Ea,Ta,Sa,Ra,xa,Aa,Pa,Ca,Oa,Ia,ka,La,Na,Da,Ma,Fa,Ha,Ya,Ba,Ua,ja,za,Ga,Va,Wa,Xa,Za,$a,Ka,qa,Qa,Ja,el,nl,tl,rl,ol,il,al,ll,ul,sl,cl,fl,dl,hl,pl,ml=!1;function gl(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function vl(e,n){_l(e,n),_l(e+"Capture",n)}function _l(e,n){for(mt[e]=n,e=0;e<n.length;e++)pt.add(n[e])}function yl(e,n,t,r,o,i,a){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=i,this.removeEmptyString=a}function bl(e){return e[1].toUpperCase()}function wl(e,n,t,r){var o=wt.hasOwnProperty(n)?wt[n]:null;(null!==o?0===o.type:!r&&(2<n.length&&("o"===n[0]||"O"===n[0])&&("n"===n[1]||"N"===n[1])))||(function(e,n,t,r){if(null==n||function(e,n,t,r){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,t,o,r)&&(t=null),r||null===o?function(e){return!!_t.call(bt,e)||!_t.call(yt,e)&&(vt.test(e)?bt[e]=!0:(yt[e]=!0,!1))}(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):o.mustUseProperty?e[o.propertyName]=null===t?3!==o.type&&"":t:(n=o.attributeName,r=o.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(o=o.type)||4===o&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}function El(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=jt&&e[jt]||e["@@iterator"])?e:null}function Tl(e){if(void 0===zt)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);zt=n&&n[1]||""}return"\n"+zt+e}function Sl(e,n){if(!e||Gt)return"";Gt=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,l=i.length-1;1<=a&&0<=l&&o[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==i[l]){if(1!==a||1!==l)do{if(a--,0>--l||o[a]!==i[l])return"\n"+o[a].replace(" at new "," at ")}while(1<=a&&0<=l);break}}}finally{Gt=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?Tl(e):""}function Rl(e){switch(e.tag){case 5:return Tl(e.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return e=Sl(e.type,!1);case 11:return e=Sl(e.type.render,!1);case 22:return e=Sl(e.type._render,!1);case 1:return e=Sl(e.type,!0);default:return""}}function xl(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case xt:return"Fragment";case Rt:return"Portal";case Pt:return"Profiler";case At:return"StrictMode";case kt:return"Suspense";case Lt:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Ot:return(e.displayName||"Context")+".Consumer";case Ct:return(e._context.displayName||"Context")+".Provider";case It:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(""!==n?"ForwardRef("+n+")":"ForwardRef");case Nt:return xl(e.type);case Mt:return xl(e._render);case Dt:n=e._payload,e=e._init;try{return xl(e(n))}catch(e){}}return null}function Al(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Pl(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function Cl(e){e._valueTracker||(e._valueTracker=function(e){var n=Pl(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&void 0!==t&&"function"==typeof t.get&&"function"==typeof t.set){var o=t.get,i=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function Ol(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=Pl(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function Il(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function kl(e,n){var t=n.checked;return dt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function Ll(e,n){var t=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;t=Al(null!=n.value?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function Nl(e,n){null!=(n=n.checked)&&wl(e,"checked",n,!1)}function Dl(e,n){Nl(e,n);var t=Al(n.value),r=n.type;if(null!=t)"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");n.hasOwnProperty("value")?Fl(e,n.type,t):n.hasOwnProperty("defaultValue")&&Fl(e,n.type,Al(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function Ml(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function Fl(e,n,t){"number"===n&&Il(e.ownerDocument)===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}function Hl(e,n){return e=dt({children:void 0},n),(n=function(e){var n="";return ft.Children.forEach(e,(function(e){null!=e&&(n+=e)})),n}(n.children))&&(e.children=n),e}function Yl(e,n,t,r){if(e=e.options,n){n={};for(var o=0;o<t.length;o++)n["$"+t[o]]=!0;for(t=0;t<e.length;t++)o=n.hasOwnProperty("$"+e[t].value),e[t].selected!==o&&(e[t].selected=o),o&&r&&(e[t].defaultSelected=!0)}else{for(t=""+Al(t),n=null,o=0;o<e.length;o++){if(e[o].value===t)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==n||e[o].disabled||(n=e[o])}null!==n&&(n.selected=!0)}}function Bl(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(gl(91));return dt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ul(e,n){var t=n.value;if(null==t){if(t=n.children,n=n.defaultValue,null!=t){if(null!=n)throw Error(gl(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(gl(93));t=t[0]}n=t}null==n&&(n=""),t=n}e._wrapperState={initialValue:Al(t)}}function jl(e,n){var t=Al(n.value),r=Al(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=r&&(e.defaultValue=""+r)}function zl(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function Gl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vl(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?Gl(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}function Wl(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}function Xl(e,n,t){return null==n||"boolean"==typeof n||""===n?"":t||"number"!=typeof n||0===n||Zt.hasOwnProperty(e)&&Zt[e]?(""+n).trim():n+"px"}function Zl(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var r=0===t.indexOf("--"),o=Xl(t,n[t],r);"float"===t&&(t="cssFloat"),r?e.setProperty(t,o):e[t]=o}}function $l(e,n){if(n){if(Kt[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(gl(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(gl(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(gl(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(gl(62))}}function Kl(e,n){if(-1===e.indexOf("-"))return"string"==typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ql(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ql(e){if(e=Ps(e)){if("function"!=typeof qt)throw Error(gl(280));var n=e.stateNode;n&&(n=Os(n),qt(e.stateNode,e.type,n))}}function Jl(e){Qt?Jt?Jt.push(e):Jt=[e]:Qt=e}function eu(){if(Qt){var e=Qt,n=Jt;if(Jt=Qt=null,Ql(e),n)for(e=0;e<n.length;e++)Ql(n[e])}}function nu(e,n){return e(n)}function tu(e,n,t,r,o){return e(n,t,r,o)}function ru(){}function ou(){null===Qt&&null===Jt||(ru(),eu())}function iu(e,n){var t=e.stateNode;if(null===t)return null;var r=Os(t);if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!=typeof t)throw Error(gl(231,n,typeof t));return t}function au(e,n,t,r,o,i,a,l,u){var s=Array.prototype.slice.call(arguments,3);try{n.apply(t,s)}catch(e){this.onError(e)}}function lu(e,n,t,r,o,i,a,l,u){ir=!1,ar=null,au.apply(sr,arguments)}function uu(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!=(1026&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function su(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function cu(e){if(uu(e)!==e)throw Error(gl(188))}function fu(e){if(!(e=function(e){var n=e.alternate;if(!n){if(null===(n=uu(e)))throw Error(gl(188));return n!==e?null:e}for(var t=e,r=n;;){var o=t.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){t=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===t)return cu(o),e;if(i===r)return cu(o),n;i=i.sibling}throw Error(gl(188))}if(t.return!==r.return)t=o,r=i;else{for(var a=!1,l=o.child;l;){if(l===t){a=!0,t=o,r=i;break}if(l===r){a=!0,r=o,t=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===t){a=!0,t=i,r=o;break}if(l===r){a=!0,r=i,t=o;break}l=l.sibling}if(!a)throw Error(gl(189))}}if(t.alternate!==r)throw Error(gl(190))}if(3!==t.tag)throw Error(gl(188));return t.stateNode.current===t?e:n}(e)))return null;for(var n=e;;){if(5===n.tag||6===n.tag)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===e)break;for(;!n.sibling;){if(!n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function du(e,n){for(var t=e.alternate;null!==n;){if(n===e||n===t)return!0;n=n.return}return!1}function hu(e,n,t,r,o){return{blockedOn:e,domEventName:n,eventSystemFlags:16|t,nativeEvent:o,targetContainers:[r]}}function pu(e,n){switch(e){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":yr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(n.pointerId)}}function mu(e,n,t,r,o,i){return null===e||e.nativeEvent!==i?(e=hu(n,t,r,o,i),null!==n&&(null!==(n=Ps(n))&&fr(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==o&&-1===n.indexOf(o)&&n.push(o),e)}function gu(e){var n=As(e.target);if(null!==n){var t=uu(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=su(t)))return e.blockedOn=n,void hr(e.lanePriority,(function(){ht.unstable_runWithPriority(e.priority,(function(){dr(t)}))}))}else if(3===n&&t.stateNode.hydrate)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function vu(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=Mu(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t)return null!==(n=Ps(t))&&fr(n),e.blockedOn=t,!1;n.shift()}return!0}function _u(e,n,t){vu(e)&&t.delete(n)}function yu(){for(pr=!1;0<mr.length;){var e=mr[0];if(null!==e.blockedOn){null!==(e=Ps(e.blockedOn))&&cr(e);break}for(var n=e.targetContainers;0<n.length;){var t=Mu(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t){e.blockedOn=t;break}n.shift()}null===e.blockedOn&&mr.shift()}null!==gr&&vu(gr)&&(gr=null),null!==vr&&vu(vr)&&(vr=null),null!==_r&&vu(_r)&&(_r=null),yr.forEach(_u),br.forEach(_u)}function bu(e,n){e.blockedOn===n&&(e.blockedOn=null,pr||(pr=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,yu)))}function wu(e){function n(n){return bu(n,e)}if(0<mr.length){bu(mr[0],e);for(var t=1;t<mr.length;t++){var r=mr[t];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==gr&&bu(gr,e),null!==vr&&bu(vr,e),null!==_r&&bu(_r,e),yr.forEach(n),br.forEach(n),t=0;t<wr.length;t++)(r=wr[t]).blockedOn===e&&(r.blockedOn=null);for(;0<wr.length&&null===(t=wr[0]).blockedOn;)gu(t),null===t.blockedOn&&wr.shift()}function Eu(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}function Tu(e){if(Sr[e])return Sr[e];if(!Tr[e])return e;var n,t=Tr[e];for(n in t)if(t.hasOwnProperty(n)&&n in Rr)return Sr[e]=t[n];return e}function Su(e,n){for(var t=0;t<e.length;t+=2){var r=e[t],o=e[t+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Ir.set(r,n),Or.set(r,o),vl(o,[r])}}function Ru(e){if(0!=(1&e))return Lr=15,1;if(0!=(2&e))return Lr=14,2;if(0!=(4&e))return Lr=13,4;var n=24&e;return 0!==n?(Lr=12,n):0!=(32&e)?(Lr=11,32):0!==(n=192&e)?(Lr=10,n):0!=(256&e)?(Lr=9,256):0!==(n=3584&e)?(Lr=8,n):0!=(4096&e)?(Lr=7,4096):0!==(n=4186112&e)?(Lr=6,n):0!==(n=62914560&e)?(Lr=5,n):67108864&e?(Lr=4,67108864):0!=(134217728&e)?(Lr=3,134217728):0!==(n=805306368&e)?(Lr=2,n):0!=(1073741824&e)?(Lr=1,1073741824):(Lr=8,e)}function xu(e,n){var t=e.pendingLanes;if(0===t)return Lr=0;var r=0,o=0,i=e.expiredLanes,a=e.suspendedLanes,l=e.pingedLanes;if(0!==i)r=i,o=Lr=15;else if(0!==(i=134217727&t)){var u=i&~a;0!==u?(r=Ru(u),o=Lr):0!==(l&=i)&&(r=Ru(l),o=Lr)}else 0!==(i=t&~a)?(r=Ru(i),o=Lr):0!==l&&(r=Ru(l),o=Lr);if(0===r)return 0;if(r=t&((0>(r=31-Nr(r))?0:1<<r)<<1)-1,0!==n&&n!==r&&0==(n&a)){if(Ru(n),o<=Lr)return n;Lr=o}if(0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)o=1<<(t=31-Nr(n)),r|=e[t],n&=~o;return r}function Au(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Pu(e,n){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Cu(24&~n))?Pu(10,n):e;case 10:return 0===(e=Cu(192&~n))?Pu(8,n):e;case 8:return 0===(e=Cu(3584&~n))&&(0===(e=Cu(4186112&~n))&&(e=512)),e;case 2:return 0===(n=Cu(805306368&~n))&&(n=268435456),n}throw Error(gl(358,e))}function Cu(e){return e&-e}function Ou(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Iu(e,n,t){e.pendingLanes|=n;var r=n-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[n=31-Nr(n)]=t}function ku(e){return 0===e?32:31-(Dr(e)/Mr|0)|0}function Lu(e,n,t,r){nr||ru();var o=Du,i=nr;nr=!0;try{tu(o,e,n,t,r)}finally{(nr=i)||ou()}}function Nu(e,n,t,r){Hr(Fr,Du.bind(null,e,n,t,r))}function Du(e,n,t,r){var o;if(Yr)if((o=0==(4&n))&&0<mr.length&&-1<Er.indexOf(e))e=hu(null,e,n,t,r),mr.push(e);else{var i=Mu(e,n,t,r);if(null===i)o&&pu(e,r);else{if(o){if(-1<Er.indexOf(e))return e=hu(i,e,n,t,r),void mr.push(e);if(function(e,n,t,r,o){switch(n){case"focusin":return gr=mu(gr,e,n,t,r,o),!0;case"dragenter":return vr=mu(vr,e,n,t,r,o),!0;case"mouseover":return _r=mu(_r,e,n,t,r,o),!0;case"pointerover":var i=o.pointerId;return yr.set(i,mu(yr.get(i)||null,e,n,t,r,o)),!0;case"gotpointercapture":return i=o.pointerId,br.set(i,mu(br.get(i)||null,e,n,t,r,o)),!0}return!1}(i,e,n,t,r))return;pu(e,r)}gs(e,n,r,null,t)}}}function Mu(e,n,t,r){var o=ql(r);if(null!==(o=As(o))){var i=uu(o);if(null===i)o=null;else{var a=i.tag;if(13===a){if(null!==(o=su(i)))return o;o=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return gs(e,n,r,o,t),null}function Fu(){if(jr)return jr;var e,n,t=Ur,r=t.length,o="value"in Br?Br.value:Br.textContent,i=o.length;for(e=0;e<r&&t[e]===o[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===o[i-n];n++);return jr=o.slice(e,1<n?1-n:void 0)}function Hu(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function Yu(){return!0}function Bu(){return!1}function Uu(e){function n(n,t,r,o,i){for(var a in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Yu:Bu,this.isPropagationStopped=Bu,this}return dt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),n}function ju(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=co[e])&&!!n[e]}function zu(){return ju}function Gu(e,n){switch(e){case"keyup":return-1!==Eo.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vu(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function Wu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!Oo[e.type]:"textarea"===n}function Xu(e,n,t,r){Jl(r),0<(n=_s(n,"onChange")).length&&(t=new Gr("onChange","change",null,t,r),e.push({event:t,listeners:n}))}function Zu(e){fs(e,0)}function $u(e){if(Ol(Cs(e)))return e}function Ku(e,n){if("change"===e)return n}function qu(){Io&&(Io.detachEvent("onpropertychange",Qu),ko=Io=null)}function Qu(e){if("value"===e.propertyName&&$u(ko)){var n=[];if(Xu(n,ko,e,ql(e)),e=Zu,nr)e(n);else{nr=!0;try{nu(e,n)}finally{nr=!1,ou()}}}}function Ju(e,n,t){"focusin"===e?(qu(),ko=t,(Io=n).attachEvent("onpropertychange",Qu)):"focusout"===e&&qu()}function es(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $u(ko)}function ns(e,n){if("click"===e)return $u(n)}function ts(e,n){if("input"===e||"change"===e)return $u(n)}function rs(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n}function os(e,n){if(Fo(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!Ho.call(n,t[r])||!Fo(e[t[r]],n[t[r]]))return!1;return!0}function is(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function as(e,n){var t,r=is(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=is(r)}}function ls(){for(var e=window,n=Il();n instanceof e.HTMLIFrameElement;){try{var t="string"==typeof n.contentWindow.location.href}catch(e){t=!1}if(!t)break;n=Il((e=n.contentWindow).document)}return n}function us(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function ss(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;zo||null==Bo||Bo!==Il(r)||("selectionStart"in(r=Bo)&&us(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},jo&&os(jo,r)||(jo=r,0<(r=_s(Uo,"onSelect")).length&&(n=new Gr("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=Bo)))}function cs(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,function(e,n,t,r,o,i,a,l,u){if(lu.apply(this,arguments),ir){if(!ir)throw Error(gl(198));var s=ar;ir=!1,ar=null,lr||(lr=!0,ur=s)}}(r,n,void 0,e),e.currentTarget=null}function fs(e,n){n=0!=(4&n);for(var t=0;t<e.length;t++){var r=e[t],o=r.event;r=r.listeners;e:{var i=void 0;if(n)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,s=l.currentTarget;if(l=l.listener,u!==i&&o.isPropagationStopped())break e;cs(o,l,s),i=u}else for(a=0;a<r.length;a++){if(u=(l=r[a]).instance,s=l.currentTarget,l=l.listener,u!==i&&o.isPropagationStopped())break e;cs(o,l,s),i=u}}}if(lr)throw e=ur,lr=!1,ur=null,e}function ds(e,n){var t=Is(n),r=e+"__bubble";t.has(r)||(ms(n,e,2,!1),t.add(r))}function hs(e){e[Zo]||(e[Zo]=!0,pt.forEach((function(n){Xo.has(n)||ps(n,!1,e,null),ps(n,!0,e,null)})))}function ps(e,n,t,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=t;if("selectionchange"===e&&9!==t.nodeType&&(i=t.ownerDocument),null!==r&&!n&&Xo.has(e)){if("scroll"!==e)return;o|=2,i=r}var a=Is(i),l=e+"__"+(n?"capture":"bubble");a.has(l)||(n&&(o|=4),ms(i,e,o,n),a.add(l))}function ms(e,n,t,r){var o=Ir.get(n);switch(void 0===o?2:o){case 0:o=Lu;break;case 1:o=Nu;break;default:o=Du}t=o.bind(null,n,t,e),o=void 0,!rr||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(o=!0),r?void 0!==o?e.addEventListener(n,t,{capture:!0,passive:o}):e.addEventListener(n,t,!0):void 0!==o?e.addEventListener(n,t,{passive:o}):e.addEventListener(n,t,!1)}function gs(e,n,t,r,o){var i=r;if(0==(1&n)&&0==(2&n)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===o||8===l.nodeType&&l.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;a=a.return}for(;null!==l;){if(null===(a=As(l)))return;if(5===(u=a.tag)||6===u){r=i=a;continue e}l=l.parentNode}}r=r.return}!function(e,n,t){if(tr)return e(n,t);tr=!0;try{er(e,n,t)}finally{tr=!1,ou()}}((function(){var r=i,o=ql(t),a=[];e:{var l=Or.get(e);if(void 0!==l){var u=Gr,s=e;switch(e){case"keypress":if(0===Hu(t))break e;case"keydown":case"keyup":u=ho;break;case"focusin":s="focus",u=no;break;case"focusout":s="blur",u=no;break;case"beforeblur":case"afterblur":u=no;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=qr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=Jr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=vo;break;case xr:case Ar:case Pr:u=ro;break;case Cr:u=yo;break;case"scroll":u=Wr;break;case"wheel":u=wo;break;case"copy":case"cut":case"paste":u=io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=mo}var c=0!=(4&n),f=!c&&"scroll"===e,d=c?null!==l?l+"Capture":null:l;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&(null!=(m=iu(p,d))&&c.push(vs(p,m,h)))),f)break;p=p.return}0<c.length&&(l=new u(l,s,null,t,o),a.push({event:l,listeners:c}))}}if(0==(7&n)){if(u="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||0!=(16&n)||!(s=t.relatedTarget||t.fromElement)||!As(s)&&!s[ri])&&(u||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:window,u?(u=r,null!==(s=(s=t.relatedTarget||t.toElement)?As(s):null)&&(s!==(f=uu(s))||5!==s.tag&&6!==s.tag)&&(s=null)):(u=null,s=r),u!==s)){if(c=qr,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=mo,m="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?l:Cs(u),h=null==s?l:Cs(s),(l=new c(m,p+"leave",u,t,o)).target=f,l.relatedTarget=h,m=null,As(o)===r&&((c=new c(d,p+"enter",s,t,o)).target=h,c.relatedTarget=f,m=c),f=m,u&&s)e:{for(d=s,p=0,h=c=u;h;h=ys(h))p++;for(h=0,m=d;m;m=ys(m))h++;for(;0<p-h;)c=ys(c),p--;for(;0<h-p;)d=ys(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=ys(c),d=ys(d)}c=null}else c=null;null!==u&&bs(a,l,u,c,!1),null!==s&&null!==f&&bs(a,f,s,c,!0)}if("select"===(u=(l=r?Cs(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var g=Ku;else if(Wu(l))if(Lo)g=ts;else{g=es;var v=Ju}else(u=l.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=ns);switch(g&&(g=g(e,r))?Xu(a,g,t,o):(v&&v(e,l,r),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&Fl(l,"number",l.value)),v=r?Cs(r):window,e){case"focusin":(Wu(v)||"true"===v.contentEditable)&&(Bo=v,Uo=r,jo=null);break;case"focusout":jo=Uo=Bo=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,ss(a,t,o);break;case"selectionchange":if(Yo)break;case"keydown":case"keyup":ss(a,t,o)}var _;if(To)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Co?Gu(e,t)&&(y="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(y="onCompositionStart");y&&(xo&&"ko"!==t.locale&&(Co||"onCompositionStart"!==y?"onCompositionEnd"===y&&Co&&(_=Fu()):(Ur="value"in(Br=o)?Br.value:Br.textContent,Co=!0)),0<(v=_s(r,y)).length&&(y=new lo(y,e,null,t,o),a.push({event:y,listeners:v}),_?y.data=_:null!==(_=Vu(t))&&(y.data=_))),(_=Ro?function(e,n){switch(e){case"compositionend":return Vu(n);case"keypress":return 32!==n.which?null:(Po=!0,Ao);case"textInput":return(e=n.data)===Ao&&Po?null:e;default:return null}}(e,t):function(e,n){if(Co)return"compositionend"===e||!To&&Gu(e,n)?(e=Fu(),jr=Ur=Br=null,Co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xo&&"ko"!==n.locale?null:n.data;default:return null}}(e,t))&&(0<(r=_s(r,"onBeforeInput")).length&&(o=new lo("onBeforeInput","beforeinput",null,t,o),a.push({event:o,listeners:r}),o.data=_))}fs(a,n)}))}function vs(e,n,t){return{instance:e,listener:n,currentTarget:t}}function _s(e,n){for(var t=n+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=iu(e,t))&&r.unshift(vs(e,i,o)),null!=(i=iu(e,n))&&r.push(vs(e,i,o))),e=e.return}return r}function ys(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function bs(e,n,t,r,o){for(var i=n._reactName,a=[];null!==t&&t!==r;){var l=t,u=l.alternate,s=l.stateNode;if(null!==u&&u===r)break;5===l.tag&&null!==s&&(l=s,o?null!=(u=iu(t,i))&&a.unshift(vs(t,u,l)):o||null!=(u=iu(t,i))&&a.push(vs(t,u,l))),t=t.return}0!==a.length&&e.push({event:n,listeners:a})}function ws(){}function Es(e,n){switch(e){case"button":case"input":case"select":case"textarea":return!!n.autoFocus}return!1}function Ts(e,n){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}function Ss(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Rs(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break}return e}function xs(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}function As(e){var n=e[ni];if(n)return n;for(var t=e.parentNode;t;){if(n=t[ri]||t[ni]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=xs(e);null!==e;){if(t=e[ni])return t;e=xs(e)}return n}t=(e=t).parentNode}return null}function Ps(e){return!(e=e[ni]||e[ri])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Cs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(gl(33))}function Os(e){return e[ti]||null}function Is(e){var n=e[oi];return void 0===n&&(n=e[oi]=new Set),n}function ks(e){return{current:e}}function Ls(e){0>ai||(e.current=ii[ai],ii[ai]=null,ai--)}function Ns(e,n){ai++,ii[ai]=e.current,e.current=n}function Ds(e,n){var t=e.type.contextTypes;if(!t)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in t)i[o]=n[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ms(e){return null!=(e=e.childContextTypes)}function Fs(){Ls(si),Ls(ui)}function Hs(e,n,t){if(ui.current!==li)throw Error(gl(168));Ns(ui,n),Ns(si,t)}function Ys(e,n,t){var r=e.stateNode;if(e=n.childContextTypes,"function"!=typeof r.getChildContext)return t;for(var o in r=r.getChildContext())if(!(o in e))throw Error(gl(108,xl(n)||"Unknown",o));return dt({},t,r)}function Bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,ci=ui.current,Ns(ui,e),Ns(si,si.current),!0}function Us(e,n,t){var r=e.stateNode;if(!r)throw Error(gl(169));t?(e=Ys(e,n,ci),r.__reactInternalMemoizedMergedChildContext=e,Ls(si),Ls(ui),Ns(ui,e)):Ls(si),Ns(si,t)}function js(){switch(yi()){case bi:return 99;case wi:return 98;case Ei:return 97;case Ti:return 96;case Si:return 95;default:throw Error(gl(332))}}function zs(e){switch(e){case 99:return bi;case 98:return wi;case 97:return Ei;case 96:return Ti;case 95:return Si;default:throw Error(gl(332))}}function Gs(e,n){return e=zs(e),hi(e,n)}function Vs(e,n,t){return e=zs(e),pi(e,n,t)}function Ws(){if(null!==Pi){var e=Pi;Pi=null,mi(e)}Xs()}function Xs(){if(!Ci&&null!==Ai){Ci=!0;var e=0;try{var n=Ai;Gs(99,(function(){for(;e<n.length;e++){var t=n[e];do{t=t(!0)}while(null!==t)}})),Ai=null}catch(n){throw null!==Ai&&(Ai=Ai.slice(e+1)),pi(bi,Ws),n}finally{Ci=!1}}}function Zs(e,n){if(e&&e.defaultProps){for(var t in n=dt({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}function $s(){Mi=Di=Ni=null}function Ks(e){var n=Li.current;Ls(Li),e.type._context._currentValue=n}function qs(e,n){for(;null!==e;){var t=e.alternate;if((e.childLanes&n)===n){if(null===t||(t.childLanes&n)===n)break;t.childLanes|=n}else e.childLanes|=n,null!==t&&(t.childLanes|=n);e=e.return}}function Qs(e,n){Ni=e,Mi=Di=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&n)&&(fa=!0),e.firstContext=null)}function Js(e,n){if(Mi!==e&&!1!==n&&0!==n)if("number"==typeof n&&1073741823!==n||(Mi=e,n=1073741823),n={context:e,observedBits:n,next:null},null===Di){if(null===Ni)throw Error(gl(308));Di=n,Ni.dependencies={lanes:0,firstContext:n,responders:null}}else Di=Di.next=n;return e._currentValue}function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function nc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tc(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function rc(e,n){if(null!==(e=e.updateQueue)){var t=(e=e.shared).pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}}function oc(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var o=null,i=null;if(null!==(t=t.firstBaseUpdate)){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===i?o=i=a:i=i.next=a,t=t.next}while(null!==t);null===i?o=i=n:i=i.next=n}else o=i=n;return t={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function ic(e,n,t,r){var o=e.updateQueue;Fi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,s=u.next;u.next=null,null===a?i=s:a.next=s,a=u;var c=e.alternate;if(null!==c){var f=(c=c.updateQueue).lastBaseUpdate;f!==a&&(null===f?c.firstBaseUpdate=s:f.next=s,c.lastBaseUpdate=u)}}if(null!==i){for(f=o.baseState,a=0,c=s=u=null;;){l=i.lane;var d=i.eventTime;if((r&l)===l){null!==c&&(c=c.next={eventTime:d,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,p=i;switch(l=n,d=t,p.tag){case 1:if("function"==typeof(h=p.payload)){f=h.call(d,f,l);break e}f=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(l="function"==typeof(h=p.payload)?h.call(d,f,l):h))break e;f=dt({},f,l);break e;case 2:Fi=!0}}null!==i.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[i]:l.push(i))}else d={eventTime:d,lane:l,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(s=c=d,u=f):c=c.next=d,a|=l;if(null===(i=i.next)){if(null===(l=o.shared.pending))break;i=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===c&&(u=f),o.baseState=u,o.firstBaseUpdate=s,o.lastBaseUpdate=c,Ia|=a,e.lanes=a,e.memoizedState=f}}function ac(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],o=r.callback;if(null!==o){if(r.callback=null,r=t,"function"!=typeof o)throw Error(gl(191,o));o.call(r)}}}function lc(e,n,t,r){t=null==(t=t(r,n=e.memoizedState))?n:dt({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}function uc(e,n,t,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!n.prototype||!n.prototype.isPureReactComponent||(!os(t,r)||!os(o,i))}function sc(e,n,t){var r=!1,o=li,i=n.contextType;return"object"==typeof i&&null!==i?i=Js(i):(o=Ms(n)?ci:ui.current,i=(r=null!=(r=n.contextTypes))?Ds(e,o):li),n=new n(t,i),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Yi,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),n}function cc(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Yi.enqueueReplaceState(n,n.state,null)}function fc(e,n,t,r){var o=e.stateNode;o.props=t,o.state=e.memoizedState,o.refs=Hi,ec(e);var i=n.contextType;"object"==typeof i&&null!==i?o.context=Js(i):(i=Ms(n)?ci:ui.current,o.context=Ds(e,i)),ic(e,t,o,r),o.state=e.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(lc(e,n,i,t),o.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(n=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),n!==o.state&&Yi.enqueueReplaceState(o,o.state,null),ic(e,t,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4)}function dc(e,n,t){if(null!==(e=t.ref)&&"function"!=typeof e&&"object"!=typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(gl(309));var r=t.stateNode}if(!r)throw Error(gl(147,e));var o=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===o?n.ref:((n=function(e){var n=r.refs;n===Hi&&(n=r.refs={}),null===e?delete n[o]:n[o]=e})._stringRef=o,n)}if("string"!=typeof e)throw Error(gl(284));if(!t._owner)throw Error(gl(290,e))}return e}function hc(e,n){if("textarea"!==e.type)throw Error(gl(31,"[object Object]"===Object.prototype.toString.call(n)?"object with keys {"+Object.keys(n).join(", ")+"}":n))}function pc(e){function n(n,t){if(e){var r=n.lastEffect;null!==r?(r.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t,t.nextEffect=null,t.flags=8}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function o(e,n){return(e=bd(e,n)).index=0,e.sibling=null,e}function i(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags=2,t):r:(n.flags=2,t):t}function a(n){return e&&null===n.alternate&&(n.flags=2),n}function l(e,n,t,r){return null===n||6!==n.tag?((n=Sd(t,e.mode,r)).return=e,n):((n=o(n,t)).return=e,n)}function u(e,n,t,r){return null!==n&&n.elementType===t.type?((r=o(n,t.props)).ref=dc(e,n,t),r.return=e,r):((r=wd(t.type,t.key,t.props,null,e.mode,r)).ref=dc(e,n,t),r.return=e,r)}function s(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Rd(t,e.mode,r)).return=e,n):((n=o(n,t.children||[])).return=e,n)}function c(e,n,t,r,i){return null===n||7!==n.tag?((n=Ed(t,e.mode,r,i)).return=e,n):((n=o(n,t)).return=e,n)}function f(e,n,t){if("string"==typeof n||"number"==typeof n)return(n=Sd(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case St:return(t=wd(n.type,n.key,n.props,null,e.mode,t)).ref=dc(e,null,n),t.return=e,t;case Rt:return(n=Rd(n,e.mode,t)).return=e,n}if(Bi(n)||El(n))return(n=Ed(n,e.mode,t,null)).return=e,n;hc(e,n)}return null}function d(e,n,t,r){var o=null!==n?n.key:null;if("string"==typeof t||"number"==typeof t)return null!==o?null:l(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case St:return t.key===o?t.type===xt?c(e,n,t.props.children,r,o):u(e,n,t,r):null;case Rt:return t.key===o?s(e,n,t,r):null}if(Bi(t)||El(t))return null!==o?null:c(e,n,t,r,null);hc(e,t)}return null}function h(e,n,t,r,o){if("string"==typeof r||"number"==typeof r)return l(n,e=e.get(t)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case St:return e=e.get(null===r.key?t:r.key)||null,r.type===xt?c(n,e,r.props.children,o,r.key):u(n,e,r,o);case Rt:return s(n,e=e.get(null===r.key?t:r.key)||null,r,o)}if(Bi(r)||El(r))return c(n,e=e.get(t)||null,r,o,null);hc(n,r)}return null}function p(o,a,l,u){for(var s=null,c=null,p=a,m=a=0,g=null;null!==p&&m<l.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var v=d(o,p,l[m],u);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&n(o,p),a=i(v,a,m),null===c?s=v:c.sibling=v,c=v,p=g}if(m===l.length)return t(o,p),s;if(null===p){for(;m<l.length;m++)null!==(p=f(o,l[m],u))&&(a=i(p,a,m),null===c?s=p:c.sibling=p,c=p);return s}for(p=r(o,p);m<l.length;m++)null!==(g=h(p,o,m,l[m],u))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),a=i(g,a,m),null===c?s=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return n(o,e)})),s}function m(o,a,l,u){var s=El(l);if("function"!=typeof s)throw Error(gl(150));if(null==(l=s.call(l)))throw Error(gl(151));for(var c=s=null,p=a,m=a=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var _=d(o,p,v.value,u);if(null===_){null===p&&(p=g);break}e&&p&&null===_.alternate&&n(o,p),a=i(_,a,m),null===c?s=_:c.sibling=_,c=_,p=g}if(v.done)return t(o,p),s;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=f(o,v.value,u))&&(a=i(v,a,m),null===c?s=v:c.sibling=v,c=v);return s}for(p=r(o,p);!v.done;m++,v=l.next())null!==(v=h(p,o,m,v.value,u))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),a=i(v,a,m),null===c?s=v:c.sibling=v,c=v);return e&&p.forEach((function(e){return n(o,e)})),s}return function(e,r,i,l){var u="object"==typeof i&&null!==i&&i.type===xt&&null===i.key;u&&(i=i.props.children);var s="object"==typeof i&&null!==i;if(s)switch(i.$$typeof){case St:e:{for(s=i.key,u=r;null!==u;){if(u.key===s){switch(u.tag){case 7:if(i.type===xt){t(e,u.sibling),(r=o(u,i.props.children)).return=e,e=r;break e}break;default:if(u.elementType===i.type){t(e,u.sibling),(r=o(u,i.props)).ref=dc(e,u,i),r.return=e,e=r;break e}}t(e,u);break}n(e,u),u=u.sibling}i.type===xt?((r=Ed(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=wd(i.type,i.key,i.props,null,e.mode,l)).ref=dc(e,r,i),l.return=e,e=l)}return a(e);case Rt:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){t(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}t(e,r);break}n(e,r),r=r.sibling}(r=Rd(i,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(t(e,r.sibling),(r=o(r,i)).return=e,e=r):(t(e,r),(r=Sd(i,e.mode,l)).return=e,e=r),a(e);if(Bi(i))return p(e,r,i,l);if(El(i))return m(e,r,i,l);if(s&&hc(e,i),void 0===i&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(gl(152,xl(e.type)||"Component"))}return t(e,r)}}function mc(e){if(e===zi)throw Error(gl(174));return e}function gc(e,n){switch(Ns(Wi,n),Ns(Vi,e),Ns(Gi,zi),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Vl(null,"");break;default:n=Vl(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}Ls(Gi),Ns(Gi,n)}function vc(){Ls(Gi),Ls(Vi),Ls(Wi)}function _c(e){mc(Wi.current);var n=mc(Gi.current),t=Vl(n,e.type);n!==t&&(Ns(Vi,e),Ns(Gi,t))}function yc(e){Vi.current===e&&(Ls(Gi),Ls(Vi))}function bc(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(64&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wc(e,n){var t=_d(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=n,t.return=e,t.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t}function Ec(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,!0);case 13:default:return!1}}function Tc(e){if(Ki){var n=$i;if(n){var t=n;if(!Ec(e,n)){if(!(n=Rs(t.nextSibling))||!Ec(e,n))return e.flags=-1025&e.flags|2,Ki=!1,void(Zi=e);wc(Zi,t)}Zi=e,$i=Rs(n.firstChild)}else e.flags=-1025&e.flags|2,Ki=!1,Zi=e}}function Sc(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Zi=e}function Rc(e){if(e!==Zi)return!1;if(!Ki)return Sc(e),Ki=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!Ts(n,e.memoizedProps))for(n=$i;n;)wc(e,n),n=Rs(n.nextSibling);if(Sc(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(gl(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t){if(0===n){$i=Rs(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}$i=null}}else $i=Zi?Rs(e.stateNode.nextSibling):null;return!0}function xc(){$i=Zi=null,Ki=!1}function Ac(){for(var e=0;e<qi.length;e++)qi[e]._workInProgressVersionPrimary=null;qi.length=0}function Pc(){throw Error(gl(321))}function Cc(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!Fo(e[t],n[t]))return!1;return!0}function Oc(e,n,t,r,o,i){if(ea=i,na=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Qi.current=null===e||null===e.memoizedState?la:ua,e=t(r,o),ia){i=0;do{if(ia=!1,!(25>i))throw Error(gl(301));i+=1,ra=ta=null,n.updateQueue=null,Qi.current=sa,e=t(r,o)}while(ia)}if(Qi.current=aa,n=null!==ta&&null!==ta.next,ea=0,ra=ta=na=null,oa=!1,n)throw Error(gl(300));return e}function Ic(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ra?na.memoizedState=ra=e:ra=ra.next=e,ra}function kc(){if(null===ta){var e=na.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var n=null===ra?na.memoizedState:ra.next;if(null!==n)ra=n,ta=e;else{if(null===e)throw Error(gl(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===ra?na.memoizedState=ra=e:ra=ra.next=e}return ra}function Lc(e,n){return"function"==typeof n?n(e):n}function Nc(e){var n=kc(),t=n.queue;if(null===t)throw Error(gl(311));t.lastRenderedReducer=e;var r=ta,o=r.baseQueue,i=t.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,t.pending=null}if(null!==o){o=o.next,r=r.baseState;var l=a=i=null,u=o;do{var s=u.lane;if((ea&s)===s)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var c={lane:s,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=c,i=r):l=l.next=c,na.lanes|=s,Ia|=s}u=u.next}while(null!==u&&u!==o);null===l?i=r:l.next=a,Fo(r,n.memoizedState)||(fa=!0),n.memoizedState=r,n.baseState=i,n.baseQueue=l,t.lastRenderedState=r}return[n.memoizedState,t.dispatch]}function Dc(e){var n=kc(),t=n.queue;if(null===t)throw Error(gl(311));t.lastRenderedReducer=e;var r=t.dispatch,o=t.pending,i=n.memoizedState;if(null!==o){t.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);Fo(i,n.memoizedState)||(fa=!0),n.memoizedState=i,null===n.baseQueue&&(n.baseState=i),t.lastRenderedState=i}return[i,r]}function Mc(e,n,t){var r=n._getVersion;r=r(n._source);var o=n._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=(ea&e)===e)&&(n._workInProgressVersionPrimary=r,qi.push(n))),e)return t(n._source);throw qi.push(n),Error(gl(350))}function Fc(e,n,t,r){var o=Ta;if(null===o)throw Error(gl(349));var i=n._getVersion,a=i(n._source),l=Qi.current,u=l.useState((function(){return Mc(o,n,t)})),s=u[1],c=u[0];u=ra;var f=e.memoizedState,d=f.refs,h=d.getSnapshot,p=f.source;f=f.subscribe;var m=na;return e.memoizedState={refs:d,source:n,subscribe:r},l.useEffect((function(){d.getSnapshot=t,d.setSnapshot=s;var e=i(n._source);if(!Fo(a,e)){e=t(n._source),Fo(c,e)||(s(e),e=Uf(m),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,l=e;0<l;){var u=31-Nr(l),f=1<<u;r[u]|=e,l&=~f}}}),[t,n,r]),l.useEffect((function(){return r(n._source,(function(){var e=d.getSnapshot,t=d.setSnapshot;try{t(e(n._source));var r=Uf(m);o.mutableReadLanes|=r&o.pendingLanes}catch(e){t((function(){throw e}))}}))}),[n,r]),Fo(h,t)&&Fo(p,n)&&Fo(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:c}).dispatch=s=ef.bind(null,na,e),u.queue=e,u.baseQueue=null,c=Mc(o,n,t),u.memoizedState=u.baseState=c),c}function Hc(e,n,t){return Fc(kc(),e,n,t)}function Yc(e){var n=Ic();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:e}).dispatch=ef.bind(null,na,e),[n.memoizedState,e]}function Bc(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=na.updateQueue)?(n={lastEffect:null},na.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Uc(e){return e={current:e},Ic().memoizedState=e}function jc(){return kc().memoizedState}function zc(e,n,t,r){var o=Ic();na.flags|=e,o.memoizedState=Bc(1|n,t,void 0,void 0===r?null:r)}function Gc(e,n,t,r){var o=kc();r=void 0===r?null:r;var i=void 0;if(null!==ta){var a=ta.memoizedState;if(i=a.destroy,null!==r&&Cc(r,a.deps))return void Bc(n,t,i,r)}na.flags|=e,o.memoizedState=Bc(1|n,t,i,r)}function Vc(e,n){return zc(516,4,e,n)}function Wc(e,n){return Gc(516,4,e,n)}function Xc(e,n){return Gc(4,2,e,n)}function Zc(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!=n?(e=e(),n.current=e,function(){n.current=null}):void 0}function $c(e,n,t){return t=null!=t?t.concat([e]):null,Gc(4,2,Zc.bind(null,n,e),t)}function Kc(){}function qc(e,n){var t=kc();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Cc(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Qc(e,n){var t=kc();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Cc(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Jc(e,n){var t=js();Gs(98>t?98:t,(function(){e(!0)})),Gs(97<t?97:t,(function(){var t=Ji.transition;Ji.transition=1;try{e(!1),n()}finally{Ji.transition=t}}))}function ef(e,n,t){var r=Bf(),o=Uf(e),i={lane:o,action:t,eagerReducer:null,eagerState:null,next:null},a=n.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),n.pending=i,a=e.alternate,e===na||null!==a&&a===na)ia=oa=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var l=n.lastRenderedState,u=a(l,t);if(i.eagerReducer=a,i.eagerState=u,Fo(u,l))return}catch(e){}jf(e,o,r)}}function nf(e,n,t,r){n.child=null===e?ji(n,null,t,r):Ui(n,e.child,t,r)}function tf(e,n,t,r,o){t=t.render;var i=n.ref;return Qs(n,o),r=Oc(e,n,t,r,i,o),null===e||fa?(n.flags|=1,nf(e,n,r,o),n.child):(n.updateQueue=e.updateQueue,n.flags&=-517,e.lanes&=~o,yf(e,n,o))}function rf(e,n,t,r,o,i){if(null===e){var a=t.type;return"function"!=typeof a||yd(a)||void 0!==a.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=wd(t.type,null,r,n,n.mode,i)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,of(e,n,a,r,o,i))}return a=e.child,0==(o&i)&&(o=a.memoizedProps,(t=null!==(t=t.compare)?t:os)(o,r)&&e.ref===n.ref)?yf(e,n,i):(n.flags|=1,(e=bd(a,r)).ref=n.ref,e.return=n,n.child=e)}function of(e,n,t,r,o,i){if(null!==e&&os(e.memoizedProps,r)&&e.ref===n.ref){if(fa=!1,0==(i&o))return n.lanes=e.lanes,yf(e,n,i);0!=(16384&e.flags)&&(fa=!0)}return uf(e,n,t,r,i)}function af(e,n,t){var r=n.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&n.mode))n.memoizedState={baseLanes:0},Kf(n,t);else{if(0==(1073741824&t))return e=null!==i?i.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e},Kf(n,e),null;n.memoizedState={baseLanes:0},Kf(n,null!==i?i.baseLanes:t)}else null!==i?(r=i.baseLanes|t,n.memoizedState=null):r=t,Kf(n,r);return nf(e,n,o,t),n.child}function lf(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=128)}function uf(e,n,t,r,o){var i=Ms(t)?ci:ui.current;return i=Ds(n,i),Qs(n,o),t=Oc(e,n,t,r,i,o),null===e||fa?(n.flags|=1,nf(e,n,t,o),n.child):(n.updateQueue=e.updateQueue,n.flags&=-517,e.lanes&=~o,yf(e,n,o))}function sf(e,n,t,r,o){if(Ms(t)){var i=!0;Bs(n)}else i=!1;if(Qs(n,o),null===n.stateNode)null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),sc(n,t,r),fc(n,t,r,o),r=!0;else if(null===e){var a=n.stateNode,l=n.memoizedProps;a.props=l;var u=a.context,s=t.contextType;"object"==typeof s&&null!==s?s=Js(s):s=Ds(n,s=Ms(t)?ci:ui.current);var c=t.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||u!==s)&&cc(n,a,r,s),Fi=!1;var d=n.memoizedState;a.state=d,ic(n,r,a,o),u=n.memoizedState,l!==r||d!==u||si.current||Fi?("function"==typeof c&&(lc(n,t,c,r),u=n.memoizedState),(l=Fi||uc(n,t,l,r,d,u,s))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(n.flags|=4)):("function"==typeof a.componentDidMount&&(n.flags|=4),n.memoizedProps=r,n.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):("function"==typeof a.componentDidMount&&(n.flags|=4),r=!1)}else{a=n.stateNode,nc(e,n),l=n.memoizedProps,s=n.type===n.elementType?l:Zs(n.type,l),a.props=s,f=n.pendingProps,d=a.context,"object"==typeof(u=t.contextType)&&null!==u?u=Js(u):u=Ds(n,u=Ms(t)?ci:ui.current);var h=t.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==f||d!==u)&&cc(n,a,r,u),Fi=!1,d=n.memoizedState,a.state=d,ic(n,r,a,o);var p=n.memoizedState;l!==f||d!==p||si.current||Fi?("function"==typeof h&&(lc(n,t,h,r),p=n.memoizedState),(s=Fi||uc(n,t,s,r,d,p,u))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(n.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(n.flags|=256)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(n.flags|=256),n.memoizedProps=r,n.memoizedState=p),a.props=r,a.state=p,a.context=u,r=s):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(n.flags|=256),r=!1)}return cf(e,n,t,r,i,o)}function cf(e,n,t,r,o,i){lf(e,n);var a=0!=(64&n.flags);if(!r&&!a)return o&&Us(n,t,!1),yf(e,n,i);r=n.stateNode,ca.current=n;var l=a&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&a?(n.child=Ui(n,e.child,null,i),n.child=Ui(n,null,l,i)):nf(e,n,l,i),n.memoizedState=r.state,o&&Us(n,t,!0),n.child}function ff(e){var n=e.stateNode;n.pendingContext?Hs(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Hs(0,n.context,!1),gc(e,n.containerInfo)}function df(e,n,t){var r,o=n.pendingProps,i=Xi.current,a=!1;return(r=0!=(64&n.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&i)),r?(a=!0,n.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),Ns(Xi,1&i),null===e?(void 0!==o.fallback&&Tc(n),e=o.children,i=o.fallback,a?(e=hf(n,e,i,t),n.child.memoizedState={baseLanes:t},n.memoizedState=da,e):"number"==typeof o.unstable_expectedLoadTime?(e=hf(n,e,i,t),n.child.memoizedState={baseLanes:t},n.memoizedState=da,n.lanes=33554432,e):((t=Td({mode:"visible",children:e},n.mode,t,null)).return=n,n.child=t)):(e.memoizedState,a?(o=mf(e,n,o.children,o.fallback,t),a=n.child,i=e.child.memoizedState,a.memoizedState=null===i?{baseLanes:t}:{baseLanes:i.baseLanes|t},a.childLanes=e.childLanes&~t,n.memoizedState=da,o):(t=pf(e,n,o.children,t),n.memoizedState=null,t))}function hf(e,n,t,r){var o=e.mode,i=e.child;return n={mode:"hidden",children:n},0==(2&o)&&null!==i?(i.childLanes=0,i.pendingProps=n):i=Td(n,o,0,null),t=Ed(t,o,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,t}function pf(e,n,t,r){var o=e.child;return e=o.sibling,t=bd(o,{mode:"visible",children:t}),0==(2&n.mode)&&(t.lanes=r),t.return=n,t.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,n.firstEffect=n.lastEffect=e),n.child=t}function mf(e,n,t,r,o){var i=n.mode,a=e.child;e=a.sibling;var l={mode:"hidden",children:t};return 0==(2&i)&&n.child!==a?((t=n.child).childLanes=0,t.pendingProps=l,null!==(a=t.lastEffect)?(n.firstEffect=t.firstEffect,n.lastEffect=a,a.nextEffect=null):n.firstEffect=n.lastEffect=null):t=bd(a,l),null!==e?r=bd(e,r):(r=Ed(r,i,o,null)).flags|=2,r.return=n,t.return=n,t.sibling=r,n.child=t,r}function gf(e,n){e.lanes|=n;var t=e.alternate;null!==t&&(t.lanes|=n),qs(e.return,n)}function vf(e,n,t,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:o,lastEffect:i}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=o,a.lastEffect=i)}function _f(e,n,t){var r=n.pendingProps,o=r.revealOrder,i=r.tail;if(nf(e,n,r.children,t),0!=(2&(r=Xi.current)))r=1&r|2,n.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&gf(e,t);else if(19===e.tag)gf(e,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ns(Xi,r),0==(2&n.mode))n.memoizedState=null;else switch(o){case"forwards":for(t=n.child,o=null;null!==t;)null!==(e=t.alternate)&&null===bc(e)&&(o=t),t=t.sibling;null===(t=o)?(o=n.child,n.child=null):(o=t.sibling,t.sibling=null),vf(n,!1,o,t,i,n.lastEffect);break;case"backwards":for(t=null,o=n.child,n.child=null;null!==o;){if(null!==(e=o.alternate)&&null===bc(e)){n.child=o;break}e=o.sibling,o.sibling=t,t=o,o=e}vf(n,!0,t,null,i,n.lastEffect);break;case"together":vf(n,!1,null,null,void 0,n.lastEffect);break;default:n.memoizedState=null}return n.child}function yf(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Ia|=n.lanes,0!=(t&n.childLanes)){if(null!==e&&n.child!==e.child)throw Error(gl(153));if(null!==n.child){for(t=bd(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=bd(e,e.pendingProps)).return=n;t.sibling=null}return n.child}return null}function bf(e,n){if(!Ki)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wf(e,n,t){var r=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ms(n.type)&&Fs(),null;case 3:return vc(),Ls(si),Ls(ui),Ac(),(r=n.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Rc(n)?n.flags|=4:r.hydrate||(n.flags|=256)),pa(n),null;case 5:yc(n);var o=mc(Wi.current);if(t=n.type,null!==e&&null!=n.stateNode)ma(e,n,t,r,o),e.ref!==n.ref&&(n.flags|=128);else{if(!r){if(null===n.stateNode)throw Error(gl(166));return null}if(e=mc(Gi.current),Rc(n)){r=n.stateNode,t=n.type;var i=n.memoizedProps;switch(r[ni]=n,r[ti]=i,t){case"dialog":ds("cancel",r),ds("close",r);break;case"iframe":case"object":case"embed":ds("load",r);break;case"video":case"audio":for(e=0;e<Wo.length;e++)ds(Wo[e],r);break;case"source":ds("error",r);break;case"img":case"image":case"link":ds("error",r),ds("load",r);break;case"details":ds("toggle",r);break;case"input":Ll(r,i),ds("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ds("invalid",r);break;case"textarea":Ul(r,i),ds("invalid",r)}for(var a in $l(t,i),e=null,i)i.hasOwnProperty(a)&&(o=i[a],"children"===a?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):mt.hasOwnProperty(a)&&null!=o&&"onScroll"===a&&ds("scroll",r));switch(t){case"input":Cl(r),Ml(r,i,!0);break;case"textarea":Cl(r),zl(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=ws)}r=e,n.updateQueue=r,null!==r&&(n.flags|=4)}else{switch(a=9===o.nodeType?o:o.ownerDocument,e===Vt.html&&(e=Gl(t)),e===Vt.html?"script"===t?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(t,{is:r.is}):(e=a.createElement(t),"select"===t&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,t),e[ni]=n,e[ti]=r,ha(e,n,!1,!1),n.stateNode=e,a=Kl(t,r),t){case"dialog":ds("cancel",e),ds("close",e),o=r;break;case"iframe":case"object":case"embed":ds("load",e),o=r;break;case"video":case"audio":for(o=0;o<Wo.length;o++)ds(Wo[o],e);o=r;break;case"source":ds("error",e),o=r;break;case"img":case"image":case"link":ds("error",e),ds("load",e),o=r;break;case"details":ds("toggle",e),o=r;break;case"input":Ll(e,r),o=kl(e,r),ds("invalid",e);break;case"option":o=Hl(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=dt({},r,{value:void 0}),ds("invalid",e);break;case"textarea":Ul(e,r),o=Bl(e,r),ds("invalid",e);break;default:o=r}$l(t,o);var l=o;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];"style"===i?Zl(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&Xt(e,u):"children"===i?"string"==typeof u?("textarea"!==t||""!==u)&&Wl(e,u):"number"==typeof u&&Wl(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(mt.hasOwnProperty(i)?null!=u&&"onScroll"===i&&ds("scroll",e):null!=u&&wl(e,i,u,a))}switch(t){case"input":Cl(e),Ml(e,r,!1);break;case"textarea":Cl(e),zl(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Al(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?Yl(e,!!r.multiple,i,!1):null!=r.defaultValue&&Yl(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=ws)}Es(t,r)&&(n.flags|=4)}null!==n.ref&&(n.flags|=128)}return null;case 6:if(e&&null!=n.stateNode)ga(e,n,e.memoizedProps,r);else{if("string"!=typeof r&&null===n.stateNode)throw Error(gl(166));t=mc(Wi.current),mc(Gi.current),Rc(n)?(r=n.stateNode,t=n.memoizedProps,r[ni]=n,r.nodeValue!==t&&(n.flags|=4)):((r=(9===t.nodeType?t:t.ownerDocument).createTextNode(r))[ni]=n,n.stateNode=r)}return null;case 13:return Ls(Xi),r=n.memoizedState,0!=(64&n.flags)?(n.lanes=t,n):(r=null!==r,t=!1,null===e?void 0!==n.memoizedProps.fallback&&Rc(n):t=null!==e.memoizedState,r&&!t&&0!=(2&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&Xi.current)?0===Pa&&(Pa=3):(0!==Pa&&3!==Pa||(Pa=4),null===Ta||0==(134217727&Ia)&&0==(134217727&ka)||Wf(Ta,Ra))),(r||t)&&(n.flags|=4),null);case 4:return vc(),pa(n),null===e&&hs(n.stateNode.containerInfo),null;case 10:return Ks(n),null;case 17:return Ms(n.type)&&Fs(),null;case 19:if(Ls(Xi),null===(r=n.memoizedState))return null;if(i=0!=(64&n.flags),null===(a=r.rendering))if(i)bf(r,!1);else{if(0!==Pa||null!==e&&0!=(64&e.flags))for(e=n.child;null!==e;){if(null!==(a=bc(e))){for(n.flags|=64,bf(r,!1),null!==(i=a.updateQueue)&&(n.updateQueue=i,n.flags|=4),null===r.lastEffect&&(n.firstEffect=null),n.lastEffect=r.lastEffect,r=t,t=n.child;null!==t;)e=r,(i=t).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(a=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return Ns(Xi,1&Xi.current|2),n.child}e=e.sibling}null!==r.tail&&Ii()>Ma&&(n.flags|=64,i=!0,bf(r,!1),n.lanes=33554432)}else{if(!i)if(null!==(e=bc(a))){if(n.flags|=64,i=!0,null!==(t=e.updateQueue)&&(n.updateQueue=t,n.flags|=4),bf(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!Ki)return null!==(n=n.lastEffect=r.lastEffect)&&(n.nextEffect=null),null}else 2*Ii()-r.renderingStartTime>Ma&&1073741824!==t&&(n.flags|=64,i=!0,bf(r,!1),n.lanes=33554432);r.isBackwards?(a.sibling=n.child,n.child=a):(null!==(t=r.last)?t.sibling=a:n.child=a,r.last=a)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=n.lastEffect,r.renderingStartTime=Ii(),t.sibling=null,n=Xi.current,Ns(Xi,i?1&n|2:1&n),t):null;case 23:case 24:return qf(),null!==e&&null!==e.memoizedState!=(null!==n.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(n.flags|=4),null}throw Error(gl(156,n.tag))}function Ef(e){switch(e.tag){case 1:Ms(e.type)&&Fs();var n=e.flags;return 4096&n?(e.flags=-4097&n|64,e):null;case 3:if(vc(),Ls(si),Ls(ui),Ac(),0!=(64&(n=e.flags)))throw Error(gl(285));return e.flags=-4097&n|64,e;case 5:return yc(e),null;case 13:return Ls(Xi),4096&(n=e.flags)?(e.flags=-4097&n|64,e):null;case 19:return Ls(Xi),null;case 4:return vc(),null;case 10:return Ks(e),null;case 23:case 24:return qf(),null;default:return null}}function Tf(e,n){try{var t="",r=n;do{t+=Rl(r),r=r.return}while(r);var o=t}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:n,stack:o}}function Sf(e,n){try{console.error(n.value)}catch(e){setTimeout((function(){throw e}))}}function Rf(e,n,t){(t=tc(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Ha||(Ha=!0,Ya=r),Sf(0,n)},t}function xf(e,n,t){(t=tc(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=n.value;t.payload=function(){return Sf(0,n),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(t.callback=function(){"function"!=typeof r&&(null===Ba?Ba=new Set([this]):Ba.add(this),Sf(0,n));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),t}function Af(e){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){pd(e,n)}else n.current=null}function Pf(e,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&n.flags&&null!==e){var t=e.memoizedProps,r=e.memoizedState;n=(e=n.stateNode).getSnapshotBeforeUpdate(n.elementType===n.type?t:Zs(n.type,t),r),e.__reactInternalSnapshotBeforeUpdate=n}return;case 3:return void(256&n.flags&&Ss(n.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(gl(163))}function Cf(e,n,t){switch(t.tag){case 0:case 11:case 15:case 22:if(null!==(n=null!==(n=t.updateQueue)?n.lastEffect:null)){e=n=n.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==n)}if(null!==(n=null!==(n=t.updateQueue)?n.lastEffect:null)){e=n=n.next;do{var o=e;r=o.next,0!=(4&(o=o.tag))&&0!=(1&o)&&(fd(t,e),cd(t,e)),e=r}while(e!==n)}return;case 1:return e=t.stateNode,4&t.flags&&(null===n?e.componentDidMount():(r=t.elementType===t.type?n.memoizedProps:Zs(t.type,n.memoizedProps),e.componentDidUpdate(r,n.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(n=t.updateQueue)&&ac(t,n,e));case 3:if(null!==(n=t.updateQueue)){if(e=null,null!==t.child)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}ac(t,n,e)}return;case 5:return e=t.stateNode,void(null===n&&4&t.flags&&Es(t.type,t.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===t.memoizedState&&(t=t.alternate,null!==t&&(t=t.memoizedState,null!==t&&(t=t.dehydrated,null!==t&&wu(t)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(gl(163))}function Of(e,n){for(var t=e;;){if(5===t.tag){var r=t.stateNode;if(n)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var o=t.memoizedProps.style;o=null!=o&&o.hasOwnProperty("display")?o.display:null,r.style.display=Xl("display",o)}}else if(6===t.tag)t.stateNode.nodeValue=n?"":t.memoizedProps;else if((23!==t.tag&&24!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function If(e,n){if(di&&"function"==typeof di.onCommitFiberUnmount)try{di.onCommitFiberUnmount(fi,n)}catch(e){}switch(n.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=n.updateQueue)&&null!==(e=e.lastEffect)){var t=e=e.next;do{var r=t,o=r.destroy;if(r=r.tag,void 0!==o)if(0!=(4&r))fd(n,t);else{r=n;try{o()}catch(e){pd(r,e)}}t=t.next}while(t!==e)}break;case 1:if(Af(n),"function"==typeof(e=n.stateNode).componentWillUnmount)try{e.props=n.memoizedProps,e.state=n.memoizedState,e.componentWillUnmount()}catch(e){pd(n,e)}break;case 5:Af(n);break;case 4:Df(e,n)}}function kf(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Lf(e){return 5===e.tag||3===e.tag||4===e.tag}function Nf(e){e:{for(var n=e.return;null!==n;){if(Lf(n))break e;n=n.return}throw Error(gl(160))}var t=n;switch(n=t.stateNode,t.tag){case 5:var r=!1;break;case 3:case 4:n=n.containerInfo,r=!0;break;default:throw Error(gl(161))}16&t.flags&&(Wl(n,""),t.flags&=-17);e:n:for(t=e;;){for(;null===t.sibling;){if(null===t.return||Lf(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue n;if(null===t.child||4===t.tag)continue n;t.child.return=t,t=t.child}if(!(2&t.flags)){t=t.stateNode;break e}}r?function e(n,t,r){var o=n.tag,i=5===o||6===o;if(i)n=i?n.stateNode:n.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(n,t):r.insertBefore(n,t):(8===r.nodeType?(t=r.parentNode).insertBefore(n,r):(t=r).appendChild(n),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=ws));else if(4!==o&&null!==(n=n.child))for(e(n,t,r),n=n.sibling;null!==n;)e(n,t,r),n=n.sibling}(e,t,n):function e(n,t,r){var o=n.tag,i=5===o||6===o;if(i)n=i?n.stateNode:n.stateNode.instance,t?r.insertBefore(n,t):r.appendChild(n);else if(4!==o&&null!==(n=n.child))for(e(n,t,r),n=n.sibling;null!==n;)e(n,t,r),n=n.sibling}(e,t,n)}function Df(e,n){for(var t,r,o=n,i=!1;;){if(!i){i=o.return;e:for(;;){if(null===i)throw Error(gl(160));switch(t=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:t=t.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===o.tag||6===o.tag){e:for(var a=e,l=o,u=l;;)if(If(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=t,l=o.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):t.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){t=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(If(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===n)break;for(;null===o.sibling;){if(null===o.return||o.return===n)return;4===(o=o.return).tag&&(i=!1)}o.sibling.return=o.return,o=o.sibling}}function Mf(e,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:var t=n.updateQueue;if(null!==(t=null!==t?t.lastEffect:null)){var r=t=t.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==t)}return;case 1:return;case 5:if(null!=(t=n.stateNode)){r=n.memoizedProps;var o=null!==e?e.memoizedProps:r;e=n.type;var i=n.updateQueue;if(n.updateQueue=null,null!==i){for(t[ti]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Nl(t,r),Kl(e,o),n=Kl(e,r),o=0;o<i.length;o+=2){var a=i[o],l=i[o+1];"style"===a?Zl(t,l):"dangerouslySetInnerHTML"===a?Xt(t,l):"children"===a?Wl(t,l):wl(t,a,l,n)}switch(e){case"input":Dl(t,r);break;case"textarea":jl(t,r);break;case"select":e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?Yl(t,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?Yl(t,!!r.multiple,r.defaultValue,!0):Yl(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===n.stateNode)throw Error(gl(162));return void(n.stateNode.nodeValue=n.memoizedProps);case 3:return void((t=n.stateNode).hydrate&&(t.hydrate=!1,wu(t.containerInfo)));case 12:return;case 13:return null!==n.memoizedState&&(Da=Ii(),Of(n.child,!0)),void Ff(n);case 19:return void Ff(n);case 17:return;case 23:case 24:return void Of(n,null!==n.memoizedState)}throw Error(gl(163))}function Ff(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new _a),n.forEach((function(n){var r=gd.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))}))}}function Hf(e,n){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(n=n.memoizedState)&&null===n.dehydrated)}function Yf(){Ma=Ii()+500}function Bf(){return 0!=(48&Ea)?Ii():-1!==$a?$a:$a=Ii()}function Uf(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===js()?1:2;if(0===Ka&&(Ka=Oa),0!==ki.transition){0!==qa&&(qa=null!==Na?Na.pendingLanes:0),e=Ka;var n=4186112&~qa;return 0===(n&=-n)&&(0===(n=(e=4186112&~e)&-e)&&(n=8192)),n}return e=js(),0!=(4&Ea)&&98===e?e=Pu(12,Ka):e=Pu(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Ka),e}function jf(e,n,t){if(50<Xa)throw Xa=0,Za=null,Error(gl(185));if(null===(e=zf(e,n)))return null;Iu(e,n,t),e===Ta&&(ka|=n,4===Pa&&Wf(e,Ra));var r=js();1===n?0!=(8&Ea)&&0==(48&Ea)?Xf(e):(Gf(e,t),0===Ea&&(Yf(),Ws())):(0==(4&Ea)||98!==r&&99!==r||(null===Wa?Wa=new Set([e]):Wa.add(e)),Gf(e,t)),Na=e}function zf(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}function Gf(e,n){for(var t=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Nr(a),u=1<<l,s=i[l];if(-1===s){if(0==(u&r)||0!=(u&o)){s=n,Ru(u);var c=Lr;i[l]=10<=c?s+250:6<=c?s+5e3:-1}}else s<=n&&(e.expiredLanes|=u);a&=~u}if(r=xu(e,e===Ta?Ra:0),n=Lr,0===r)null!==t&&(t!==Ri&&mi(t),e.callbackNode=null,e.callbackPriority=0);else{if(null!==t){if(e.callbackPriority===n)return;t!==Ri&&mi(t)}15===n?(t=Xf.bind(null,e),null===Ai?(Ai=[t],Pi=pi(bi,Xs)):Ai.push(t),t=Ri):14===n?t=Vs(99,Xf.bind(null,e)):t=Vs(t=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(gl(358,e))}}(n),Vf.bind(null,e)),e.callbackPriority=n,e.callbackNode=t}}function Vf(e){if($a=-1,qa=Ka=0,0!=(48&Ea))throw Error(gl(327));var n=e.callbackNode;if(sd()&&e.callbackNode!==n)return null;var t=xu(e,e===Ta?Ra:0);if(0===t)return null;var r=t,o=Ea;Ea|=16;var i=ed();for(Ta===e&&Ra===r||(Yf(),Qf(e,r));;)try{rd();break}catch(n){Jf(e,n)}if($s(),ba.current=i,Ea=o,null!==Sa?r=0:(Ta=null,Ra=0,r=Pa),0!=(Oa&ka))Qf(e,0);else if(0!==r){if(2===r&&(Ea|=64,e.hydrate&&(e.hydrate=!1,Ss(e.containerInfo)),0!==(t=Au(e))&&(r=nd(e,t))),1===r)throw n=Ca,Qf(e,0),Wf(e,t),Gf(e,Ii()),n;switch(e.finishedWork=e.current.alternate,e.finishedLanes=t,r){case 0:case 1:throw Error(gl(345));case 2:ad(e);break;case 3:if(Wf(e,t),(62914560&t)===t&&10<(r=Da+500-Ii())){if(0!==xu(e,0))break;if(((o=e.suspendedLanes)&t)!==t){Bf(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=qo(ad.bind(null,e),r);break}ad(e);break;case 4:if(Wf(e,t),(4186112&t)===t)break;for(r=e.eventTimes,o=-1;0<t;){var a=31-Nr(t);i=1<<a,(a=r[a])>o&&(o=a),t&=~i}if(t=o,10<(t=(120>(t=Ii()-t)?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*ya(t/1960))-t)){e.timeoutHandle=qo(ad.bind(null,e),t);break}ad(e);break;case 5:ad(e);break;default:throw Error(gl(329))}}return Gf(e,Ii()),e.callbackNode===n?Vf.bind(null,e):null}function Wf(e,n){for(n&=~La,n&=~ka,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-Nr(n),r=1<<t;e[t]=-1,n&=~r}}function Xf(e){if(0!=(48&Ea))throw Error(gl(327));if(sd(),e===Ta&&0!=(e.expiredLanes&Ra)){var n=Ra,t=nd(e,n);0!=(Oa&ka)&&(t=nd(e,n=xu(e,n)))}else t=nd(e,n=xu(e,0));if(0!==e.tag&&2===t&&(Ea|=64,e.hydrate&&(e.hydrate=!1,Ss(e.containerInfo)),0!==(n=Au(e))&&(t=nd(e,n))),1===t)throw t=Ca,Qf(e,0),Wf(e,n),Gf(e,Ii()),t;return e.finishedWork=e.current.alternate,e.finishedLanes=n,ad(e),Gf(e,Ii()),null}function Zf(e,n){var t=Ea;Ea|=1;try{return e(n)}finally{0===(Ea=t)&&(Yf(),Ws())}}function $f(e,n){var t=Ea;Ea&=-2,Ea|=8;try{return e(n)}finally{0===(Ea=t)&&(Yf(),Ws())}}function Kf(e,n){Ns(Aa,xa),xa|=n,Oa|=n}function qf(){xa=Aa.current,Ls(Aa)}function Qf(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,Qo(t)),null!==Sa)for(t=Sa.return;null!==t;){var r=t;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Fs();break;case 3:vc(),Ls(si),Ls(ui),Ac();break;case 5:yc(r);break;case 4:vc();break;case 13:case 19:Ls(Xi);break;case 10:Ks(r);break;case 23:case 24:qf()}t=t.return}Ta=e,Sa=bd(e.current,null),Ra=xa=Oa=n,Pa=0,Ca=null,La=ka=Ia=0}function Jf(e,n){for(;;){var t=Sa;try{if($s(),Qi.current=aa,oa){for(var r=na.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}oa=!1}if(ea=0,ra=ta=na=null,ia=!1,wa.current=null,null===t||null===t.return){Pa=1,Ca=n,Sa=null;break}e:{var i=e,a=t.return,l=t,u=n;if(n=Ra,l.flags|=2048,l.firstEffect=l.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var s=u;if(0==(2&l.mode)){var c=l.alternate;c?(l.updateQueue=c.updateQueue,l.memoizedState=c.memoizedState,l.lanes=c.lanes):(l.updateQueue=null,l.memoizedState=null)}var f=0!=(1&Xi.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var m=d.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(h){var g=d.updateQueue;if(null===g){var v=new Set;v.add(s),d.updateQueue=v}else g.add(s);if(0==(2&d.mode)){if(d.flags|=64,l.flags|=16384,l.flags&=-2981,1===l.tag)if(null===l.alternate)l.tag=17;else{var _=tc(-1,1);_.tag=2,rc(l,_)}l.lanes|=1;break e}u=void 0,l=n;var y=i.pingCache;if(null===y?(y=i.pingCache=new va,u=new Set,y.set(s,u)):void 0===(u=y.get(s))&&(u=new Set,y.set(s,u)),!u.has(l)){u.add(l);var b=md.bind(null,i,s,l);s.then(b,b)}d.flags|=4096,d.lanes=n;break e}d=d.return}while(null!==d);u=Error((xl(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Pa&&(Pa=2),u=Tf(u,l),d=a;do{switch(d.tag){case 3:i=u,d.flags|=4096,n&=-n,d.lanes|=n,oc(d,Rf(0,i,n));break e;case 1:i=u;var w=d.type,E=d.stateNode;if(0==(64&d.flags)&&("function"==typeof w.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Ba||!Ba.has(E)))){d.flags|=4096,n&=-n,d.lanes|=n,oc(d,xf(d,i,n));break e}}d=d.return}while(null!==d)}id(t)}catch(e){n=e,Sa===t&&null!==t&&(Sa=t=t.return);continue}break}}function ed(){var e=ba.current;return ba.current=aa,null===e?aa:e}function nd(e,n){var t=Ea;Ea|=16;var r=ed();for(Ta===e&&Ra===n||Qf(e,n);;)try{td();break}catch(n){Jf(e,n)}if($s(),Ea=t,ba.current=r,null!==Sa)throw Error(gl(261));return Ta=null,Ra=0,Pa}function td(){for(;null!==Sa;)od(Sa)}function rd(){for(;null!==Sa&&!gi();)od(Sa)}function od(e){var n=el(e.alternate,e,xa);e.memoizedProps=e.pendingProps,null===n?id(e):Sa=n,wa.current=null}function id(e){var n=e;do{var t=n.alternate;if(e=n.return,0==(2048&n.flags)){if(null!==(t=wf(t,n,xa)))return void(Sa=t);if(24!==(t=n).tag&&23!==t.tag||null===t.memoizedState||0!=(1073741824&xa)||0==(4&t.mode)){for(var r=0,o=t.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;t.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=n.firstEffect),null!==n.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=n.firstEffect),e.lastEffect=n.lastEffect),1<n.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=n:e.firstEffect=n,e.lastEffect=n))}else{if(null!==(t=Ef(n)))return t.flags&=2047,void(Sa=t);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(n=n.sibling))return void(Sa=n);Sa=n=e}while(null!==n);0===Pa&&(Pa=5)}function ad(e){var n=js();return Gs(99,ld.bind(null,e,n)),null}function ld(e,n){do{sd()}while(null!==ja);if(0!=(48&Ea))throw Error(gl(327));var t=e.finishedWork;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(gl(177));e.callbackNode=null;var r=t.lanes|t.childLanes,o=r,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<i;){var u=31-Nr(i),s=1<<u;o[u]=0,a[u]=-1,l[u]=-1,i&=~s}if(null!==Wa&&0==(24&r)&&Wa.has(e)&&Wa.delete(e),e===Ta&&(Sa=Ta=null,Ra=0),1<t.flags?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,null!==r){if(o=Ea,Ea|=32,wa.current=null,$o=Yr,us(a=ls())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(s=l.getSelection&&l.getSelection())&&0!==s.rangeCount){l=s.anchorNode,i=s.anchorOffset,u=s.focusNode,s=s.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var c=0,f=-1,d=-1,h=0,p=0,m=a,g=null;n:for(;;){for(var v;m!==l||0!==i&&3!==m.nodeType||(f=c+i),m!==u||0!==s&&3!==m.nodeType||(d=c+s),3===m.nodeType&&(c+=m.nodeValue.length),null!==(v=m.firstChild);)g=m,m=v;for(;;){if(m===a)break n;if(g===l&&++h===i&&(f=c),g===u&&++p===s&&(d=c),null!==(v=m.nextSibling))break;g=(m=g).parentNode}m=v}l=-1===f||-1===d?null:{start:f,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;Ko={focusedElem:a,selectionRange:l},Yr=!1,Qa=null,Ja=!1,Fa=r;do{try{ud()}catch(e){if(null===Fa)throw Error(gl(330));pd(Fa,e),Fa=Fa.nextEffect}}while(null!==Fa);Qa=null,Fa=r;do{try{for(a=e;null!==Fa;){var _=Fa.flags;if(16&_&&Wl(Fa.stateNode,""),128&_){var y=Fa.alternate;if(null!==y){var b=y.ref;null!==b&&("function"==typeof b?b(null):b.current=null)}}switch(1038&_){case 2:Nf(Fa),Fa.flags&=-3;break;case 6:Nf(Fa),Fa.flags&=-3,Mf(Fa.alternate,Fa);break;case 1024:Fa.flags&=-1025;break;case 1028:Fa.flags&=-1025,Mf(Fa.alternate,Fa);break;case 4:Mf(Fa.alternate,Fa);break;case 8:Df(a,l=Fa);var w=l.alternate;kf(l),null!==w&&kf(w)}Fa=Fa.nextEffect}}catch(e){if(null===Fa)throw Error(gl(330));pd(Fa,e),Fa=Fa.nextEffect}}while(null!==Fa);if(b=Ko,y=ls(),_=b.focusedElem,a=b.selectionRange,y!==_&&_&&_.ownerDocument&&function e(n,t){return!(!n||!t)&&(n===t||(!n||3!==n.nodeType)&&(t&&3===t.nodeType?e(n,t.parentNode):"contains"in n?n.contains(t):!!n.compareDocumentPosition&&!!(16&n.compareDocumentPosition(t))))}(_.ownerDocument.documentElement,_)){null!==a&&us(_)&&(y=a.start,void 0===(b=a.end)&&(b=y),"selectionStart"in _?(_.selectionStart=y,_.selectionEnd=Math.min(b,_.value.length)):(b=(y=_.ownerDocument||document)&&y.defaultView||window).getSelection&&(b=b.getSelection(),l=_.textContent.length,w=Math.min(a.start,l),a=void 0===a.end?w:Math.min(a.end,l),!b.extend&&w>a&&(l=a,a=w,w=l),l=as(_,w),i=as(_,a),l&&i&&(1!==b.rangeCount||b.anchorNode!==l.node||b.anchorOffset!==l.offset||b.focusNode!==i.node||b.focusOffset!==i.offset)&&((y=y.createRange()).setStart(l.node,l.offset),b.removeAllRanges(),w>a?(b.addRange(y),b.extend(i.node,i.offset)):(y.setEnd(i.node,i.offset),b.addRange(y))))),y=[];for(b=_;b=b.parentNode;)1===b.nodeType&&y.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<y.length;_++)(b=y[_]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Yr=!!$o,Ko=$o=null,e.current=t,Fa=r;do{try{for(_=e;null!==Fa;){var E=Fa.flags;if(36&E&&Cf(_,Fa.alternate,Fa),128&E){y=void 0;var T=Fa.ref;if(null!==T){var S=Fa.stateNode;switch(Fa.tag){case 5:y=S;break;default:y=S}"function"==typeof T?T(y):T.current=y}}Fa=Fa.nextEffect}}catch(e){if(null===Fa)throw Error(gl(330));pd(Fa,e),Fa=Fa.nextEffect}}while(null!==Fa);Fa=null,xi(),Ea=o}else e.current=t;if(Ua)Ua=!1,ja=e,za=n;else for(Fa=r;null!==Fa;)n=Fa.nextEffect,Fa.nextEffect=null,8&Fa.flags&&((E=Fa).sibling=null,E.stateNode=null),Fa=n;if(0===(r=e.pendingLanes)&&(Ba=null),1===r?e===Za?Xa++:(Xa=0,Za=e):Xa=0,t=t.stateNode,di&&"function"==typeof di.onCommitFiberRoot)try{di.onCommitFiberRoot(fi,t,void 0,64==(64&t.current.flags))}catch(e){}if(Gf(e,Ii()),Ha)throw Ha=!1,e=Ya,Ya=null,e;return 0!=(8&Ea)||Ws(),null}function ud(){for(;null!==Fa;){var e=Fa.alternate;Ja||null===Qa||(0!=(8&Fa.flags)?du(Fa,Qa)&&(Ja=!0):13===Fa.tag&&Hf(e,Fa)&&du(Fa,Qa)&&(Ja=!0));var n=Fa.flags;0!=(256&n)&&Pf(e,Fa),0==(512&n)||Ua||(Ua=!0,Vs(97,(function(){return sd(),null}))),Fa=Fa.nextEffect}}function sd(){if(90!==za){var e=97<za?97:za;return za=90,Gs(e,dd)}return!1}function cd(e,n){Ga.push(n,e),Ua||(Ua=!0,Vs(97,(function(){return sd(),null})))}function fd(e,n){Va.push(n,e),Ua||(Ua=!0,Vs(97,(function(){return sd(),null})))}function dd(){if(null===ja)return!1;var e=ja;if(ja=null,0!=(48&Ea))throw Error(gl(331));var n=Ea;Ea|=32;var t=Va;Va=[];for(var r=0;r<t.length;r+=2){var o=t[r],i=t[r+1],a=o.destroy;if(o.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===i)throw Error(gl(330));pd(i,e)}}for(t=Ga,Ga=[],r=0;r<t.length;r+=2){o=t[r],i=t[r+1];try{var l=o.create;o.destroy=l()}catch(e){if(null===i)throw Error(gl(330));pd(i,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ea=n,Ws(),!0}function hd(e,n,t){rc(e,n=Rf(0,n=Tf(t,n),1)),n=Bf(),null!==(e=zf(e,1))&&(Iu(e,1,n),Gf(e,n))}function pd(e,n){if(3===e.tag)hd(e,e,n);else for(var t=e.return;null!==t;){if(3===t.tag){hd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ba||!Ba.has(r))){var o=xf(t,e=Tf(n,e),1);if(rc(t,o),o=Bf(),null!==(t=zf(t,1)))Iu(t,1,o),Gf(t,o);else if("function"==typeof r.componentDidCatch&&(null===Ba||!Ba.has(r)))try{r.componentDidCatch(n,e)}catch(e){}break}}t=t.return}}function md(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=Bf(),e.pingedLanes|=e.suspendedLanes&t,Ta===e&&(Ra&t)===t&&(4===Pa||3===Pa&&(62914560&Ra)===Ra&&500>Ii()-Da?Qf(e,0):La|=t),Gf(e,n)}function gd(e,n){var t=e.stateNode;null!==t&&t.delete(n),0===(n=0)&&(0==(2&(n=e.mode))?n=1:0==(4&n)?n=99===js()?1:2:(0===Ka&&(Ka=Oa),0===(n=Cu(62914560&~Ka))&&(n=4194304))),t=Bf(),null!==(e=zf(e,n))&&(Iu(e,n,t),Gf(e,t))}function vd(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function _d(e,n,t,r){return new vd(e,n,t,r)}function yd(e){return!(!(e=e.prototype)||!e.isReactComponent)}function bd(e,n){var t=e.alternate;return null===t?((t=_d(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function wd(e,n,t,r,o,i){var a=2;if(r=e,"function"==typeof e)yd(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case xt:return Ed(t.children,o,i,n);case Ht:a=8,o|=16;break;case At:a=8,o|=1;break;case Pt:return(e=_d(12,t,n,8|o)).elementType=Pt,e.type=Pt,e.lanes=i,e;case kt:return(e=_d(13,t,n,o)).type=kt,e.elementType=kt,e.lanes=i,e;case Lt:return(e=_d(19,t,n,o)).elementType=Lt,e.lanes=i,e;case Yt:return Td(t,o,i,n);case Bt:return(e=_d(24,t,n,o)).elementType=Bt,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ct:a=10;break e;case Ot:a=9;break e;case It:a=11;break e;case Nt:a=14;break e;case Dt:a=16,r=null;break e;case Mt:a=22;break e}throw Error(gl(130,null==e?e:typeof e,""))}return(n=_d(a,t,n,o)).elementType=e,n.type=r,n.lanes=i,n}function Ed(e,n,t,r){return(e=_d(7,e,r,n)).lanes=t,e}function Td(e,n,t,r){return(e=_d(23,e,r,n)).elementType=Yt,e.lanes=t,e}function Sd(e,n,t){return(e=_d(6,e,null,n)).lanes=t,e}function Rd(e,n,t){return(n=_d(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function xd(e,n,t){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ou(0),this.expirationTimes=Ou(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ou(0),this.mutableSourceEagerHydrationData=null}function Ad(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Rt,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}function Pd(e,n,t,r){var o=n.current,i=Bf(),a=Uf(o);e:if(t){n:{if(uu(t=t._reactInternals)!==t||1!==t.tag)throw Error(gl(170));var l=t;do{switch(l.tag){case 3:l=l.stateNode.context;break n;case 1:if(Ms(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break n}}l=l.return}while(null!==l);throw Error(gl(171))}if(1===t.tag){var u=t.type;if(Ms(u)){t=Ys(t,u,l);break e}}t=l}else t=li;return null===n.context?n.context=t:n.pendingContext=t,(n=tc(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),rc(o,n),jf(o,a,i),a}function Cd(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Od(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function Id(e,n){Od(e,n),(e=e.alternate)&&Od(e,n)}function kd(){return null}function Ld(e,n,t){var r=null!=t&&null!=t.hydrationOptions&&t.hydrationOptions.mutableSources||null;if(t=new xd(e,n,null!=t&&!0===t.hydrate),n=_d(3,null,null,2===n?7:1===n?3:0),t.current=n,n.stateNode=t,ec(n),e[ri]=t.current,hs(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(n=r[e])._getVersion;o=o(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o)}this._internalRoot=t}function Nd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Dd(e,n,t,r,o){var i=t._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var l=o;o=function(){var e=Cd(a);l.call(e)}}Pd(n,a,e,o)}else{if(i=t._reactRootContainer=function(e,n){if(n||(n=!(!(n=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==n.nodeType||!n.hasAttribute("data-reactroot"))),!n)for(var t;t=e.lastChild;)e.removeChild(t);return new Ld(e,0,n?{hydrate:!0}:void 0)}(t,r),a=i._internalRoot,"function"==typeof o){var u=o;o=function(){var e=Cd(a);u.call(e)}}$f((function(){Pd(n,a,e,o)}))}return Cd(a)}function Md(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Nd(n))throw Error(gl(200));return Ad(e,n,null,t)}function Fd(){if(ct={},ft=un(),dt=Q(),ht=st(),!ft)throw Error(gl(227));if(pt=new Set,mt={},gt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),vt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_t=Object.prototype.hasOwnProperty,yt={},bt={},wt={},"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){wt[e]=new yl(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var n=e[0];wt[n]=new yl(n,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){wt[e]=new yl(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){wt[e]=new yl(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){wt[e]=new yl(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){wt[e]=new yl(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){wt[e]=new yl(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){wt[e]=new yl(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){wt[e]=new yl(e,5,!1,e.toLowerCase(),null,!1,!1)})),Et=/[\-:]([a-z])/g,"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var n=e.replace(Et,bl);wt[n]=new yl(n,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var n=e.replace(Et,bl);wt[n]=new yl(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var n=e.replace(Et,bl);wt[n]=new yl(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){wt[e]=new yl(e,1,!1,e.toLowerCase(),null,!1,!1)})),wt.xlinkHref=new yl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){wt[e]=new yl(e,1,!1,e.toLowerCase(),null,!0,!0)})),Tt=ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,St=60103,Rt=60106,xt=60107,At=60108,Pt=60114,Ct=60109,Ot=60110,It=60112,kt=60113,Lt=60120,Nt=60115,Dt=60116,Mt=60121,Ft=60128,Ht=60129,Yt=60130,Bt=60131,"function"==typeof Symbol&&Symbol.for&&(Ut=Symbol.for,St=Ut("react.element"),Rt=Ut("react.portal"),xt=Ut("react.fragment"),At=Ut("react.strict_mode"),Pt=Ut("react.profiler"),Ct=Ut("react.provider"),Ot=Ut("react.context"),It=Ut("react.forward_ref"),kt=Ut("react.suspense"),Lt=Ut("react.suspense_list"),Nt=Ut("react.memo"),Dt=Ut("react.lazy"),Mt=Ut("react.block"),Ut("react.scope"),Ft=Ut("react.opaque.id"),Ht=Ut("react.debug_trace_mode"),Yt=Ut("react.offscreen"),Bt=Ut("react.legacy_hidden")),jt="function"==typeof Symbol&&Symbol.iterator,Gt=!1,Vt={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Xt=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(n,t,r,o){MSApp.execUnsafeLocalFunction((function(){return e(n,t)}))}:e}((function(e,n){if(e.namespaceURI!==Vt.svg||"innerHTML"in e)e.innerHTML=n;else{for((Wt=Wt||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Wt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}})),Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$t=["Webkit","ms","Moz","O"],Object.keys(Zt).forEach((function(e){$t.forEach((function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Zt[n]=Zt[e]}))})),Kt=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),qt=null,Qt=null,Jt=null,er=nu,nr=!1,tr=!1,rr=!1,gt)try{or={},Object.defineProperty(or,"passive",{get:function(){rr=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch(e){rr=!1}ir=!1,ar=null,lr=!1,ur=null,sr={onError:function(e){ir=!0,ar=e}},pr=!1,mr=[],gr=null,vr=null,_r=null,yr=new Map,br=new Map,wr=[],Er="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),Tr={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},Sr={},Rr={},gt&&(Rr=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition),xr=Tu("animationend"),Ar=Tu("animationiteration"),Pr=Tu("animationstart"),Cr=Tu("transitionend"),Or=new Map,Ir=new Map,kr=["abort","abort",xr,"animationEnd",Ar,"animationIteration",Pr,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Cr,"transitionEnd","waiting","waiting"],(0,ht.unstable_now)(),Lr=8,Nr=Math.clz32?Math.clz32:ku,Dr=Math.log,Mr=Math.LN2,Fr=ht.unstable_UserBlockingPriority,Hr=ht.unstable_runWithPriority,Yr=!0,Br=null,Ur=null,jr=null,Gr=Uu(zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0}),Vr=dt({},zr,{view:0,detail:0}),Wr=Uu(Vr),Kr=dt({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$r&&($r&&"mousemove"===e.type?(Xr=e.screenX-$r.screenX,Zr=e.screenY-$r.screenY):Zr=Xr=0,$r=e),Xr)},movementY:function(e){return"movementY"in e?e.movementY:Zr}}),qr=Uu(Kr),Qr=dt({},Kr,{dataTransfer:0}),Jr=Uu(Qr),eo=dt({},Vr,{relatedTarget:0}),no=Uu(eo),to=dt({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=Uu(to),oo=dt({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),io=Uu(oo),ao=dt({},zr,{data:0}),lo=Uu(ao),uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},so={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},fo=dt({},Vr,{key:function(e){if(e.key){var n=uo[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=Hu(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?so[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(e){return"keypress"===e.type?Hu(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Hu(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ho=Uu(fo),po=dt({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=Uu(po),go=dt({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),vo=Uu(go),_o=dt({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yo=Uu(_o),bo=dt({},Kr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wo=Uu(bo),Eo=[9,13,27,32],To=gt&&"CompositionEvent"in window,So=null,gt&&"documentMode"in document&&(So=document.documentMode),Ro=gt&&"TextEvent"in window&&!So,xo=gt&&(!To||So&&8<So&&11>=So),Ao=String.fromCharCode(32),Po=!1,Co=!1,Oo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Io=null,ko=null,Lo=!1,gt&&(gt?((Do="oninput"in document)||((Mo=document.createElement("div")).setAttribute("oninput","return;"),Do="function"==typeof Mo.oninput),No=Do):No=!1,Lo=No&&(!document.documentMode||9<document.documentMode)),Fo="function"==typeof Object.is?Object.is:rs,Ho=Object.prototype.hasOwnProperty,Yo=gt&&"documentMode"in document&&11>=document.documentMode,Bo=null,Uo=null,jo=null,zo=!1,Su("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Su("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Su(kr,2);for(Go="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vo=0;Vo<Go.length;Vo++)Ir.set(Go[Vo],0);if(_l("onMouseEnter",["mouseout","mouseover"]),_l("onMouseLeave",["mouseout","mouseover"]),_l("onPointerEnter",["pointerout","pointerover"]),_l("onPointerLeave",["pointerout","pointerover"]),vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vl("onBeforeInput",["compositionend","keypress","textInput","paste"]),vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" ")),Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xo=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo)),Zo="_reactListening"+Math.random().toString(36).slice(2),$o=null,Ko=null,qo="function"==typeof setTimeout?setTimeout:void 0,Qo="function"==typeof clearTimeout?clearTimeout:void 0,Jo=0,ei=Math.random().toString(36).slice(2),ni="__reactFiber$"+ei,ti="__reactProps$"+ei,ri="__reactContainer$"+ei,oi="__reactEvents$"+ei,ii=[],ai=-1,ui=ks(li={}),si=ks(!1),ci=li,fi=null,di=null,hi=ht.unstable_runWithPriority,pi=ht.unstable_scheduleCallback,mi=ht.unstable_cancelCallback,gi=ht.unstable_shouldYield,vi=ht.unstable_requestPaint,_i=ht.unstable_now,yi=ht.unstable_getCurrentPriorityLevel,bi=ht.unstable_ImmediatePriority,wi=ht.unstable_UserBlockingPriority,Ei=ht.unstable_NormalPriority,Ti=ht.unstable_LowPriority,Si=ht.unstable_IdlePriority,Ri={},xi=void 0!==vi?vi:function(){},Ai=null,Pi=null,Ci=!1,Oi=_i(),Ii=1e4>Oi?_i:function(){return _i()-Oi},ki=Tt.ReactCurrentBatchConfig,Li=ks(null),Ni=null,Di=null,Mi=null,Fi=!1,Hi=(new ft.Component).refs,Yi={isMounted:function(e){return!!(e=e._reactInternals)&&uu(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=Bf(),o=Uf(e),i=tc(r,o);i.payload=n,null!=t&&(i.callback=t),rc(e,i),jf(e,o,r)},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=Bf(),o=Uf(e),i=tc(r,o);i.tag=1,i.payload=n,null!=t&&(i.callback=t),rc(e,i),jf(e,o,r)},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Bf(),r=Uf(e),o=tc(t,r);o.tag=2,null!=n&&(o.callback=n),rc(e,o),jf(e,r,t)}},Bi=Array.isArray,Ui=pc(!0),ji=pc(!1),Gi=ks(zi={}),Vi=ks(zi),Wi=ks(zi),Xi=ks(0),Zi=null,$i=null,Ki=!1,qi=[],Qi=Tt.ReactCurrentDispatcher,Ji=Tt.ReactCurrentBatchConfig,ea=0,na=null,ta=null,ra=null,oa=!1,ia=!1,aa={readContext:Js,useCallback:Pc,useContext:Pc,useEffect:Pc,useImperativeHandle:Pc,useLayoutEffect:Pc,useMemo:Pc,useReducer:Pc,useRef:Pc,useState:Pc,useDebugValue:Pc,useDeferredValue:Pc,useTransition:Pc,useMutableSource:Pc,useOpaqueIdentifier:Pc,unstable_isNewReconciler:!1},la={readContext:Js,useCallback:function(e,n){return Ic().memoizedState=[e,void 0===n?null:n],e},useContext:Js,useEffect:Vc,useImperativeHandle:function(e,n,t){return t=null!=t?t.concat([e]):null,zc(4,2,Zc.bind(null,n,e),t)},useLayoutEffect:function(e,n){return zc(4,2,e,n)},useMemo:function(e,n){var t=Ic();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Ic();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:n}).dispatch=ef.bind(null,na,e),[r.memoizedState,e]},useRef:Uc,useState:Yc,useDebugValue:Kc,useDeferredValue:function(e){var n=Yc(e),t=n[0],r=n[1];return Vc((function(){var n=Ji.transition;Ji.transition=1;try{r(e)}finally{Ji.transition=n}}),[e]),t},useTransition:function(){var e=Yc(!1),n=e[0];return Uc(e=Jc.bind(null,e[1])),[e,n]},useMutableSource:function(e,n,t){var r=Ic();return r.memoizedState={refs:{getSnapshot:n,setSnapshot:null},source:e,subscribe:t},Fc(r,e,n,t)},useOpaqueIdentifier:function(){if(Ki){var e=!1,n=function(e){return{$$typeof:Ft,toString:e,valueOf:e}}((function(){throw e||(e=!0,t("r:"+(Jo++).toString(36))),Error(gl(355))})),t=Yc(n)[1];return 0==(2&na.mode)&&(na.flags|=516,Bc(5,(function(){t("r:"+(Jo++).toString(36))}),void 0,null)),n}return Yc(n="r:"+(Jo++).toString(36)),n},unstable_isNewReconciler:!1},ua={readContext:Js,useCallback:qc,useContext:Js,useEffect:Wc,useImperativeHandle:$c,useLayoutEffect:Xc,useMemo:Qc,useReducer:Nc,useRef:jc,useState:function(){return Nc(Lc)},useDebugValue:Kc,useDeferredValue:function(e){var n=Nc(Lc),t=n[0],r=n[1];return Wc((function(){var n=Ji.transition;Ji.transition=1;try{r(e)}finally{Ji.transition=n}}),[e]),t},useTransition:function(){var e=Nc(Lc)[0];return[jc().current,e]},useMutableSource:Hc,useOpaqueIdentifier:function(){return Nc(Lc)[0]},unstable_isNewReconciler:!1},sa={readContext:Js,useCallback:qc,useContext:Js,useEffect:Wc,useImperativeHandle:$c,useLayoutEffect:Xc,useMemo:Qc,useReducer:Dc,useRef:jc,useState:function(){return Dc(Lc)},useDebugValue:Kc,useDeferredValue:function(e){var n=Dc(Lc),t=n[0],r=n[1];return Wc((function(){var n=Ji.transition;Ji.transition=1;try{r(e)}finally{Ji.transition=n}}),[e]),t},useTransition:function(){var e=Dc(Lc)[0];return[jc().current,e]},useMutableSource:Hc,useOpaqueIdentifier:function(){return Dc(Lc)[0]},unstable_isNewReconciler:!1},ca=Tt.ReactCurrentOwner,fa=!1,da={dehydrated:null,retryLane:0},ha=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},pa=function(){},ma=function(e,n,t,r){var o=e.memoizedProps;if(o!==r){e=n.stateNode,mc(Gi.current);var i,a=null;switch(t){case"input":o=kl(e,o),r=kl(e,r),a=[];break;case"option":o=Hl(e,o),r=Hl(e,r),a=[];break;case"select":o=dt({},o,{value:void 0}),r=dt({},r,{value:void 0}),a=[];break;case"textarea":o=Bl(e,o),r=Bl(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=ws)}for(s in $l(t,r),t=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s){var l=o[s];for(i in l)l.hasOwnProperty(i)&&(t||(t={}),t[i]="")}else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(mt.hasOwnProperty(s)?a||(a=[]):(a=a||[]).push(s,null));for(s in r){var u=r[s];if(l=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&u!==l&&(null!=u||null!=l))if("style"===s)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(t||(t={}),t[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(t||(t={}),t[i]=u[i])}else t||(a||(a=[]),a.push(s,t)),t=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(s,u)):"children"===s?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(mt.hasOwnProperty(s)?(null!=u&&"onScroll"===s&&ds("scroll",e),a||l===u||(a=[])):"object"==typeof u&&null!==u&&u.$$typeof===Ft?u.toString():(a=a||[]).push(s,u))}t&&(a=a||[]).push("style",t);var s=a;(n.updateQueue=s)&&(n.flags|=4)}},ga=function(e,n,t,r){t!==r&&(n.flags|=4)},va="function"==typeof WeakMap?WeakMap:Map,_a="function"==typeof WeakSet?WeakSet:Set,ya=Math.ceil,ba=Tt.ReactCurrentDispatcher,wa=Tt.ReactCurrentOwner,Ea=0,Ta=null,Sa=null,Ra=0,xa=0,Aa=ks(0),Pa=0,Ca=null,Oa=0,Ia=0,ka=0,La=0,Na=null,Da=0,Ma=1/0,Fa=null,Ha=!1,Ya=null,Ba=null,Ua=!1,ja=null,za=90,Ga=[],Va=[],Wa=null,Xa=0,Za=null,$a=-1,Ka=0,qa=0,Qa=null,Ja=!1,el=function(e,n,t){var r=n.lanes;if(null!==e)if(e.memoizedProps!==n.pendingProps||si.current)fa=!0;else{if(0==(t&r)){switch(fa=!1,n.tag){case 3:ff(n),xc();break;case 5:_c(n);break;case 1:Ms(n.type)&&Bs(n);break;case 4:gc(n,n.stateNode.containerInfo);break;case 10:r=n.memoizedProps.value;var o=n.type._context;Ns(Li,o._currentValue),o._currentValue=r;break;case 13:if(null!==n.memoizedState)return 0!=(t&n.child.childLanes)?df(e,n,t):(Ns(Xi,1&Xi.current),null!==(n=yf(e,n,t))?n.sibling:null);Ns(Xi,1&Xi.current);break;case 19:if(r=0!=(t&n.childLanes),0!=(64&e.flags)){if(r)return _f(e,n,t);n.flags|=64}if(null!==(o=n.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ns(Xi,Xi.current),r)break;return null;case 23:case 24:return n.lanes=0,af(e,n,t)}return yf(e,n,t)}fa=0!=(16384&e.flags)}else fa=!1;switch(n.lanes=0,n.tag){case 2:if(r=n.type,null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,o=Ds(n,ui.current),Qs(n,t),o=Oc(null,n,r,e,o,t),n.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ms(r)){var i=!0;Bs(n)}else i=!1;n.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ec(n);var a=r.getDerivedStateFromProps;"function"==typeof a&&lc(n,r,a,e),o.updater=Yi,n.stateNode=o,o._reactInternals=n,fc(n,r,e,t),n=cf(null,n,r,!0,i,t)}else n.tag=0,nf(null,n,o,t),n=n.child;return n;case 16:o=n.elementType;e:{switch(null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,o=(i=o._init)(o._payload),n.type=o,i=n.tag=function(e){if("function"==typeof e)return yd(e)?1:0;if(null!=e){if((e=e.$$typeof)===It)return 11;if(e===Nt)return 14}return 2}(o),e=Zs(o,e),i){case 0:n=uf(null,n,o,e,t);break e;case 1:n=sf(null,n,o,e,t);break e;case 11:n=tf(null,n,o,e,t);break e;case 14:n=rf(null,n,o,Zs(o.type,e),r,t);break e}throw Error(gl(306,o,""))}return n;case 0:return r=n.type,o=n.pendingProps,uf(e,n,r,o=n.elementType===r?o:Zs(r,o),t);case 1:return r=n.type,o=n.pendingProps,sf(e,n,r,o=n.elementType===r?o:Zs(r,o),t);case 3:if(ff(n),r=n.updateQueue,null===e||null===r)throw Error(gl(282));if(r=n.pendingProps,o=null!==(o=n.memoizedState)?o.element:null,nc(e,n),ic(n,r,null,t),(r=n.memoizedState.element)===o)xc(),n=yf(e,n,t);else{if((i=(o=n.stateNode).hydrate)&&($i=Rs(n.stateNode.containerInfo.firstChild),Zi=n,i=Ki=!0),i){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(i=e[o])._workInProgressVersionPrimary=e[o+1],qi.push(i);for(t=ji(n,null,r,t),n.child=t;t;)t.flags=-3&t.flags|1024,t=t.sibling}else nf(e,n,r,t),xc();n=n.child}return n;case 5:return _c(n),null===e&&Tc(n),r=n.type,o=n.pendingProps,i=null!==e?e.memoizedProps:null,a=o.children,Ts(r,o)?a=null:null!==i&&Ts(r,i)&&(n.flags|=16),lf(e,n),nf(e,n,a,t),n.child;case 6:return null===e&&Tc(n),null;case 13:return df(e,n,t);case 4:return gc(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=Ui(n,null,r,t):nf(e,n,r,t),n.child;case 11:return r=n.type,o=n.pendingProps,tf(e,n,r,o=n.elementType===r?o:Zs(r,o),t);case 7:return nf(e,n,n.pendingProps,t),n.child;case 8:case 12:return nf(e,n,n.pendingProps.children,t),n.child;case 10:e:{r=n.type._context,o=n.pendingProps,a=n.memoizedProps,i=o.value;var l=n.type._context;if(Ns(Li,l._currentValue),l._currentValue=i,null!==a)if(l=a.value,0===(i=Fo(l,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(a.children===o.children&&!si.current){n=yf(e,n,t);break e}}else for(null!==(l=n.child)&&(l.return=n);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var s=u.firstContext;null!==s;){if(s.context===r&&0!=(s.observedBits&i)){1===l.tag&&((s=tc(-1,t&-t)).tag=2,rc(l,s)),l.lanes|=t,null!==(s=l.alternate)&&(s.lanes|=t),qs(l.return,t),u.lanes|=t;break}s=s.next}}else a=10===l.tag&&l.type===n.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===n){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}nf(e,n,o.children,t),n=n.child}return n;case 9:return o=n.type,r=(i=n.pendingProps).children,Qs(n,t),r=r(o=Js(o,i.unstable_observedBits)),n.flags|=1,nf(e,n,r,t),n.child;case 14:return i=Zs(o=n.type,n.pendingProps),rf(e,n,o,i=Zs(o.type,i),r,t);case 15:return of(e,n,n.type,n.pendingProps,r,t);case 17:return r=n.type,o=n.pendingProps,o=n.elementType===r?o:Zs(r,o),null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2),n.tag=1,Ms(r)?(e=!0,Bs(n)):e=!1,Qs(n,t),sc(n,r,o),fc(n,r,o,t),cf(null,n,r,!0,e,t);case 19:return _f(e,n,t);case 23:case 24:return af(e,n,t)}throw Error(gl(156,n.tag))},Ld.prototype.render=function(e){Pd(e,this._internalRoot,null,null)},Ld.prototype.unmount=function(){var e=this._internalRoot,n=e.containerInfo;Pd(null,e,null,(function(){n[ri]=null}))},cr=function(e){13===e.tag&&(jf(e,4,Bf()),Id(e,4))},fr=function(e){13===e.tag&&(jf(e,67108864,Bf()),Id(e,67108864))},dr=function(e){if(13===e.tag){var n=Bf(),t=Uf(e);jf(e,t,n),Id(e,t)}},hr=function(e,n){return n()},qt=function(e,n,t){switch(n){case"input":if(Dl(e,t),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var o=Os(r);if(!o)throw Error(gl(90));Ol(r),Dl(r,o)}}}break;case"textarea":jl(e,t);break;case"select":null!=(n=t.value)&&Yl(e,!!t.multiple,n,!1)}},nu=Zf,tu=function(e,n,t,r,o){var i=Ea;Ea|=4;try{return Gs(98,e.bind(null,n,t,r,o))}finally{0===(Ea=i)&&(Yf(),Ws())}},ru=function(){0==(49&Ea)&&(function(){if(null!==Wa){var e=Wa;Wa=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Gf(e,Ii())}))}Ws()}(),sd())},er=function(e,n){var t=Ea;Ea|=2;try{return e(n)}finally{0===(Ea=t)&&(Yf(),Ws())}},nl={Events:[Ps,Cs,Os,Jl,eu,sd,{current:!1}]},rl={bundleType:(tl={findFiberByHostInstance:As,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"}).bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=fu(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||kd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&!(ol=__REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled&&ol.supportsFiber)try{fi=ol.inject(rl),di=ol}catch(e){}il=nl,ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=il,al=Md,ct.createPortal=al,ll=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error(gl(188));throw Error(gl(268,Object.keys(e)))}return e=null===(e=fu(n))?null:e.stateNode},ct.findDOMNode=ll,ul=function(e,n){var t=Ea;if(0!=(48&t))return e(n);Ea|=1;try{if(e)return Gs(99,e.bind(null,n))}finally{Ea=t,Ws()}},ct.flushSync=ul,sl=function(e,n,t){if(!Nd(n))throw Error(gl(200));return Dd(null,e,n,!0,t)},ct.hydrate=sl,cl=function(e,n,t){if(!Nd(n))throw Error(gl(200));return Dd(null,e,n,!1,t)},ct.render=cl,fl=function(e){if(!Nd(e))throw Error(gl(40));return!!e._reactRootContainer&&($f((function(){Dd(null,null,e,!1,(function(){e._reactRootContainer=null,e[ri]=null}))})),!0)},ct.unmountComponentAtNode=fl,dl=Zf,ct.unstable_batchedUpdates=dl,hl=function(e,n){return Md(e,n,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},ct.unstable_createPortal=hl,pl=function(e,n,t,r){if(!Nd(t))throw Error(gl(200));if(null==e||void 0===e._reactInternals)throw Error(gl(38));return Dd(e,n,t,!1,r)},ct.unstable_renderSubtreeIntoContainer=pl,"17.0.1",ct.version="17.0.1"}var Hd={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),ml||(ml=!0,Fd()),Hd=ct;var Yd=function(e,n,t){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var o=e.getShaderInfoLog(r);throw e.deleteShader(r),new Error("An error occurred compiling the shaders: ".concat(o))}return r},Bd=function(e,n,t){var r=Yd(e,e.VERTEX_SHADER,n),o=Yd(e,e.FRAGMENT_SHADER,t),i=e.createProgram();if(e.attachShader(i,r),e.attachShader(i,o),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){var a=e.getProgramInfoLog(i);throw e.deleteProgram(i),new Error("Unable to initialize the shader program: ".concat(a))}for(var l=e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES),u={},s=e.getProgramParameter(i,e.ACTIVE_UNIFORMS),c={},f=0;f<l;f++){u[e.getActiveAttrib(i,f).name]=f}for(var d=0;d<s;d++){var h=e.getActiveUniform(i,d);c[h.name]=e.getUniformLocation(i,h.name)}return{program:i,attributes:u,uniforms:c}};var Ud=function(e,n,t,r){return[e,n,e,n+r,e+t,n,e+t,n+r]},jd=[0,0,0,1,1,0,1,1],zd=[1,1,-1,1,-1,-1,1,1,1,1,-1,1,-1,1,-1,-1,-1,-1,-1,1,1,-1,-1,1],Gd=[4,2,0,2,7,3,6,5,7,1,7,5,0,3,1,4,1,5,4,6,2,2,6,7,6,4,5,1,3,7,0,2,3,4,0,1],Vd=[0,1,0,2,1,5,2,3,2,6,3,1,4,0,4,5,5,7,6,4,7,3,7,6];function Wd(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void t(e)}l.done?n(u):Promise.resolve(u).then(r,o)}function Xd(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zd=e("#define GLSLIFY 1\nattribute vec4 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying highp vec2 vTextureCoord;\n\nvoid main() {\n    gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n    vTextureCoord = aTextureCoord;\n}"),$d=e("precision mediump float;\n#define GLSLIFY 1\n\nuniform lowp vec3 uHSV;\nuniform lowp float uDisplay; // TODO: remove\n\nuniform highp float uRadius;\nuniform highp float uWheelWidth;\n\nvarying highp vec2 vTextureCoord;\n\nconst highp vec2 center = vec2(0.5, 0.5);\n\nlowp float hsvToRgbF(lowp vec3 hsv, lowp float n) {\n    lowp float h = hsv.x;\n    lowp float s = hsv.y;\n    lowp float v = hsv.z;\n\n    lowp float k = mod(n + h / 60.0, 6.0);\n    return v - v * s * max(0.0, min(k, min(4.0 - k, 1.0)));\n}\n\nlowp vec3 hsvToRgb(lowp vec3 hsv) {\n    return vec3(hsvToRgbF(hsv, 5.0), hsvToRgbF(hsv, 3.0), hsvToRgbF(hsv, 1.0));\n}\n\nvoid main() {\n    highp float smoothDelta = uRadius / 110.0;\n    highp vec2 centerDisplacement = vTextureCoord - center;\n    highp float centerDistance = length(centerDisplacement);\n\n    lowp float inOuterCircle = 1.0 - smoothstep(uRadius + uWheelWidth, uRadius + uWheelWidth + smoothDelta, centerDistance);\n    lowp float outsideInnerCircle = smoothstep(uRadius, uRadius + smoothDelta, centerDistance);\n    lowp float inWheel = inOuterCircle * outsideInnerCircle;\n\n    highp float angleFromCenter = atan(centerDisplacement.y, centerDisplacement.x);\n    lowp float wheelHue = degrees(angleFromCenter) + 180.0;\n\n    lowp vec3 wheelHSV = vec3(wheelHue, 1.0, 1.0);\n\n    highp float triangleY = vTextureCoord.y - center.y + uRadius;\n\n    highp float triangleHeight = uRadius * 1.5;\n    highp float triangleWidth = triangleHeight * (2.0 / sqrt(3.0));\n\n    highp float triangleX = vTextureCoord.x - (center.x - triangleWidth / 2.0);\n    highp float horizontalLineLength = triangleY * (2.0 / sqrt(3.0));\n    highp float horizontalLineStart = triangleWidth / 2.0 - horizontalLineLength / 2.0;\n    highp float horizontalLineEnd = horizontalLineStart + horizontalLineLength;\n\n    highp float relativeX = triangleX - horizontalLineStart;\n\n    lowp float value = triangleY / triangleHeight;\n    lowp float saturation = relativeX / horizontalLineLength;\n\n    lowp float inTriangle = smoothstep(horizontalLineStart, horizontalLineStart + smoothDelta, triangleX) * (1.0 - smoothstep(horizontalLineEnd, horizontalLineEnd + smoothDelta, triangleX)) * (1.0 - step(triangleHeight, triangleY));\n\n    lowp vec4 wheelRGB = vec4(hsvToRgb(wheelHSV) * inWheel, inWheel);\n\n    lowp vec3 triangleHSV = vec3(uHSV.x, saturation, value);\n    lowp vec4 triangleRGB = vec4(hsvToRgb(triangleHSV) * inTriangle, inTriangle);\n\n    gl_FragColor = wheelRGB + triangleRGB;\n    gl_FragColor.a = clamp(gl_FragColor.a, 0.0, 1.0);\n    gl_FragColor.rgb *= gl_FragColor.a; // premultiply alpha\n}"),Kd=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r,o,l;return n=e,(t=[{key:"initGL",value:(o=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.colorSelectShader=Bd(n,Zd,$d),this.vertexBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(Ud(0,0,1,1)),n.STATIC_DRAW),this.uvBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.uvBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(jd),n.STATIC_DRAW),e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,n=arguments;return new Promise((function(t,r){var i=o.apply(e,n);function a(e){Wd(i,t,r,a,l,"next",e)}function l(e){Wd(i,t,r,a,l,"throw",e)}a(void 0)}))},function(e){return l.apply(this,arguments)})},{key:"draw",value:function(e,n,t,r){var o=r.hsvColor,l=r.radius,u=r.wheelWidth,c=e.gl;c.clearColor(.5,.5,.5,1),c.clear(c.COLOR_BUFFER_BIT);var f=i();a(f),s(f,f,[n,t,0]),c.useProgram(this.colorSelectShader.program),c.uniformMatrix4fv(this.colorSelectShader.uniforms.uProjectionMatrix,!1,e.uiProjectionMatrix),c.uniformMatrix4fv(this.colorSelectShader.uniforms.uModelViewMatrix,!1,f),c.uniform3fv(this.colorSelectShader.uniforms.uHSV,o),c.uniform1f(this.colorSelectShader.uniforms.uDisplay,1),c.uniform1f(this.colorSelectShader.uniforms.uRadius,l/n),c.uniform1f(this.colorSelectShader.uniforms.uWheelWidth,u/n);var d=c.FLOAT;c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer),c.vertexAttribPointer(this.colorSelectShader.attributes.aVertexPosition,2,d,!1,0,0),c.enableVertexAttribArray(this.colorSelectShader.attributes.aVertexPosition);var h=c.FLOAT;c.bindBuffer(c.ARRAY_BUFFER,this.uvBuffer),c.vertexAttribPointer(this.colorSelectShader.attributes.aTextureCoord,2,h,!1,0,0),c.enableVertexAttribArray(this.colorSelectShader.attributes.aTextureCoord),c.drawArrays(c.TRIANGLE_STRIP,0,4)}}])&&Xd(n.prototype,t),r&&Xd(n,r),e}();function qd(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Qd(){return(Qd=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Jd(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}un(),un(),un(),un();var eh=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],nh=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"];function th(e){var n=e.type,t=e.widgetProps,r=Jd(e,["type","widgetProps"]),o=an.useContext(ih),i=an.useRef(null);an.useEffect((function(){var e=i.current.getBoundingClientRect(),a=d();g(a,e.x,e.y,0);var l=o.addToDrawList(n,a,e.width,e.height,t,r.zindex||0);return function(){o.removeFromDrawList(l)}}));for(var a=function(e){if(e)return function(n){var t=i.current.getBoundingClientRect();n.clientX-=t.x,n.clientY-=t.y,e(n)}},l=function(e){if(e)return function(n){var t=i.current.getBoundingClientRect();n.clientX-=t.x,n.clientY-=t.y,"mouse"===n.pointerType&&(n.pressure=1),e(n)}},u=0;u<eh.length;u++){var s=eh[u];r.hasOwnProperty(s)&&(r[s]=a(r[s]))}for(var c=0;c<nh.length;c++){var f=nh[c];r.hasOwnProperty(f)&&(r[f]=l(r[f]))}return an.createElement("div",Qd({},r,{ref:i,className:"widget ".concat(r.className)}))}var rh,oh,ih=an.createContext(null);function ah(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return lh(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lh(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lh(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}(oh=rh||(rh={}))[oh.None=0]="None",oh[oh.Hue=1]="Hue",oh[oh.SaturationValue=2]="SaturationValue";var uh=function(e){return e<0?0:e>1?1:e},sh=function(e,n,t){var r,o,i,a,l,u,s,c,f=n.width,d=n.radius,h=n.wheelWidth,p=U();if(j(p,f/2,f/2),z(p,e)>d+h&&t===rh.None)return{type:rh.None};if(z(p,e)>d&&t!==rh.SaturationValue||t===rh.Hue){var m=U();Z(m,e,p);var g=180*(o=[1,0],i=(r=m)[0],a=r[1],l=o[0],u=o[1],s=Math.sqrt(i*i+a*a)*Math.sqrt(l*l+u*u),c=s&&(i*l+a*u)/s,Math.acos(Math.min(Math.max(c,-1),1)))/Math.PI+180;return m[1]<0&&(g=360-g),{type:rh.Hue,hsv:[g,0,0]}}var v=1.5*d,_=v*(2/Math.sqrt(3)),y=e[0]-(p[0]-_/2),b=e[1]-p[1]+d,w=b*(2/Math.sqrt(3)),E=_/2-w/2,T=b/v,S=(y-E)/w;return y>E&&y<E+w&&b<v||t===rh.SaturationValue?{type:rh.SaturationValue,hsv:[0,uh(S),uh(T)]}:{type:rh.None}};function ch(e){var n,t,r,o=e.brushColor,i=e.setBrushColor,a=ah(an.useState(rh.None),2),l=a[0],u=a[1],s=ah(an.useState(function(e){var n=d(),t=Math.min(e[0],e[1],e[2]),r=Math.max(e[0],e[1],e[2]);n[2]=r;var o=r-t;return 0===r?(n[1]=0,n):(n[1]=o/r,0===o?(n[0]=0,n):(e[0]===r?n[0]=e[1]-e[2]/o:e[1]===r?n[0]=2+(e[2]-e[0])/o:n[0]=4+(e[0]-e[1])/o,n[0]*=60,n[0]<0&&(n[0]+=360),n))}(o)),2),c=s[0],f=s[1],p=function(e){f(e),i(function(e){function n(e,n){var t=e[0],r=e[1],o=e[2],i=(n+t/60)%6;return o-o*r*Math.max(0,Math.min(i,4-i,1))}var t=d();return g(t,n(e,5),n(e,3),n(e,1)),t}(e))},m=165*c[2]*2/Math.sqrt(3),v=U();j(v,m*c[1]+110-m/2,165*c[2]),t=v,r=[65,65],(n=v)[0]=t[0]+r[0],n[1]=t[1]+r[1],Z(v,v,[10,10]);var _=function(e){var n=sh([e.clientX,e.clientY],{width:350,radius:110,wheelWidth:40},l),t=h(c);switch(n.type){case rh.Hue:t[0]=n.hsv[0],p(t);break;case rh.SaturationValue:t[1]=n.hsv[1],t[2]=n.hsv[2],p(t)}u(n.type)};return an.createElement(th,{type:"ColorSelect",widgetProps:{hsvColor:c,radius:110,wheelWidth:40},className:"color-widget",style:{height:350,width:350,zIndex:1},onMouseDown:_,onMouseMove:function(e){l!==rh.None&&_(e)},onMouseUp:function(e){u(rh.None)}},an.createElement("div",{style:{position:"relative",display:"block",height:20,width:20,left:v[0],top:v[1],border:"1px solid white",borderRadius:"50%"}},an.createElement("div",{style:{position:"relative",display:"block",height:17,width:17,border:"2px solid black",borderRadius:"50%"}})),an.createElement("div",{style:{position:"absolute",top:172,left:0,height:6,width:"100%",transform:"rotate(".concat(c[0],"deg)")}},an.createElement("div",{style:{position:"relative",display:"block",height:"100%",width:41,left:23,border:"2px solid black"}})))}function fh(e,n,t){return(1-t)*e+t*n}function dh(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return hh(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hh(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hh(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ph(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));var mh=function(){function e(n,t,r,o){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this._color=d();var i=n/2;this.radius=i,this.color=t,this.spacing=r,this.windowManager=o,this.slate=o.slate,this.segmentStart=d(),this.segmentStartPressure=0,this.segmentSoFar=0}var n,t,r;return n=e,(t=[{key:"startStroke",value:function(e,n){this.slate.checkpoint(),m(this.segmentStart,e),this.segmentStartPressure=n,this.segmentSoFar=0}},{key:"continueStroke",value:function(e,n){var t=d();R(t,e,this.segmentStart);for(var r=A(t),o=d();this.segmentSoFar<=r;){var i=this.segmentSoFar/r;y(o,t,i),v(o,o,this.segmentStart);var a=fh(this.segmentStartPressure,n,i),l=this.iteration(o,a),u=this.spacing*l;u<1&&(u=1),this.segmentSoFar+=u}this.segmentSoFar-=r,r<0&&(r=0),this.segmentStartPressure=n,m(this.segmentStart,e),this.windowManager.drawOnNextFrame()}},{key:"finishStroke",value:function(e,n){this.iteration(e,n),this.windowManager.drawOnNextFrame()}},{key:"iteration",value:function(e,n){var t=this.getRadiusForStroke(this.radius,{pressure:n});return e[0]<=-t||e[0]>=this.slate.width+t||e[1]<=-t||e[1]>=this.slate.height+t||(this.fillCircle(e,t),this.slate.markUpdate()),t}},{key:"fillCircle",value:function(e,n){if(n<.5){var t=P();C(t,this._color[0],this._color[1],this._color[2],2*n),this.applyPixelInteger(e,t)}var r=d();g(r,n,n,0);var o=d();R(o,e,r);for(var i=d(),a=Math.floor(o[0]);a<=Math.ceil(o[0]+2*n);a++)for(var l=Math.floor(o[1]);l<=Math.ceil(o[1]+2*n);l++)g(i,a,l,0),this.fillCirclePixel(e,i,n)}},{key:"fillCirclePixel",value:function(e,n,t){var r,o,i,a,l,u=P(),s=1-function(e,n,t){var r=(t-e)/(n-e);return r<0?r=0:r>1&&(r=1),r*r*(3-2*r)}(t-2,t,(r=e,i=(o=n)[0]-r[0],a=o[1]-r[1],l=o[2]-r[2],Math.hypot(i,a,l)));C(u,this._color[0],this._color[1],this._color[2],s),this.applyPixelInteger(n,u)}},{key:"applyPixelInteger",value:function(e,n){_(e,e);var t=4*(e[1]*this.slate.width+e[0]),r=d();g(r,this.slate.buffer[t],this.slate.buffer[t+1],this.slate.buffer[t+2]),y(r,r,1/255);var o,i,a,l,u,s,c,f=d();g(f,n[0],n[1],n[2]),o=f,i=r,a=f,l=n[3],u=i[0],s=i[1],c=i[2],o[0]=u+l*(a[0]-u),o[1]=s+l*(a[1]-s),o[2]=c+l*(a[2]-c),this.slate.buffer[t]=255*f[0],this.slate.buffer[t+1]=255*f[1],this.slate.buffer[t+2]=255*f[2],this.slate.buffer[t+3]=255}},{key:"getRadiusForStroke",value:function(e,n){var t=n.pressure;return e*(t*t)}},{key:"color",set:function(e){var n=dh(e.map(qd),3),t=n[0],r=n[1],o=n[2];g(this._color,t,r,o)}}])&&ph(n.prototype,t),r&&ph(n,r),e}();function gh(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void t(e)}l.done?n(u):Promise.resolve(u).then(r,o)}function vh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _h=function(){function e(n,t,r){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=t,this.height=r,this.buffer=this.createLayerBuffer(!0),this.history=[],this.historyIndex=0,this.updated=!0,this.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)}var n,t,r,o,i;return n=e,(t=[{key:"createLayerBuffer",value:function(e){var n=new Uint8ClampedArray(this.width*this.height*4);return e&&n.fill(255),n}},{key:"load",value:(o=regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yh(n);case 2:t=e.sent,this.buffer=t.data.map((function(e){return Math.floor(255*qd(e/255))})),this.width=t.width,this.height=t.height,this.markUpdate(),this.resetHistory();case 8:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,n=arguments;return new Promise((function(t,r){var i=o.apply(e,n);function a(e){gh(i,t,r,a,l,"next",e)}function l(e){gh(i,t,r,a,l,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"markUpdate",value:function(){this.updated=!0}},{key:"uploadTexture",value:function(e){if(this.updated){e.bindTexture(e.TEXTURE_2D,this.texture);var n=e.RGBA,t=e.RGBA,r=e.UNSIGNED_BYTE;e.texImage2D(e.TEXTURE_2D,0,n,t,r,new ImageData(this.buffer,this.width))}}},{key:"resetHistory",value:function(){this.history=[],this.historyIndex=0}},{key:"checkpoint",value:function(){this.history.length=this.historyIndex;var e=new Uint8ClampedArray(this.buffer);this.history.push(e),this.historyIndex++}},{key:"undo",value:function(){this.historyIndex>this.history.length&&(this.historyIndex=this.history.length),this.historyIndex>0&&(this.history[this.historyIndex]=new Uint8ClampedArray(this.buffer),this.historyIndex--,this.buffer=this.history[this.historyIndex],this.markUpdate())}},{key:"redo",value:function(){this.historyIndex<this.history.length-1&&(this.historyIndex++,this.buffer=this.history[this.historyIndex],this.markUpdate())}}])&&vh(n.prototype,t),r&&vh(n,r),e}(),yh=function(e){return new Promise((function(n,t){var r=document.createElement("img");r.addEventListener("load",(function(){try{var e=document.createElement("canvas");e.width=r.width,e.height=r.height;var o=e.getContext("2d");o.drawImage(r,0,0);var i=o.getImageData(0,0,r.width,r.height);n(i)}catch(e){t(e)}})),r.addEventListener("error",t),r.src=e}))};function bh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wh=d();g(wh,0,0,0);var Eh=function(){function e(n,t){var r=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=n,this.gl=n.getContext("webgl",{alpha:!0}),this.uiProjectionMatrix=i(),Th(this.gl,"OES_texture_float"),this.gl.enable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.enable(this.gl.SCISSOR_TEST),this.viewportToWindow(),this.widgets={};for(var o=0;o<t.length;o++){var a=t[o],l=new a;l.initGL(this.gl).then((function(e){e&&r.drawOnNextFrame()})),this.widgets[a.name]=l}var u=function(){r.drawOnNextFrame()};window.addEventListener("resize",u),window.addEventListener("orientationchange",u),window.addEventListener("keydown",(function(e){"z"===e.key&&e.ctrlKey?(r.slate.undo(),r.drawOnNextFrame()):"y"!==e.key&&"Z"!==e.key||!e.ctrlKey||(r.slate.redo(),r.drawOnNextFrame())})),this.drawId=0,this.drawList=[],this.slate=new _h(this.gl,1024,576),this.mesh=null,this.brushEngine=new mh(40,wh,.4,this)}var n,t,r;return n=e,(t=[{key:"setViewport",value:function(e,n,t,r){var o,i,a,l,u,s,c,f,d,h;this.canvas.height=this.canvas.clientHeight,e+=1,n=this.canvas.height-n-r,o=this.uiProjectionMatrix,f=1/((i=0)-(a=t)),d=1/((l=r)-(u=0)),h=1/((s=-20)-(c=20)),o[0]=-2*f,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*d,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*h,o[11]=0,o[12]=(i+a)*f,o[13]=(u+l)*d,o[14]=(c+s)*h,o[15]=1,this.gl.viewport(e,n,t,r),this.gl.scissor(e,n,t,r)}},{key:"viewportToWindow",value:function(){this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.setViewport(0,this.canvas.height,this.canvas.width,this.canvas.height)}},{key:"draw",value:function(){this.viewportToWindow(),this.gl.clearColor(0,0,0,0),this.gl.clearDepth(1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.slate.uploadTexture(this.gl);for(var e=0;e<this.drawList.length;e++){var n=this.drawList[e],t=n.widget,r=n.position,o=n.width,i=n.height,a=n.widgetProps;this.setViewport(r[0],r[1],o,i),t.draw(this,o,i,a)}}},{key:"drawOnNextFrame",value:function(){var e=this;this.frameRequest||(this.frameRequest=requestAnimationFrame((function(){e.frameRequest=null,e.draw()})))}},{key:"addToDrawList",value:function(e,n,t,r,o,i){n[2]=i;var a=this.drawId++;return this.drawList.push({widget:this.widgets[e],position:n,width:t,height:r,widgetProps:o,id:a}),this.drawList.sort((function(e,n){return e.position[2]-n.position[2]})),this.drawOnNextFrame(),a}},{key:"removeFromDrawList",value:function(e){this.drawList=this.drawList.filter((function(n){return n.id!==e})),this.drawOnNextFrame()}}])&&bh(n.prototype,t),r&&bh(n,r),e}(),Th=function(e,n){var t=e.getExtension(n);if(!t)throw new Error("browser or GPU does not support required extension ".concat(n));return t};function Sh(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void t(e)}l.done?n(u):Promise.resolve(u).then(r,o)}function Rh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xh=e("#define GLSLIFY 1\nattribute vec4 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying highp vec2 vTextureCoord;\n\nvoid main() {\n    gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n    vTextureCoord = aTextureCoord;\n}"),Ah=e("precision mediump float;\n\nvec3 rgb_to_srgb_1540259130(vec3 rgb) {\n    bvec3 cutoff = lessThan(rgb, vec3(0.0031308));\n    vec3 higher = vec3(1.055)*pow(rgb, vec3(1.0/2.4)) - vec3(0.055);\n    vec3 lower = rgb * vec3(12.92);\n\n    return mix(higher, lower, vec3(cutoff));\n}\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying highp vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main() {\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    gl_FragColor.rgb = rgb_to_srgb_1540259130(gl_FragColor.rgb);\n    gl_FragColor.rgb *= gl_FragColor.a; // premultiply alpha\n}"),Ph=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r,o,i;return n=e,(t=[{key:"initGL",value:(o=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.imagePositionBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.imagePositionBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(Ud(0,0,1,1)),n.STATIC_DRAW),this.imageShader=Bd(n,xh,Ah),this.imageUVBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.imageUVBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(jd),n.STATIC_DRAW),e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,n=arguments;return new Promise((function(t,r){var i=o.apply(e,n);function a(e){Sh(i,t,r,a,l,"next",e)}function l(e){Sh(i,t,r,a,l,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"draw",value:function(e,n,t,r){var o=r.scale,i=r.position,a=r.drawUVMap,l=e.gl,c=Ch(e.slate,n,t,o,i);l.useProgram(this.imageShader.program),l.uniformMatrix4fv(this.imageShader.uniforms.uProjectionMatrix,!1,e.uiProjectionMatrix),l.uniformMatrix4fv(this.imageShader.uniforms.uModelViewMatrix,!1,c);var f=l.FLOAT;l.bindBuffer(l.ARRAY_BUFFER,this.imagePositionBuffer),l.vertexAttribPointer(this.imageShader.attributes.aVertexPosition,2,f,!1,0,0),l.enableVertexAttribArray(this.imageShader.attributes.aVertexPosition);var d=l.FLOAT;l.bindBuffer(l.ARRAY_BUFFER,this.imageUVBuffer),l.vertexAttribPointer(this.imageShader.attributes.aTextureCoord,2,d,!1,0,0),l.enableVertexAttribArray(this.imageShader.attributes.aTextureCoord),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,e.slate.texture),l.uniform1i(this.imageShader.uniforms.uSampler,0),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.drawArrays(l.TRIANGLE_STRIP,0,4);var h=e.mesh;a&&h&&(s(c,c,[1,-1,1]),u(c,c,[0,-1,0]),h.drawUV(l,c,e.uiProjectionMatrix))}}])&&Rh(n.prototype,t),r&&Rh(n,r),e}();function Ch(e,n,t,r,o){var l=i();a(l),s(l,l,[e.width,e.height,1]);var c=e.width*r,d=e.height*r,h=i();a(h),u(h,h,[n/2-c/2,t/2-d/2,0]),s(h,h,[r,r,1]),u(h,h,o);var p=i();return f(p,h,l),p}un(),un();var Oh=27*Math.PI/180,Ih=function(e){var n=e.deltaY;switch(e.deltaMode){case 0:n/=100;break;case 1:n/=3;break;case 2:n*=document.body.clientHeight,n/=100}return n};function kh(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return Lh(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lh(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lh(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Nh(){var e=an.useContext(ih),n=kh(an.useState(1),2),t=n[0],r=n[1],o=kh(an.useState(d()),2),a=o[0],u=o[1],s=kh(an.useState(!1),2),c=s[0],f=s[1],p=kh(an.useState(d()),2),m=p[0],_=p[1],y=kh(an.useState(d()),2),b=y[0],w=y[1],E=kh(an.useState(1),2),S=E[0],A=E[1],P=kh(an.useState(!1),2),C=P[0],O=P[1],I=an.useRef(null),k=function(n){var r=I.current.getBoundingClientRect(),o=Ch(e.slate,r.width,r.height,t,a),u=i();l(u,o);var s=d();return T(s,n,u),x(s,s,[e.slate.width,e.slate.height,1]),s},L=function(){f(!1)};return an.createElement("div",{style:{flexGrow:1},ref:I},an.createElement(th,{type:"TextureDisplay",widgetProps:{scale:t,position:a,drawUVMap:C},style:{height:"100%",position:"relative",cursor:c?"grabbing":"none"},zindex:-1,onWheel:function(e){var n=Ih(e);r(n<0?t/(2/3*-n):t*(n*(2/3)))},onPointerDown:function(n){var t,r=d();if(g(r,n.clientX,n.clientY,0),1===n.button||0===n.button&&n.altKey)t=r,f(!0),_(h(t));else if(0===n.button){var o=k(r);e.brushEngine.startStroke(o,n.pressure),A(n.pressure)}},onPointerUp:function(n){var t=d();if(g(t,n.clientX,n.clientY,0),c)L();else if(0===n.button){var r=k(t);e.brushEngine.finishStroke(r,n.pressure),A(1)}},onPointerMove:function(n){var t,r,o,i=d();if(g(i,n.clientX,n.clientY,0),w(i),c)r=k(t=i),o=k(m),R(r,r,o),v(r,r,a),u(r),_(h(t));else if(1&n.buttons){var l=k(i);e.brushEngine.continueStroke(l,n.pressure),A(n.pressure)}},onPointerLeave:function(e){L();var n=d();g(n,-100,-100,0),w(n)}},an.createElement("div",null,an.createElement("input",{type:"checkbox",id:"uv",checked:C,onChange:function(e){return O(e.target.checked)}}),an.createElement("label",{htmlFor:"uv"},"Show UV Map")),an.createElement(Dh,{position:b,radius:e.brushEngine.getRadiusForStroke(e.brushEngine.radius,{pressure:S})*t})))}var Dh=function(e){var n=e.position,t=e.radius;return an.createElement("div",{style:{position:"absolute",left:n[0]-t,top:n[1]-t,width:2*t,height:2*t,border:"1px solid #7f7f7f",borderRadius:"50%",zIndex:-1}})};un(),un();var Mh,Fh=null;var Hh,Yh=function(){return Fh||(Fh=function(){try{throw new Error}catch(n){var e=(""+n.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return(""+e[0]).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}()),Fh},Bh=t;function Uh(e){if(""===e)return".";var n="/"===e[e.length-1]?e.slice(0,e.length-1):e,t=n.lastIndexOf("/");return-1===t?".":n.slice(0,t)}function jh(e,n){if(e===n)return"";var t=e.split("/");"."===t[0]&&t.shift();var r,o,i=n.split("/");for("."===i[0]&&i.shift(),r=0;(r<i.length||r<t.length)&&null==o;r++)t[r]!==i[r]&&(o=r);var a=[];for(r=0;r<t.length-o;r++)a.push("..");return i.length>o&&a.push.apply(a,i.slice(o)),a.join("/")}function zh(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void t(e)}l.done?n(u):Promise.resolve(u).then(r,o)}function Gh(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){zh(i,r,o,a,l,"next",e)}function l(e){zh(i,r,o,a,l,"throw",e)}a(void 0)}))}}(Hh=function(e,n){return jh(Uh(Bh(e)),Bh(n))})._dirname=Uh,Hh._relative=jh,Mh=Yh()+Hh("4a60b2c8d21036d2","b99aea282a81b2b9");var Vh=null,Wh=e(Mh),Xh=function(){var e=Gh(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Vh){e.next=2;break}return e.abrupt("return",Vh);case 2:return e.next=4,WebAssembly.instantiateStreaming(fetch(Wh));case 4:return Vh=e.sent,e.abrupt("return",Vh);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Zh(e){return $h.apply(this,arguments)}function $h(){return($h=Gh(regeneratorRuntime.mark((function e(n){var t,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xh();case 2:return t=e.sent,r=t.hey,o=t.malloc,i=t.memory,console.log(r,o,i),e.abrupt("return",{width:10,height:10,pixels:new Float32Array});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kh;function qh(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void t(e)}l.done?n(u):Promise.resolve(u).then(r,o)}Kh=Yh()+Hh("4a60b2c8d21036d2","7a570996f77fc665");var Qh=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return t=e.sent,e.next=5,t.arrayBuffer();case 5:return r=e.sent,e.next=8,Zh(r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){qh(i,r,o,a,l,"next",e)}function l(e){qh(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),Jh=e(Kh);function ep(){return an.useEffect((function(){Qh(Jh).then((function(e){return console.log("loadExr returned",e)}))}),[]),an.createElement("div",{style:{color:"white",padding:"20px"}},an.createElement("h2",null,"RTTODT"))}function np(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return tp(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tp(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tp(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function rp(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function op(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ip=e("#define GLSLIFY 1\nattribute vec4 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aVertexNormal;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying highp vec2 vTextureCoord;\nvarying highp vec3 vVertexNormal;\n\nvoid main() {\n    gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n    vTextureCoord = aTextureCoord;\n    vVertexNormal = normalize(aVertexNormal); // TODO: possibly not necessary if normalize is set in gl.attribArray\n}"),ap=e('/*\n# License Terms for Academy Color Encoding System Components #\nhttps://github.com/ampas/aces-dev/blob/v1.0/LICENSE.md\n\nAcademy Color Encoding System (ACES) software and tools are provided by the\nAcademy under the following terms and conditions: A worldwide, royalty-free,\nnon-exclusive right to copy, modify, create derivatives, and use, in source and\nbinary forms, is hereby granted, subject to acceptance of this license.\n\nCopyright (c) 2013 Academy of Motion Picture Arts and Sciences (A.M.P.A.S.).\nPortions contributed by others as indicated. All rights reserved.\n\nPerformance of any of the aforementioned acts indicates acceptance to be bound\nby the following terms and conditions:\n\n* Copies of source code, in whole or in part, must retain the above copyright\nnotice, this list of conditions and the Disclaimer of Warranty.\n\n* Use in binary form must retain the above copyright notice, this list of\nconditions and the Disclaimer of Warranty in the documentation and/or other\nmaterials provided with the distribution.\n\n* Nothing in this license shall be deemed to grant any rights to trademarks,\ncopyrights, patents, trade secrets or any other intellectual property of\nA.M.P.A.S. or any contributors, except as expressly stated herein.\n\n* Neither the name "A.M.P.A.S." nor the name of any other contributors to this\nsoftware may be used to endorse or promote products derivative of or based on\nthis software without express prior written permission of A.M.P.A.S. or the\ncontributors, as appropriate.\n\nThis license shall be construed pursuant to the laws of the State of\nCalifornia, and any disputes related thereto shall be subject to the\njurisdiction of the courts therein.\n\nDisclaimer of Warranty: THIS SOFTWARE IS PROVIDED BY A.M.P.A.S. AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\nTHE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND\nNON-INFRINGEMENT ARE DISCLAIMED. IN NO EVENT SHALL A.M.P.A.S., OR ANY\nCONTRIBUTORS OR DISTRIBUTORS, BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, RESITUTIONARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\nPROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\nLIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\nOR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\nADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nWITHOUT LIMITING THE GENERALITY OF THE FOREGOING, THE ACADEMY SPECIFICALLY\nDISCLAIMS ANY REPRESENTATIONS OR WARRANTIES WHATSOEVER RELATED TO PATENT OR\nOTHER INTELLECTUAL PROPERTY RIGHTS IN THE ACADEMY COLOR ENCODING SYSTEM, OR\nAPPLICATIONS THEREOF, HELD BY PARTIES OTHER THAN A.M.P.A.S.,WHETHER DISCLOSED OR\nUNDISCLOSED.\n*/\n\nprecision mediump float;\n\nprecision mediump float;\n\nfloat log10(float n) {\n    return log(n) / log(10.0);\n}\n\nprecision mediump float;\n\n// Textbook monomial to basis-function conversion matrix.\nconst mat3 M = mat3(\n    vec3( 0.5, -1.0, 0.5),\n    vec3(-1.0,  1.0, 0.5),\n    vec3( 0.5,  0.0, 0.0)\n);\n\nprecision mediump float;\n\nconst float EPSILON = pow(2.0, -52.0);\n\nfloat segmented_spline_c5_fwd_2976544439(float x) {\n    float coefsLow[6]; // coefs for B-spline between minPoint and midPoint (units of log luminance)\n    coefsLow[0] = -4.0000000000;\n    coefsLow[1] = -4.0000000000;\n    coefsLow[2] = -3.1573765773;\n    coefsLow[3] = -0.4852499958;\n    coefsLow[4] = 1.8477324706;\n    coefsLow[5] = 1.8477324706;\n\n    float coefsHigh[6]; // coefs for B-spline between midPoint and maxPoint (units of log luminance)\n    coefsHigh[0] = -0.7185482425;\n    coefsHigh[1] =  2.0810307172;\n    coefsHigh[2] =  3.6681241237;\n    coefsHigh[3] =  4.0000000000;\n    coefsHigh[4] =  4.0000000000;\n    coefsHigh[5] =  4.0000000000;\n\n    vec2 minPoint = vec2(0.18*pow(2.,-15.0), 0.0001); // {luminance, luminance} linear extension below this\n    vec2 midPoint = vec2(0.18,                4.8); // {luminance, luminance} \n    vec2 maxPoint = vec2(0.18*pow(2., 18.0), 10000.); // {luminance, luminance} linear extension above this\n    float slopeLow = 0.0;       // log-log slope of low linear extension // TODO: some things are multiplied by this; simplify\n    float slopeHigh = 0.0;      // log-log slope of high linear extension\n\n    const int N_KNOTS_LOW = 4;\n    const int N_KNOTS_HIGH = 4;\n\n    // Check for negatives or zero before taking the log. If negative or zero,\n    // set to the smallest positive float (EPSILON).\n    float logx = log10(max(x, EPSILON)); \n\n    float logy;\n\n    if ( logx <= log10(minPoint.x) ) { \n\n        logy = logx * slopeLow + ( log10(minPoint.y) - slopeLow * log10(minPoint.x) );\n\n    } else if (( logx > log10(minPoint.x) ) && ( logx < log10(midPoint.x) )) {\n\n        float knot_coord = float(N_KNOTS_LOW-1) * (logx-log10(minPoint.x))/(log10(midPoint.x)-log10(minPoint.x));\n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec3 cf;\n        if ( j <= 0) {\n            cf = vec3(coefsLow[0],  coefsLow[1],  coefsLow[2]);\n        } else if ( j == 1) {\n            cf = vec3(coefsLow[1],  coefsLow[2],  coefsLow[3]);\n        } else if ( j == 2) {\n            cf = vec3(coefsLow[2],  coefsLow[3],  coefsLow[4]);\n        } else if ( j == 3) {\n            cf = vec3(coefsLow[3],  coefsLow[4],  coefsLow[5]);\n        } else if ( j == 4) {\n            cf = vec3(coefsLow[4],  coefsLow[5],  0.0        );\n        } else if ( j == 5) {\n            cf = vec3(coefsLow[5],  0.0,          0.0        );\n        } else if ( j == 6) {\n            cf = vec3(0.0,          0.0,          0.0        );\n        } \n\n        vec3 monomials = vec3( t * t, t, 1. );\n        logy = dot(monomials, M * cf);\n\n    } else if (( logx >= log10(midPoint.x) ) && ( logx < log10(maxPoint.x) )) {\n\n        float knot_coord = float(N_KNOTS_HIGH-1) * (logx-log10(midPoint.x))/(log10(maxPoint.x)-log10(midPoint.x));\n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec3 cf;\n        if ( j <= 0) {\n            cf = vec3(coefsHigh[0],  coefsHigh[1],  coefsHigh[2]);\n        } else if ( j == 1) {\n            cf = vec3(coefsHigh[1],  coefsHigh[2],  coefsHigh[3]);\n        } else if ( j == 2) {\n            cf = vec3(coefsHigh[2],  coefsHigh[3],  coefsHigh[4]);\n        } else if ( j == 3) {\n            cf = vec3(coefsHigh[3],  coefsHigh[4],  coefsHigh[5]);\n        } else if ( j == 4) {\n            cf = vec3(coefsHigh[4],  coefsHigh[5],  0.0         );\n        } else if ( j == 5) {\n            cf = vec3(coefsHigh[5],  0.0,           0.0         );\n        } else if ( j == 6) {\n            cf = vec3(0.0,           0.0,           0.0         );\n        } \n\n        vec3 monomials = vec3( t * t, t, 1. );\n        logy = dot(monomials, M * cf);\n\n    } else { //if ( logIn >= log10(maxPoint.x) ) { \n\n        logy = logx * slopeHigh + ( log10(maxPoint.y) - slopeHigh * log10(maxPoint.x) );\n\n    }\n\n    return pow(logy, 10.0);\n}\n\nconst mat3 AP1_2_XYZ_MAT_1062606552 = mat3(\n     0.6624541811, 0.1340042065, 0.1561876870,\n     0.2722287168, 0.6740817658, 0.0536895174,\n     -0.0055746495, 0.0040607335, 1.0103391003\n);\n\nprecision mediump float;\n\nconst mat3 XYZ_2_AP0_MAT_1604150559 = mat3(\n    1.0498110175, 0.0000000000, -0.0000974845,\n    -0.4959030231, 1.3733130458, 0.0982400361,\n    0.0000000000, 0.0000000000, 0.9912520182\n);\n\nconst mat3 AP1_2_AP0_MAT_421267681 = XYZ_2_AP0_MAT_1604150559 * AP1_2_XYZ_MAT_1062606552;\n\nprecision mediump float;\n\nprecision mediump float;\n\nconst mat3 XYZ_2_AP1_MAT_1535977339 = mat3(\n    1.6410233797, -0.3248032942, -0.2364246952,\n    -0.6636628587, 1.6153315917, 0.0167563477,\n    0.0117218943, -0.0082844420, 0.9883948585\n);\n\nprecision mediump float;\n\nconst mat3 AP0_2_XYZ_MAT_1460171947 = mat3(\n    0.9525523959, 0.0000000000, 0.0000936786,\n    0.3439664498, 0.7281660966, -0.0721325464,\n    0.0000000000, 0.0000000000, 1.0088251844\n);\n\nconst mat3 AP0_2_AP1_MAT_3090588381 = XYZ_2_AP1_MAT_1535977339 * AP0_2_XYZ_MAT_1460171947;\n\nprecision mediump float;\n\nconst vec3 AP1_RGB2Y_870892966 = vec3(\n    AP1_2_XYZ_MAT_1062606552[0][1],\n    AP1_2_XYZ_MAT_1062606552[1][1],\n    AP1_2_XYZ_MAT_1062606552[2][1]\n);\n\n#define PI 3.1415926538\n\n// "Glow" module constants\nconst float RRT_GLOW_GAIN_3903765079 = 0.05;\nconst float RRT_GLOW_MID_3903765079 = 0.08;\n\n// Red modifier constants\nconst float RRT_RED_SCALE_3903765079 = 0.82;\nconst float RRT_RED_PIVOT_3903765079 = 0.03;\nconst float RRT_RED_HUE_3903765079 = 0.0;\nconst float RRT_RED_WIDTH_3903765079 = 135.0;\n\n// Desaturation contants\nconst float RRT_SAT_FACTOR_3903765079 = 0.96;\nconst mat3 RRT_SAT_MAT_3903765079 = mat3(\n    vec3((1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_870892966[0] + RRT_SAT_FACTOR_3903765079, (1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_870892966[1], (1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_870892966[2]),\n    vec3((1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_870892966[0], (1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_870892966[1] + RRT_SAT_FACTOR_3903765079, (1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_870892966[2]),\n    vec3((1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_870892966[0], (1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_870892966[1], (1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_870892966[2] + RRT_SAT_FACTOR_3903765079)\n);\n\nfloat rgb_2_saturation_3903765079(vec3 rgb) {\n    float max_rgb = max(rgb.r, max(rgb.g, rgb.b));\n    float min_rgb = min(rgb.r, min(rgb.g, rgb.b));\n    return (max(max_rgb, 1e-10) - max(min_rgb, 1e-10)) / max(max_rgb, 1e-2);\n}\n\nfloat rgb_2_yc_3903765079(vec3 rgb, float ycRadiusWeight /* this defaults to 1.75 */)\n{\n  // Converts RGB to a luminance proxy, here called YC\n  // YC is ~ Y + K * Chroma\n  // Constant YC is a cone-shaped surface in RGB space, with the tip on the \n  // neutral axis, towards white.\n  // YC is normalized: RGB 1 1 1 maps to YC = 1\n  //\n  // ycRadiusWeight defaults to 1.75, although can be overridden in function \n  // call to rgb_2_yc\n  // ycRadiusWeight = 1 -> YC for pure cyan, magenta, yellow == YC for neutral \n  // of same value\n  // ycRadiusWeight = 2 -> YC for pure red, green, blue  == YC for  neutral of \n  // same value.\n\n  float r = rgb.r; \n  float g = rgb.g; \n  float b = rgb.b;\n  \n  float chroma = sqrt(b*(b-g)+g*(g-r)+r*(r-b));\n\n  return ( b + g + r + ycRadiusWeight * chroma) / 3.;\n}\n\nfloat sigmoid_shaper_3903765079(float x)\n{\n    // Sigmoid function in the range 0 to 1 spanning -2 to +2.\n\n    float t = max(1. - abs( x / 2.), 0.);\n    float y = 1. + sign(x) * (1. - t * t);\n\n    return y / 2.;\n}\n\nfloat glow_fwd_3903765079(float ycIn, float glowGainIn, float glowMid) {\n    float glowGainOut;\n\n    // TODO: rewrite as branchless\n    if (ycIn <= 2.0/3.0 * glowMid) {\n        glowGainOut = glowGainIn;\n    } else if (ycIn >= 2.0 * glowMid) {\n        glowGainOut = 0.0;\n    } else {\n        glowGainOut = glowGainIn * (glowMid / ycIn - 1.0 / 2.0);\n    }\n\n    return glowGainOut;\n}\n\nfloat rgb_2_hue_3903765079(vec3 rgb) {\n    float hue;\n\n    if (rgb.r == rgb.g && rgb.g == rgb.b) {\n        hue = 0.0; // RGB triplets where RGB are equal have an undefined hue\n    } else {\n        hue = (180.0 / PI) * atan(sqrt(3.0) * (rgb.g - rgb.b), 2.0 * rgb.r - rgb.g - rgb.b); // TODO: hard code sqrt_3 or use optimizer\n    }\n\n    if (hue < 0.0) {\n        hue = hue + 360.0;\n    }\n\n    return hue;\n}\n\nfloat center_hue_3903765079(float hue, float centerH) {\n    float hueCentered = hue - centerH;\n    if (hueCentered < -180.0) {\n        hueCentered = hueCentered + 360.0;\n    } else if (hueCentered > 180.0) {\n        hueCentered = hueCentered - 360.0;\n    }\n    return hueCentered;\n}\n\nconst mat4 cubic_basis_m_3903765079 = mat4( // row major since these are looked up directly atm\n    vec4( -1./6.0,  3./6.0, -3./6.0,  1./6.0 ),\n    vec4(  3./6.0, -6./6.0,  3./6.0,  0./6.0 ),\n    vec4( -3./6.0,  0./6.0,  3./6.0,  0./6.0 ),\n    vec4(  1./6.0,  4./6.0,  1./6.0,  0./6.0 )\n);\n\nfloat cubic_basis_shaper_3903765079(float x, float w) {\n    float knots[5];\n    knots[0] = -w / 2.0;\n    knots[1] = -w / 4.0;\n    knots[2] = 0.0;\n    knots[3] = w / 4.0;\n    knots[4] = w / 2.0;\n\n    float y = 0.0;\n\n    if ((x > knots[0]) && (x < knots[4])) { // TODO: branchless\n            \n        float knot_coord = (x - knots[0]) * 4./w;  \n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec4 monomials = vec4(t * t * t, t * t, t, 1.0);\n\n        if (j == 3) { // TODO: matrix multiplication\n            y = monomials.x * cubic_basis_m_3903765079[0].x + monomials.y * cubic_basis_m_3903765079[1].x + monomials.z * cubic_basis_m_3903765079[2].x + monomials.w * cubic_basis_m_3903765079[3].x;\n        } else if ( j == 2) {\n            y = monomials.x * cubic_basis_m_3903765079[0].y + monomials.y * cubic_basis_m_3903765079[1].y + monomials.z * cubic_basis_m_3903765079[2].y + monomials.w * cubic_basis_m_3903765079[3].y;\n        } else if ( j == 1) {\n            y = monomials.x * cubic_basis_m_3903765079[0].z + monomials.y * cubic_basis_m_3903765079[1].z + monomials.z * cubic_basis_m_3903765079[2].z + monomials.w * cubic_basis_m_3903765079[3].z;\n        } else if ( j == 0) {\n            y = monomials.x * cubic_basis_m_3903765079[0].w + monomials.y * cubic_basis_m_3903765079[1].w + monomials.z * cubic_basis_m_3903765079[2].w + monomials.w * cubic_basis_m_3903765079[3].w;\n        } else {\n            y = 0.0;\n        }\n    }\n  \n    return y * 3.0 / 2.0;\n}\n\n// Reference Rendering Transform (RRT)\n//\n// Input is ACES\n// Output is OCES\nvec3 RRT(vec3 aces) {\n    // --- Glow module --- //\n    float saturation = rgb_2_saturation_3903765079(aces);\n    float ycIn = rgb_2_yc_3903765079(aces, 1.75);\n    float s = sigmoid_shaper_3903765079((saturation - 0.4) / 0.2); // TODO: smoothstep is sigmoid; probably an easy replacement\n    float addedGlow = 1.0 + glow_fwd_3903765079(ycIn, RRT_GLOW_GAIN_3903765079 * s, RRT_GLOW_MID_3903765079);\n\n    aces = aces * addedGlow;\n\n    // --- Red modifier --- //\n    float hue = rgb_2_hue_3903765079(aces);\n    float centeredHue = center_hue_3903765079(hue, RRT_RED_HUE_3903765079); // TODO: this seems to be a no-op?\n    float hueWeight = cubic_basis_shaper_3903765079(centeredHue, RRT_RED_WIDTH_3903765079);\n\n    aces.r = aces.r + hueWeight * saturation * (RRT_RED_PIVOT_3903765079 - aces.r) * (1.0 - RRT_RED_SCALE_3903765079);\n\n    // --- ACES to RGB rendering space --- //\n    aces = max(aces, 0.0); // avoids saturated negative colors from becoming positive in the matrix\n\n    vec3 rgbPre = AP0_2_AP1_MAT_3090588381 * aces;\n\n    rgbPre = max(rgbPre, 0.0);\n\n    // --- Global desaturation --- //\n    rgbPre = RRT_SAT_MAT_3903765079 * rgbPre;\n\n    // --- Apply the tonescale independently in rendering-space RGB --- //\n    vec3 rgbPost = vec3(\n        segmented_spline_c5_fwd_2976544439(rgbPre.r),\n        segmented_spline_c5_fwd_2976544439(rgbPre.g),\n        segmented_spline_c5_fwd_2976544439(rgbPre.b)\n    );\n\n    // --- RGB rendering space to OCES --- //\n    vec3 rgbOces = AP1_2_AP0_MAT_421267681 * rgbPost;\n\n    return rgbOces;\n}\n\nfloat segmented_spline_c9_fwd_3903765079(float x) {\n    float coefsLow[10];    // coefs for B-spline between minPoint and midPoint (units of log luminance)\n    coefsLow[0] = -1.6989700043;\n    coefsLow[1] = -1.6989700043;\n    coefsLow[2] = -1.4779000000;\n    coefsLow[3] = -1.2291000000;\n    coefsLow[4] = -0.8648000000;\n    coefsLow[5] = -0.4480000000;\n    coefsLow[6] =  0.0051800000;\n    coefsLow[7] =  0.4511080334;\n    coefsLow[8] =  0.9113744414;\n    coefsLow[9] =  0.9113744414;\n\n    float coefsHigh[10];   // coefs for B-spline between midPoint and maxPoint (units of log luminance)\n    coefsHigh[0] = 0.5154386965;\n    coefsHigh[1] = 0.8470437783;\n    coefsHigh[2] = 1.1358000000;\n    coefsHigh[3] = 1.3802000000;\n    coefsHigh[4] = 1.5197000000;\n    coefsHigh[5] = 1.5985000000;\n    coefsHigh[6] = 1.6467000000;\n    coefsHigh[7] = 1.6746091357;\n    coefsHigh[8] = 1.6878733390;\n    coefsHigh[9] = 1.6878733390;\n\n    vec2 minPoint = vec2(segmented_spline_c5_fwd_2976544439( 0.18*pow(2.,-6.5) ),  0.02); // {luminance, luminance} linear extension below this\n    vec2 midPoint = vec2(segmented_spline_c5_fwd_2976544439( 0.18 ),                4.8); // {luminance, luminance} \n    vec2 maxPoint = vec2(segmented_spline_c5_fwd_2976544439( 0.18*pow(2.,6.5) ),   48.0); // {luminance, luminance} linear extension above this\n    float slopeLow  = 0.0;       // log-log slope of low linear extension\n    float slopeHigh = 0.04;      // log-log slope of high linear extension\n\n    const int N_KNOTS_LOW = 8;\n    const int N_KNOTS_HIGH = 8;\n\n    // Check for negatives or zero before taking the log. If negative or zero,\n    // set to EPSILON.\n    float logx = log10(max(x, EPSILON)); \n\n    float logy;\n\n    if ( logx <= log10(minPoint.x) ) { \n        logy = logx * slopeLow + ( log10(minPoint.y) - slopeLow * log10(minPoint.x) );\n    } else if (( logx > log10(minPoint.x) ) && ( logx < log10(midPoint.x) )) {\n        float knot_coord = float(N_KNOTS_LOW-1) * (logx-log10(minPoint.x))/(log10(midPoint.x)-log10(minPoint.x));\n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec3 cf;\n        if ( j <= 0) {\n            cf = vec3(coefsLow[0],  coefsLow[1],  coefsLow[2]);\n        } else if ( j == 1) {\n            cf = vec3(coefsLow[1],  coefsLow[2],  coefsLow[3]);\n        } else if ( j == 2) {\n            cf = vec3(coefsLow[2],  coefsLow[3],  coefsLow[4]);\n        } else if ( j == 3) {\n            cf = vec3(coefsLow[3],  coefsLow[4],  coefsLow[5]);\n        } else if ( j == 4) {\n            cf = vec3(coefsLow[4],  coefsLow[5],  coefsLow[6]);\n        } else if ( j == 5) {\n            cf = vec3(coefsLow[5],  coefsLow[6],  coefsLow[7]);\n        } else if ( j == 6) {\n            cf = vec3(coefsLow[6],  coefsLow[7],  coefsLow[8]);\n        } \n\n        vec3 monomials = vec3( t * t, t, 1. );\n        logy = dot(monomials, M * cf);\n    } else if (( logx >= log10(midPoint.x) ) && ( logx < log10(maxPoint.x) )) {\n\n        float knot_coord = float(N_KNOTS_HIGH-1) * (logx-log10(midPoint.x))/(log10(maxPoint.x)-log10(midPoint.x));\n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec3 cf;\n        if ( j <= 0) {\n            cf = vec3(coefsHigh[0], coefsHigh[1], coefsHigh[2]);\n        } else if ( j == 1) {\n            cf = vec3(coefsHigh[1], coefsHigh[2], coefsHigh[3]);\n        } else if ( j == 2) {\n            cf = vec3(coefsHigh[2], coefsHigh[3], coefsHigh[4]);\n        } else if ( j == 3) {\n            cf = vec3(coefsHigh[3], coefsHigh[4], coefsHigh[5]);\n        } else if ( j == 4) {\n            cf = vec3(coefsHigh[4], coefsHigh[5], coefsHigh[6]);\n        } else if ( j == 5) {\n            cf = vec3(coefsHigh[5], coefsHigh[6], coefsHigh[7]);\n        } else if ( j == 6) {\n            cf = vec3(coefsHigh[6], coefsHigh[7], coefsHigh[8]);\n        } \n\n        vec3 monomials = vec3( t * t, t, 1. );\n        logy = dot(monomials, M * cf);\n    } else { //if ( logIn >= log10(maxPoint.x) ) { \n        logy = logx * slopeHigh + ( log10(maxPoint.y) - slopeHigh * log10(maxPoint.x) );\n    }\n\n    return pow(logy, 10.0);\n}\n\n/*\n# License Terms for Academy Color Encoding System Components #\nhttps://github.com/ampas/aces-dev/blob/v1.0/LICENSE.md\n\nAcademy Color Encoding System (ACES) software and tools are provided by the\nAcademy under the following terms and conditions: A worldwide, royalty-free,\nnon-exclusive right to copy, modify, create derivatives, and use, in source and\nbinary forms, is hereby granted, subject to acceptance of this license.\n\nCopyright (c) 2013 Academy of Motion Picture Arts and Sciences (A.M.P.A.S.).\nPortions contributed by others as indicated. All rights reserved.\n\nPerformance of any of the aforementioned acts indicates acceptance to be bound\nby the following terms and conditions:\n\n* Copies of source code, in whole or in part, must retain the above copyright\nnotice, this list of conditions and the Disclaimer of Warranty.\n\n* Use in binary form must retain the above copyright notice, this list of\nconditions and the Disclaimer of Warranty in the documentation and/or other\nmaterials provided with the distribution.\n\n* Nothing in this license shall be deemed to grant any rights to trademarks,\ncopyrights, patents, trade secrets or any other intellectual property of\nA.M.P.A.S. or any contributors, except as expressly stated herein.\n\n* Neither the name "A.M.P.A.S." nor the name of any other contributors to this\nsoftware may be used to endorse or promote products derivative of or based on\nthis software without express prior written permission of A.M.P.A.S. or the\ncontributors, as appropriate.\n\nThis license shall be construed pursuant to the laws of the State of\nCalifornia, and any disputes related thereto shall be subject to the\njurisdiction of the courts therein.\n\nDisclaimer of Warranty: THIS SOFTWARE IS PROVIDED BY A.M.P.A.S. AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\nTHE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND\nNON-INFRINGEMENT ARE DISCLAIMED. IN NO EVENT SHALL A.M.P.A.S., OR ANY\nCONTRIBUTORS OR DISTRIBUTORS, BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, RESITUTIONARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\nPROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\nLIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\nOR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\nADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nWITHOUT LIMITING THE GENERALITY OF THE FOREGOING, THE ACADEMY SPECIFICALLY\nDISCLAIMS ANY REPRESENTATIONS OR WARRANTIES WHATSOEVER RELATED TO PATENT OR\nOTHER INTELLECTUAL PROPERTY RIGHTS IN THE ACADEMY COLOR ENCODING SYSTEM, OR\nAPPLICATIONS THEREOF, HELD BY PARTIES OTHER THAN A.M.P.A.S.,WHETHER DISCLOSED OR\nUNDISCLOSED.\n*/\n\nprecision mediump float;\n\nvec3 rgb_to_srgb_2281831123(vec3 rgb) {\n    bvec3 cutoff = lessThan(rgb, vec3(0.0031308));\n    vec3 higher = vec3(1.055)*pow(rgb, vec3(1.0/2.4)) - vec3(0.055);\n    vec3 lower = rgb * vec3(12.92);\n\n    return mix(higher, lower, vec3(cutoff));\n}\n\nprecision mediump float;\n\nconst mat3 DISPLAY_PRI_2_XYZ_1540259130 = mat3(\n    3.24096994, -0.96924364, 0.05563008,\n    -1.53738318, 1.8759675, -0.20397696,\n    -0.49861076, 0.04155506, 1.05697151\n);\n\nprecision mediump float;\n\n#define PI 3.1415926538\n\nfloat segmented_spline_c9_fwd_2197045468(float x) {\n    float coefsLow[10];    // coefs for B-spline between minPoint and midPoint (units of log luminance)\n    coefsLow[0] = -1.6989700043;\n    coefsLow[1] = -1.6989700043;\n    coefsLow[2] = -1.4779000000;\n    coefsLow[3] = -1.2291000000;\n    coefsLow[4] = -0.8648000000;\n    coefsLow[5] = -0.4480000000;\n    coefsLow[6] =  0.0051800000;\n    coefsLow[7] =  0.4511080334;\n    coefsLow[8] =  0.9113744414;\n    coefsLow[9] =  0.9113744414;\n\n    float coefsHigh[10];   // coefs for B-spline between midPoint and maxPoint (units of log luminance)\n    coefsHigh[0] = 0.5154386965;\n    coefsHigh[1] = 0.8470437783;\n    coefsHigh[2] = 1.1358000000;\n    coefsHigh[3] = 1.3802000000;\n    coefsHigh[4] = 1.5197000000;\n    coefsHigh[5] = 1.5985000000;\n    coefsHigh[6] = 1.6467000000;\n    coefsHigh[7] = 1.6746091357;\n    coefsHigh[8] = 1.6878733390;\n    coefsHigh[9] = 1.6878733390;\n\n    vec2 minPoint = vec2(segmented_spline_c5_fwd_2976544439( 0.18*pow(2.,-6.5) ),  0.02); // {luminance, luminance} linear extension below this\n    vec2 midPoint = vec2(segmented_spline_c5_fwd_2976544439( 0.18 ),                4.8); // {luminance, luminance} \n    vec2 maxPoint = vec2(segmented_spline_c5_fwd_2976544439( 0.18*pow(2.,6.5) ),   48.0); // {luminance, luminance} linear extension above this\n    float slopeLow  = 0.0;       // log-log slope of low linear extension\n    float slopeHigh = 0.04;      // log-log slope of high linear extension\n\n    const int N_KNOTS_LOW = 8;\n    const int N_KNOTS_HIGH = 8;\n\n    // Check for negatives or zero before taking the log. If negative or zero,\n    // set to EPSILON.\n    float logx = log10(max(x, EPSILON)); \n\n    float logy;\n\n    if ( logx <= log10(minPoint.x) ) { \n        logy = logx * slopeLow + ( log10(minPoint.y) - slopeLow * log10(minPoint.x) );\n    } else if (( logx > log10(minPoint.x) ) && ( logx < log10(midPoint.x) )) {\n        float knot_coord = float(N_KNOTS_LOW-1) * (logx-log10(minPoint.x))/(log10(midPoint.x)-log10(minPoint.x));\n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec3 cf;\n        if ( j <= 0) {\n            cf = vec3(coefsLow[0],  coefsLow[1],  coefsLow[2]);\n        } else if ( j == 1) {\n            cf = vec3(coefsLow[1],  coefsLow[2],  coefsLow[3]);\n        } else if ( j == 2) {\n            cf = vec3(coefsLow[2],  coefsLow[3],  coefsLow[4]);\n        } else if ( j == 3) {\n            cf = vec3(coefsLow[3],  coefsLow[4],  coefsLow[5]);\n        } else if ( j == 4) {\n            cf = vec3(coefsLow[4],  coefsLow[5],  coefsLow[6]);\n        } else if ( j == 5) {\n            cf = vec3(coefsLow[5],  coefsLow[6],  coefsLow[7]);\n        } else if ( j == 6) {\n            cf = vec3(coefsLow[6],  coefsLow[7],  coefsLow[8]);\n        } \n\n        vec3 monomials = vec3( t * t, t, 1. );\n        logy = dot(monomials, M * cf);\n    } else if (( logx >= log10(midPoint.x) ) && ( logx < log10(maxPoint.x) )) {\n\n        float knot_coord = float(N_KNOTS_HIGH-1) * (logx-log10(midPoint.x))/(log10(maxPoint.x)-log10(midPoint.x));\n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec3 cf;\n        if ( j <= 0) {\n            cf = vec3(coefsHigh[0], coefsHigh[1], coefsHigh[2]);\n        } else if ( j == 1) {\n            cf = vec3(coefsHigh[1], coefsHigh[2], coefsHigh[3]);\n        } else if ( j == 2) {\n            cf = vec3(coefsHigh[2], coefsHigh[3], coefsHigh[4]);\n        } else if ( j == 3) {\n            cf = vec3(coefsHigh[3], coefsHigh[4], coefsHigh[5]);\n        } else if ( j == 4) {\n            cf = vec3(coefsHigh[4], coefsHigh[5], coefsHigh[6]);\n        } else if ( j == 5) {\n            cf = vec3(coefsHigh[5], coefsHigh[6], coefsHigh[7]);\n        } else if ( j == 6) {\n            cf = vec3(coefsHigh[6], coefsHigh[7], coefsHigh[8]);\n        } \n\n        vec3 monomials = vec3( t * t, t, 1. );\n        logy = dot(monomials, M * cf);\n    } else { //if ( logIn >= log10(maxPoint.x) ) { \n        logy = logx * slopeHigh + ( log10(maxPoint.y) - slopeHigh * log10(maxPoint.x) );\n    }\n\n    return pow(logy, 10.0);\n}\n\n// Target white and black points for cinema system tonescale\nconst float CINEMA_WHITE_2197045468 = 48.0;\nconst float CINEMA_BLACK_2197045468 = 0.02; // CINEMA_WHITE / 2400.\n\nfloat Y_2_linCV_2197045468(float Y, float Ymax, float Ymin) \n{\n    return (Y - Ymin) / (Ymax - Ymin);\n}\n\n// Transformations between CIE XYZ tristimulus values and CIE x,y \n// chromaticity coordinates\nvec3 XYZ_2_xyY_2197045468(vec3 XYZ)\n{  \n  vec3 xyY;\n  float divisor = (XYZ.x + XYZ.y + XYZ.z);\n  xyY.xy = XYZ.xy / max(divisor, 1e-10);\n  xyY.z = XYZ.y;\n  \n  return xyY;\n}\n\nvec3 xyY_2_XYZ_2197045468(vec3 xyY)\n{\n  vec3 XYZ;\n  XYZ.x = xyY.x * xyY.z / max( xyY.y, 1e-10);\n  XYZ.y = xyY.x;  \n  XYZ.z = (1.0 - xyY[0] - xyY[1]) * xyY[2] / max( xyY[1], 1e-10);\n\n  return XYZ;\n}\n\n// Gamma compensation factor\nconst float DIM_SURROUND_GAMMA_2197045468 = 0.9811;\n\nvec3 darkSurround_to_dimSurround_2197045468( vec3 linearCV)\n{\n  vec3 XYZ = AP1_2_XYZ_MAT_1062606552 * linearCV; \n\n  vec3 xyY = XYZ_2_xyY_2197045468(XYZ);\n  xyY.z = max(xyY.z, 0.);\n  xyY.z = pow(xyY.z, DIM_SURROUND_GAMMA_2197045468);\n  XYZ = xyY_2_XYZ_2197045468(xyY);\n\n  return XYZ_2_AP1_MAT_1535977339 * XYZ;\n}\n\n// Saturation compensation factor\nconst float ODT_SAT_FACTOR_2197045468 = 0.93;\nconst mat3 ODT_SAT_MAT_2197045468 = mat3(\n    vec3((1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_870892966[0] + ODT_SAT_FACTOR_2197045468, (1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_870892966[1], (1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_870892966[2]),\n    vec3((1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_870892966[0], (1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_870892966[1] + ODT_SAT_FACTOR_2197045468, (1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_870892966[2]),\n    vec3((1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_870892966[0], (1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_870892966[1], (1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_870892966[2] + ODT_SAT_FACTOR_2197045468)\n);\n\nconst mat3 XYZ_2_DISPLAY_PRI_MAT_2197045468 = mat3(\n    0.41239080, 0.21263901, 0.01933082,\n    0.35758434, 0.71516868, 0.11919478,\n    0.18048079, 0.07219232, 0.95053215\n);\n\nconst vec2 AP0_WHITE_2197045468 = vec2(0.32168,  0.33767);\nconst vec2 REC709_PRI_WHITE_2197045468 = vec2(0.31270, 0.32900);\n\nconst mat3 CONE_RESP_MAT_BRADFORD_2197045468 = mat3(\n     0.89510,  0.26640, -0.16140,\n    -0.75020,  1.71350,  0.03670,\n     0.03890, -0.06850,  1.02960\n);\n\nconst mat3 INV_CONE_RESP_MAT_BRADFORD_2197045468 = mat3(\n    0.98699291, -0.14705426,  0.15996265,\n    0.43230527,  0.51836027,  0.04929123,\n    -0.00852866,  0.04004282,  0.9684867\n);\n\nmat3 calculate_cat_matrix_2197045468(\n    vec2 src_xy,         // x,y chromaticity of source white\n    vec2 des_xy          // x,y chromaticity of destination white\n) {\n    // Calculates and returns a 3x3 Von Kries chromatic adaptation transform \n    // from src_xy to des_xy using the cone response primaries defined \n    // by CONE_RESP_MAT_BRADFORD.\n\n    vec3 src_xyY_2197045468 = vec3( src_xy.x, src_xy.y, 1. );\n    vec3 des_xyY = vec3( des_xy.x, des_xy.y, 1. );\n\n    vec3 src_XYZ = xyY_2_XYZ_2197045468( src_xyY_2197045468 );\n    vec3 des_XYZ = xyY_2_XYZ_2197045468( des_xyY );\n\n    vec3 src_coneResp = CONE_RESP_MAT_BRADFORD_2197045468 * src_XYZ;\n    vec3 des_coneResp = CONE_RESP_MAT_BRADFORD_2197045468 * des_XYZ;\n\n    mat3 vkMat = mat3(\n        des_coneResp[0]/src_coneResp[0], 0.0, 0.0,\n        0.0, des_coneResp[1]/src_coneResp[1], 0.0,\n        0.0, 0.0, des_coneResp[2]/src_coneResp[2]\n    );\n\n    return (INV_CONE_RESP_MAT_BRADFORD_2197045468 * vkMat) * CONE_RESP_MAT_BRADFORD_2197045468;\n}\n\n// const mat3 D60_2_D65_CAT = calculate_cat_matrix( AP0_WHITE, REC709_PRI_WHITE);\n\nconst mat3 D60_2_D65_CAT_2197045468 = mat3(\n    1.0074907834951157, -0.006221569500961697, -0.013048924410388851,\n    -0.030625260908988792, 0.9755641622789065, -0.000645225943184724,\n    0.0005207330177655085, 0.00476541331512529, 1.0920586986267373\n);\n\n// const mat3 D60_2_D65_CAT = mat3(\n//     0.987224, -0.00759836, 0.00307257,\n//     -0.00611327, 1.00186, -0.00509595,\n//     0.0159533, 0.00533002, 1.08168\n// );\n\n// Output Device Transform - RGB computer monitor\n//\n// Summary :\n//  This transform is intended for mapping OCES onto a desktop computer monitor \n//  typical of those used in motion picture visual effects production. These \n//  monitors may occasionally be referred to as "sRGB" displays, however, the \n//  monitor for which this transform is designed does not exactly match the \n//  specifications in IEC 61966-2-1:1999.\n// \n//  The assumed observer adapted white is D65, and the viewing environment is \n//  that of a dim surround. \n//\n//  The monitor specified is intended to be more typical of those found in \n//  visual effects production.\n//\n// Device Primaries : \n//  Primaries are those specified in Rec. ITU-R BT.709\n//  CIE 1931 chromaticities:  x         y         Y\n//              Red:          0.64      0.33\n//              Green:        0.3       0.6\n//              Blue:         0.15      0.06\n//              White:        0.3127    0.329     100 cd/m^2\n//\n// Display EOTF :\n//  The reference electro-optical transfer function specified in \n//  IEC 61966-2-1:1999.\n//  Note: This EOTF is *NOT* gamma 2.2\n//\n// Signal Range:\n//    This transform outputs full range code values.\n//\n// Assumed observer adapted white point:\n//         CIE 1931 chromaticities:    x            y\n//                                     0.3127       0.329\n//\n// Viewing Environment:\n//   This ODT has a compensation for viewing environment variables more typical \n//   of those associated with video mastering.\n//\n// Input is OCES\n// Output is sRGB\nvec3 ODT_Academy_sRGB_2197045468(vec3 oces) {\n    const float SCALE = 0.955;\n\n    // OCES to RGB rendering space\n    vec3 rgbPre = AP0_2_AP1_MAT_3090588381 * oces;\n\n    // Apply the tonescale independently in rendering-space RGB\n    vec3 rgbPost = vec3(\n        segmented_spline_c9_fwd_2197045468(rgbPre.r),\n        segmented_spline_c9_fwd_2197045468(rgbPre.g),\n        segmented_spline_c9_fwd_2197045468(rgbPre.b)\n    );\n\n    // Scale luminance to linear code value\n    vec3 linearCV = vec3(\n        Y_2_linCV_2197045468(rgbPost.x, CINEMA_WHITE_2197045468, CINEMA_BLACK_2197045468),\n        Y_2_linCV_2197045468(rgbPost.y, CINEMA_WHITE_2197045468, CINEMA_BLACK_2197045468),\n        Y_2_linCV_2197045468(rgbPost.z, CINEMA_WHITE_2197045468, CINEMA_BLACK_2197045468)\n    );\n\n    // Apply gamma adjustment to compensate for dim surround\n    linearCV = darkSurround_to_dimSurround_2197045468(linearCV);\n\n    // Apply desaturation to compensate for luminance difference\n    linearCV = ODT_SAT_MAT_2197045468 * linearCV;\n\n    // Convert to display primary encoding\n    // Rendering space RGB to XYZ\n    vec3 XYZ = AP1_2_XYZ_MAT_1062606552 * linearCV;\n\n    // Apply CAT from ACES white point to assumed observer adapted white point\n    XYZ = D60_2_D65_CAT_2197045468 * XYZ;\n\n    // CIE XYZ to display primaries\n    linearCV = XYZ_2_DISPLAY_PRI_MAT_2197045468 * XYZ;\n\n    // Handle out-of-gamut values\n    // Clip values < 0 or > 1 (i.e. projecting outside the display primaries)\n    linearCV = clamp( linearCV, 0., 1.);\n\n    // Encode linear code values with transfer function\n    return rgb_to_srgb_2281831123(linearCV);\n}\n\nprecision mediump float;\n\n// TODO: see if we can use Open Color IO for this\n\n// approximation of ACES LUT\n// adapted from https://github.com/TheRealMJP/BakingLab/blob/master/BakingLab/ACES.hlsl\n\n// sRGB => XYZ => D65_2_D60 => AP1 => RRT_SAT\nconst mat3 ACESInput = mat3(\n    vec3(0.59719, 0.07600, 0.02840),\n    vec3(0.35458, 0.90834, 0.13383),\n    vec3(0.04823, 0.01566, 0.83777)\n);\n\n// ODT_SAT => XYZ => D60_2_D65 => sRGB\nconst mat3 ACESOutput = mat3(\n    vec3( 1.60475, -0.10208, -0.00327),\n    vec3(-0.53108,  1.10813, -0.07276),\n    vec3(-0.07367, -0.00605,  1.07602)\n);\n\nvec3 RRTAndODTFit(vec3 v) {\n    vec3 a = v * (v + 0.0245786) - 0.000090537;\n    vec3 b = v * (0.983729 * v + 0.4329510) + 0.238081;\n    return a / b;\n}\n\n// Convert linear RGB used in shaders to AP0\nvec3 Linear_RGB_to_ACES_208481169(vec3 rgb) {\n    vec3 xyz = DISPLAY_PRI_2_XYZ_1540259130 * rgb;\n    vec3 ap0 = XYZ_2_AP0_MAT_1604150559 * xyz;\n    return ap0;\n}\n\nvec3 tonemap(vec3 hdrColor) {\n    vec3 color = Linear_RGB_to_ACES_208481169(hdrColor);\n\n    color = RRT(color);\n    color = ODT_Academy_sRGB_2197045468(color);\n\n    return color;\n}\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying highp vec2 vTextureCoord;\nvarying highp vec3 vVertexNormal;\n\nuniform sampler2D uSampler;\nuniform sampler2D uBackground;\n\nconst highp vec3 lightDir = normalize(vec3(1.0, 0.8, 0.1));\nconst vec3 lightColor = vec3(0.8, 0.8, 0.8);\nconst vec3 ambient = vec3(0.2, 0.2, 0.2);\n\nconst float backgroundStrength = 1.0; // this probably makes more sense as a shared const or even a uniform\n\n#define PI 3.1415926538\n\nvec4 equirectangular(sampler2D tex, vec3 direction) {\n    float x = (1.0 + atan(direction.z, direction.x) / PI) / 2.0;\n    float y = acos(direction.y) / PI;\n    vec2 coord = vec2(x, y);\n    return texture2D(tex, coord);\n}\n\nvoid main() {\n    vec2 coord = vTextureCoord;\n    coord.y = 1.0 - coord.y; // TODO: figure out if this should be done in the loader\n\n    vec3 albedo = texture2D(uSampler, coord).rgb;\n\n    highp vec3 normal = normalize(vVertexNormal);\n    float luminance = clamp(dot(normal, lightDir), 0.0, 1.0);\n    vec3 light = lightColor * luminance;\n\n    vec3 diffuse = vec3(0, 0, 0);\n\n    const int cbrt_samples = 12;\n\n    for (int i = 0; i < cbrt_samples; i++) {\n        for (int j = 0; j < cbrt_samples; j++) {\n            for (int k = 0; k < cbrt_samples; k++) {\n                vec3 ray = normalize(vec3((float(i) + 0.5) / float(cbrt_samples), vec3((float(j) + 0.5) / float(cbrt_samples), vec3((float(k) + 0.5) / float(cbrt_samples)))));\n\n                ray *= sign(dot(ray, normal));\n\n                diffuse += equirectangular(uBackground, ray).xyz * backgroundStrength;\n            }\n        }\n    }\n\n    diffuse /= float(cbrt_samples * cbrt_samples * cbrt_samples);\n\n    // gl_FragColor.rgb = albedo * light + albedo * ambient;\n    gl_FragColor.rgb = tonemap(albedo * diffuse);\n    gl_FragColor.a = 1.0;\n}'),lp=e("#define GLSLIFY 1\nattribute vec4 aVertexPosition;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvoid main() {\n    gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n}"),up=e("precision mediump float;\n#define GLSLIFY 1\n\nvoid main() {\n    gl_FragColor = vec4(0, 0, 0, 0.5);\n    gl_FragColor.rgb *= gl_FragColor.a; // premultiply alpha\n}"),sp=function(){function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];rp(this,e),this.name=t,this.vertices=r,this.vertexNormals=o,this.uvs=i,this.triangles=a,this.vertexBuffer=n.createBuffer(),this.normalBuffer=n.createBuffer(),this.uvBuffer=n.createBuffer(),this.uvLineBuffer=n.createBuffer(),this.uvLineCount=0,this.indexBuffer=n.createBuffer(),this.standardShader=Bd(n,ip,ap),this.uvShader=Bd(n,lp,up)}var n,t,r;return n=e,r=[{key:"fromWaveformObj",value:function(e,n){for(var t=[],r=[],o=[],i=[],a="",l=[],u=function(){t.push(function(e,n,t,r,o,i){for(var a=[],l=[],u=[],s=0;s<i.length;s++)for(var c=i[s],f=0;f<c.length;f++){var d=c[f];a.push(t[d.vertexIndex-1]),l.push(r[d.normalIndex-1]),u.push(o[d.uvIndex-1])}for(var h={},p=0,m=new sp(e,n),g=0;g<a.length;g+=3){for(var v=[0,0,0],_=0;_<3;_++){var y=a[g+_],b=l[g+_],w=u[g+_],E="".concat(y,":").concat(b,":").concat(w);h.hasOwnProperty(E)||(m.vertices[p]=y,m.vertexNormals[p]=b,m.uvs[p]=w,h[E]=p,p++),v[_]=h[E]}m.triangles.push(v)}return m.setBuffers(e),m}(e,a,r,o,i,l)),l=[]},s=n.split("\n"),c=0;c<s.length;c++){var f=s[c].trim().split(" ");switch(f[0].toLowerCase()){case"o":l.length>0&&u(),a=f[1];break;case"v":var h=d();g(h,parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),r.push(h);break;case"vt":var p=U();j(p,parseFloat(f[1]),parseFloat(f[2])),i.push(p);break;case"vn":var m=d();g(m,parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),o.push(m);break;case"f":for(var v=[],_=1;_<f.length;_++){var y=np(f[_].split("/").map((function(e){return parseFloat(e)-0})),3),b=y[0],w=y[1],E=y[2];isNaN(w)&&(w=b-0),isNaN(E)&&(E=b-0),v.push({vertexIndex:b,uvIndex:w,normalIndex:E})}for(var T=v[0],S=2;S<v.length;S++)l.push([T,v[S-1],v[S]])}}return l.length>0&&u(),t}}],(t=[{key:"setTexture",value:function(e){this.texture=e}},{key:"setBuffers",value:function(e){e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(fp(this.vertices)),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.normalBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(fp(this.vertexNormals)),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(fp(this.uvs)),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(fp(this.triangles)),e.STATIC_DRAW);for(var n=[],t=0;t<this.triangles.length;t++){var r=this.triangles[t];n.push(this.uvs[r[0]]),n.push(this.uvs[r[1]]),n.push(this.uvs[r[1]]),n.push(this.uvs[r[2]]),n.push(this.uvs[r[2]]),n.push(this.uvs[r[0]]),this.uvLineCount+=6}e.bindBuffer(e.ARRAY_BUFFER,this.uvLineBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(fp(n)),e.STATIC_DRAW)}},{key:"draw",value:function(e,n,t,r){e.useProgram(this.standardShader.program),e.uniformMatrix4fv(this.standardShader.uniforms.uProjectionMatrix,!1,t),e.uniformMatrix4fv(this.standardShader.uniforms.uModelViewMatrix,!1,n);var o=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.vertexAttribPointer(this.standardShader.attributes.aVertexPosition,3,o,!1,0,0),e.enableVertexAttribArray(this.standardShader.attributes.aVertexPosition);var i=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),e.vertexAttribPointer(this.standardShader.attributes.aTextureCoord,2,i,!1,0,0),e.enableVertexAttribArray(this.standardShader.attributes.aTextureCoord);var a=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,this.normalBuffer),e.vertexAttribPointer(this.standardShader.attributes.aVertexNormal,3,a,!0,0,0),e.enableVertexAttribArray(this.standardShader.attributes.aVertexNormal),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.texture&&(e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.texture),e.uniform1i(this.standardShader.uniforms.uSampler,0),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR)),r&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,r),e.uniform1i(this.standardShader.uniforms.uBackground,1)),e.drawElements(e.TRIANGLES,3*this.triangles.length,e.UNSIGNED_SHORT,0)}},{key:"drawUV",value:function(e,n,t){e.useProgram(this.uvShader.program),e.uniformMatrix4fv(this.uvShader.uniforms.uProjectionMatrix,!1,t),e.uniformMatrix4fv(this.uvShader.uniforms.uModelViewMatrix,!1,n);var r=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,this.uvLineBuffer),e.vertexAttribPointer(this.uvShader.attributes.aVertexPosition,2,r,!1,0,0),e.enableVertexAttribArray(this.uvShader.attributes.aVertexPosition),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.drawArrays(e.LINES,0,this.uvLineCount)}},{key:"raycast",value:function(e,n,t){for(var r=1/0,o=d(),i=d(),a=0;a<this.triangles.length;a++){var l=this.triangles[a],u=cp(i,n,t,this.vertices[l[0]],this.vertices[l[1]],this.vertices[l[2]]);u>0&&u<r&&(r=u,m(o,i))}return!!isFinite(r)&&(m(e,o),!0)}}])&&op(n.prototype,t),r&&op(n,r),e}(),cp=function(e,n,t,r,o,i){var a=d(),l=d();R(a,o,r),R(l,i,r);var u=d();E(u,a,l),b(u,u);var s=w(u,t);if(Math.abs(s)<Number.EPSILON)return 1/0;var c,f=w(u,r),h=(w(u,n)+f)/-s;if(h<0)return-1;(c=e)[0]=0,c[1]=0,c[2]=0,y(e,t,h),v(e,e,n);var p=d();R(p,o,r);var m=d();R(m,e,r);var g=d();if(E(g,p,m),w(u,g)<0)return 1/0;var _=d();R(_,i,o);var T=d();if(R(T,e,o),E(g,_,T),w(u,g)<0)return 1/0;var S=d();R(S,r,i);var x=d();return R(x,e,r),E(g,S,x),w(u,g)<0?1/0:h},fp=function(e){for(var n=[],t=0;t<e.length;t++)for(var r=e[t],o=0;o<r.length;o++)n.push(r[o]);return n};un(),un();var dp;dp=Yh()+Hh("4a60b2c8d21036d2","08583bc05ddbf04e");var hp,pp;function mp(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return gp(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gp(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gp(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function vp(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void t(e)}l.done?n(u):Promise.resolve(u).then(r,o)}function _p(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){vp(i,r,o,a,l,"next",e)}function l(e){vp(i,r,o,a,l,"throw",e)}a(void 0)}))}}(pp=hp||(hp={}))[pp.RGBE=0]="RGBE",pp[pp.XYZE=1]="XYZE";var yp=function(){var e=_p(regeneratorRuntime.mark((function e(n,t){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],o=!1;!o&&t<n.length;)10===(i=n[t++])?o=!0:r.push(String.fromCharCode(i));return e.abrupt("return",[r.join(""),t]);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),bp=function(e,n,t,r){var o,i=r-128;return o=i>0?1<<i:Math.pow(2,i),[e*(o/=255),n*o,t*o]};function wp(e){return Ep.apply(this,arguments)}function Ep(){return(Ep=_p(regeneratorRuntime.mark((function e(n){var t,r,o,i,a,l,u,s,c,f,d,h,p,m,g,v,_,y,b,w,E,T,S,R,x,A,P,C,O,I,k,L,N,D,M,F,H;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Uint8Array(n),r={format:hp.RGBE,width:0,height:0,pixels:null},e.next=4,yp(t,0);case 4:if(o=e.sent,i=mp(o,2),a=i[0],l=i[1],"#?RADIANCE"===a){e.next=10;break}throw new Error("Not a valid Radiance HDR file");case 10:u=!0,s=!1;case 12:if(!(u&&l<t.length)){e.next=50;break}return c=void 0,e.next=16,yp(t,l);case 16:f=e.sent,d=mp(f,2),c=d[0],l=d[1],h=c.split("="),p=mp(h,2),m=p[0],g=p[1],e.t0=m,e.next="FORMAT"===e.t0?24:"SOFTWARE"===e.t0?35:"PIXASPECT"===e.t0?37:"PRIMARIES"===e.t0?39:"EXPOSURE"===e.t0?42:"GAMMA"===e.t0?44:""===e.t0?46:48;break;case 24:e.t1=g,e.next="32-bit_rle_rgbe"===e.t1?27:"32-bit_rle_xyze"===e.t1?30:33;break;case 27:return r.format=hp.RGBE,s=!0,e.abrupt("break",34);case 30:return r.format=hp.XYZE,s=!0,e.abrupt("break",34);case 33:throw new Error('Invalid HDR format "'.concat(g,'"'));case 34:return e.abrupt("break",48);case 35:return r.software=g,e.abrupt("break",48);case 37:return r.pixaspect=Number.parseFloat(g),e.abrupt("break",48);case 39:return v=g.split(" ").map((function(e){return Number.parseFloat(e)})),r.primaries={red:{hue:v[0],colorfulness:v[1]},green:{hue:v[2],colorfulness:v[3]},blue:{hue:v[4],colorfulness:v[5]},white:{hue:v[6],colorfulness:v[7]}},e.abrupt("break",48);case 42:return r.exposure=Number.parseFloat(g),e.abrupt("break",48);case 44:return r.gamma=Number.parseFloat(g),e.abrupt("break",48);case 46:return u=!1,e.abrupt("break",48);case 48:e.next=12;break;case 50:if(s){e.next=52;break}throw new Error("no format specified");case 52:return e.next=54,yp(t,l);case 54:if(y=e.sent,b=mp(y,2),_=b[0],l=b[1],w=_.split(" "),E=mp(w,4),T=E[0],S=E[1],R=E[2],x=E[3],"-Y"===T&&"+X"===R){e.next=61;break}throw new Error("scanline ordering not supported yet");case 61:if(A=r.width=Number.parseInt(x),P=r.height=Number.parseInt(S),r.pixels=new Float32Array(A*P*3),C=0,O=[0,0,0],2===t[l]&&2===t[l+1])for(console.log("new run-length encoding"),I=function(){if(2!==t[l]&&2!==t[l+1])throw new Error("scanline too short");var e=t[l+=2]<<8|t[l+1];l+=2;for(var n=[null,null,null,null].map((function(n){return new Uint8Array(e)})),o=0;o<4;o++)for(var i=0;i<e;){var a=t[l++];if(a>128){a&=127;var u=t[l++];if(i+a>e)throw new Error("overrun - at index ".concat(i));for(;a--;)n[o][i++]=u}else for(;a--;)n[o][i++]=t[l++]}for(var s=0;s<e;s++){var c=[n[0][s],n[1][s],n[2][s],n[3][s]],f=bp(c[0],c[1],c[2],c[3]);r.pixels[C++]=f[0],r.pixels[C++]=f[1],r.pixels[C++]=f[2]}};l<t.length;)I();else for(console.log("old run-length encoding");l<t.length;l+=4)if(k=t.slice(l,l+4),L=mp(k,4),N=L[0],D=L[1],M=L[2],F=L[3],N===D&&D===M&&1===M)for(H=0;H<F;H++)r.pixels[C++]=O[0],r.pixels[C++]=O[1],r.pixels[C++]=O[2];else O=bp(N,D,M,F),r.pixels[C++]=O[0],r.pixels[C++]=O[1],r.pixels[C++]=O[2];if(C===r.pixels.length){e.next=69;break}throw new Error("missing pixel data: read ".concat(C," pixels but expecting ").concat(A," * ").concat(P," * 3 = ").concat(r.pixels.length,"}"));case 69:return console.log(r),e.abrupt("return",r);case 71:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tp(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void t(e)}l.done?n(u):Promise.resolve(u).then(r,o)}function Sp(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){Tp(i,r,o,a,l,"next",e)}function l(e){Tp(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Rp(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xp=e(dp);console.log(xp);var Ap=e("#define GLSLIFY 1\nattribute vec4 aVertexPosition;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec3 vPosition;\n\nvoid main() {\n    gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n    vPosition = aVertexPosition.xyz;\n}"),Pp=e('/*\n# License Terms for Academy Color Encoding System Components #\nhttps://github.com/ampas/aces-dev/blob/v1.0/LICENSE.md\n\nAcademy Color Encoding System (ACES) software and tools are provided by the\nAcademy under the following terms and conditions: A worldwide, royalty-free,\nnon-exclusive right to copy, modify, create derivatives, and use, in source and\nbinary forms, is hereby granted, subject to acceptance of this license.\n\nCopyright (c) 2013 Academy of Motion Picture Arts and Sciences (A.M.P.A.S.).\nPortions contributed by others as indicated. All rights reserved.\n\nPerformance of any of the aforementioned acts indicates acceptance to be bound\nby the following terms and conditions:\n\n* Copies of source code, in whole or in part, must retain the above copyright\nnotice, this list of conditions and the Disclaimer of Warranty.\n\n* Use in binary form must retain the above copyright notice, this list of\nconditions and the Disclaimer of Warranty in the documentation and/or other\nmaterials provided with the distribution.\n\n* Nothing in this license shall be deemed to grant any rights to trademarks,\ncopyrights, patents, trade secrets or any other intellectual property of\nA.M.P.A.S. or any contributors, except as expressly stated herein.\n\n* Neither the name "A.M.P.A.S." nor the name of any other contributors to this\nsoftware may be used to endorse or promote products derivative of or based on\nthis software without express prior written permission of A.M.P.A.S. or the\ncontributors, as appropriate.\n\nThis license shall be construed pursuant to the laws of the State of\nCalifornia, and any disputes related thereto shall be subject to the\njurisdiction of the courts therein.\n\nDisclaimer of Warranty: THIS SOFTWARE IS PROVIDED BY A.M.P.A.S. AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\nTHE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND\nNON-INFRINGEMENT ARE DISCLAIMED. IN NO EVENT SHALL A.M.P.A.S., OR ANY\nCONTRIBUTORS OR DISTRIBUTORS, BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, RESITUTIONARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\nPROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\nLIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\nOR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\nADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nWITHOUT LIMITING THE GENERALITY OF THE FOREGOING, THE ACADEMY SPECIFICALLY\nDISCLAIMS ANY REPRESENTATIONS OR WARRANTIES WHATSOEVER RELATED TO PATENT OR\nOTHER INTELLECTUAL PROPERTY RIGHTS IN THE ACADEMY COLOR ENCODING SYSTEM, OR\nAPPLICATIONS THEREOF, HELD BY PARTIES OTHER THAN A.M.P.A.S.,WHETHER DISCLOSED OR\nUNDISCLOSED.\n*/\n\nprecision mediump float;\n\nprecision mediump float;\n\nfloat log10(float n) {\n    return log(n) / log(10.0);\n}\n\nprecision mediump float;\n\n// Textbook monomial to basis-function conversion matrix.\nconst mat3 M = mat3(\n    vec3( 0.5, -1.0, 0.5),\n    vec3(-1.0,  1.0, 0.5),\n    vec3( 0.5,  0.0, 0.0)\n);\n\nprecision mediump float;\n\nconst float EPSILON = pow(2.0, -52.0);\n\nfloat segmented_spline_c5_fwd_2976544439(float x) {\n    float coefsLow[6]; // coefs for B-spline between minPoint and midPoint (units of log luminance)\n    coefsLow[0] = -4.0000000000;\n    coefsLow[1] = -4.0000000000;\n    coefsLow[2] = -3.1573765773;\n    coefsLow[3] = -0.4852499958;\n    coefsLow[4] = 1.8477324706;\n    coefsLow[5] = 1.8477324706;\n\n    float coefsHigh[6]; // coefs for B-spline between midPoint and maxPoint (units of log luminance)\n    coefsHigh[0] = -0.7185482425;\n    coefsHigh[1] =  2.0810307172;\n    coefsHigh[2] =  3.6681241237;\n    coefsHigh[3] =  4.0000000000;\n    coefsHigh[4] =  4.0000000000;\n    coefsHigh[5] =  4.0000000000;\n\n    vec2 minPoint = vec2(0.18*pow(2.,-15.0), 0.0001); // {luminance, luminance} linear extension below this\n    vec2 midPoint = vec2(0.18,                4.8); // {luminance, luminance} \n    vec2 maxPoint = vec2(0.18*pow(2., 18.0), 10000.); // {luminance, luminance} linear extension above this\n    float slopeLow = 0.0;       // log-log slope of low linear extension // TODO: some things are multiplied by this; simplify\n    float slopeHigh = 0.0;      // log-log slope of high linear extension\n\n    const int N_KNOTS_LOW = 4;\n    const int N_KNOTS_HIGH = 4;\n\n    // Check for negatives or zero before taking the log. If negative or zero,\n    // set to the smallest positive float (EPSILON).\n    float logx = log10(max(x, EPSILON)); \n\n    float logy;\n\n    if ( logx <= log10(minPoint.x) ) { \n\n        logy = logx * slopeLow + ( log10(minPoint.y) - slopeLow * log10(minPoint.x) );\n\n    } else if (( logx > log10(minPoint.x) ) && ( logx < log10(midPoint.x) )) {\n\n        float knot_coord = float(N_KNOTS_LOW-1) * (logx-log10(minPoint.x))/(log10(midPoint.x)-log10(minPoint.x));\n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec3 cf;\n        if ( j <= 0) {\n            cf = vec3(coefsLow[0],  coefsLow[1],  coefsLow[2]);\n        } else if ( j == 1) {\n            cf = vec3(coefsLow[1],  coefsLow[2],  coefsLow[3]);\n        } else if ( j == 2) {\n            cf = vec3(coefsLow[2],  coefsLow[3],  coefsLow[4]);\n        } else if ( j == 3) {\n            cf = vec3(coefsLow[3],  coefsLow[4],  coefsLow[5]);\n        } else if ( j == 4) {\n            cf = vec3(coefsLow[4],  coefsLow[5],  0.0        );\n        } else if ( j == 5) {\n            cf = vec3(coefsLow[5],  0.0,          0.0        );\n        } else if ( j == 6) {\n            cf = vec3(0.0,          0.0,          0.0        );\n        } \n\n        vec3 monomials = vec3( t * t, t, 1. );\n        logy = dot(monomials, M * cf);\n\n    } else if (( logx >= log10(midPoint.x) ) && ( logx < log10(maxPoint.x) )) {\n\n        float knot_coord = float(N_KNOTS_HIGH-1) * (logx-log10(midPoint.x))/(log10(maxPoint.x)-log10(midPoint.x));\n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec3 cf;\n        if ( j <= 0) {\n            cf = vec3(coefsHigh[0],  coefsHigh[1],  coefsHigh[2]);\n        } else if ( j == 1) {\n            cf = vec3(coefsHigh[1],  coefsHigh[2],  coefsHigh[3]);\n        } else if ( j == 2) {\n            cf = vec3(coefsHigh[2],  coefsHigh[3],  coefsHigh[4]);\n        } else if ( j == 3) {\n            cf = vec3(coefsHigh[3],  coefsHigh[4],  coefsHigh[5]);\n        } else if ( j == 4) {\n            cf = vec3(coefsHigh[4],  coefsHigh[5],  0.0         );\n        } else if ( j == 5) {\n            cf = vec3(coefsHigh[5],  0.0,           0.0         );\n        } else if ( j == 6) {\n            cf = vec3(0.0,           0.0,           0.0         );\n        } \n\n        vec3 monomials = vec3( t * t, t, 1. );\n        logy = dot(monomials, M * cf);\n\n    } else { //if ( logIn >= log10(maxPoint.x) ) { \n\n        logy = logx * slopeHigh + ( log10(maxPoint.y) - slopeHigh * log10(maxPoint.x) );\n\n    }\n\n    return pow(logy, 10.0);\n}\n\nconst mat3 AP1_2_XYZ_MAT_529295689 = mat3(\n     0.6624541811, 0.1340042065, 0.1561876870,\n     0.2722287168, 0.6740817658, 0.0536895174,\n     -0.0055746495, 0.0040607335, 1.0103391003\n);\n\nprecision mediump float;\n\nconst mat3 XYZ_2_AP0_MAT_1540259130 = mat3(\n    1.0498110175, 0.0000000000, -0.0000974845,\n    -0.4959030231, 1.3733130458, 0.0982400361,\n    0.0000000000, 0.0000000000, 0.9912520182\n);\n\nconst mat3 AP1_2_AP0_MAT_870892966 = XYZ_2_AP0_MAT_1540259130 * AP1_2_XYZ_MAT_529295689;\n\nprecision mediump float;\n\nprecision mediump float;\n\nconst mat3 XYZ_2_AP1_MAT_1535977339 = mat3(\n    1.6410233797, -0.3248032942, -0.2364246952,\n    -0.6636628587, 1.6153315917, 0.0167563477,\n    0.0117218943, -0.0082844420, 0.9883948585\n);\n\nprecision mediump float;\n\nconst mat3 AP0_2_XYZ_MAT_1460171947 = mat3(\n    0.9525523959, 0.0000000000, 0.0000936786,\n    0.3439664498, 0.7281660966, -0.0721325464,\n    0.0000000000, 0.0000000000, 1.0088251844\n);\n\nconst mat3 AP0_2_AP1_MAT_3090588381 = XYZ_2_AP1_MAT_1535977339 * AP0_2_XYZ_MAT_1460171947;\n\nprecision mediump float;\n\nconst vec3 AP1_RGB2Y_421267681 = vec3(\n    AP1_2_XYZ_MAT_529295689[0][1],\n    AP1_2_XYZ_MAT_529295689[1][1],\n    AP1_2_XYZ_MAT_529295689[2][1]\n);\n\n#define PI 3.1415926538\n\n// "Glow" module constants\nconst float RRT_GLOW_GAIN_3903765079 = 0.05;\nconst float RRT_GLOW_MID_3903765079 = 0.08;\n\n// Red modifier constants\nconst float RRT_RED_SCALE_3903765079 = 0.82;\nconst float RRT_RED_PIVOT_3903765079 = 0.03;\nconst float RRT_RED_HUE_3903765079 = 0.0;\nconst float RRT_RED_WIDTH_3903765079 = 135.0;\n\n// Desaturation contants\nconst float RRT_SAT_FACTOR_3903765079 = 0.96;\nconst mat3 RRT_SAT_MAT_3903765079 = mat3(\n    vec3((1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_421267681[0] + RRT_SAT_FACTOR_3903765079, (1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_421267681[1], (1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_421267681[2]),\n    vec3((1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_421267681[0], (1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_421267681[1] + RRT_SAT_FACTOR_3903765079, (1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_421267681[2]),\n    vec3((1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_421267681[0], (1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_421267681[1], (1.0 - RRT_SAT_FACTOR_3903765079) * AP1_RGB2Y_421267681[2] + RRT_SAT_FACTOR_3903765079)\n);\n\nfloat rgb_2_saturation_3903765079(vec3 rgb) {\n    float max_rgb = max(rgb.r, max(rgb.g, rgb.b));\n    float min_rgb = min(rgb.r, min(rgb.g, rgb.b));\n    return (max(max_rgb, 1e-10) - max(min_rgb, 1e-10)) / max(max_rgb, 1e-2);\n}\n\nfloat rgb_2_yc_3903765079(vec3 rgb, float ycRadiusWeight /* this defaults to 1.75 */)\n{\n  // Converts RGB to a luminance proxy, here called YC\n  // YC is ~ Y + K * Chroma\n  // Constant YC is a cone-shaped surface in RGB space, with the tip on the \n  // neutral axis, towards white.\n  // YC is normalized: RGB 1 1 1 maps to YC = 1\n  //\n  // ycRadiusWeight defaults to 1.75, although can be overridden in function \n  // call to rgb_2_yc\n  // ycRadiusWeight = 1 -> YC for pure cyan, magenta, yellow == YC for neutral \n  // of same value\n  // ycRadiusWeight = 2 -> YC for pure red, green, blue  == YC for  neutral of \n  // same value.\n\n  float r = rgb.r; \n  float g = rgb.g; \n  float b = rgb.b;\n  \n  float chroma = sqrt(b*(b-g)+g*(g-r)+r*(r-b));\n\n  return ( b + g + r + ycRadiusWeight * chroma) / 3.;\n}\n\nfloat sigmoid_shaper_3903765079(float x)\n{\n    // Sigmoid function in the range 0 to 1 spanning -2 to +2.\n\n    float t = max(1. - abs( x / 2.), 0.);\n    float y = 1. + sign(x) * (1. - t * t);\n\n    return y / 2.;\n}\n\nfloat glow_fwd_3903765079(float ycIn, float glowGainIn, float glowMid) {\n    float glowGainOut;\n\n    // TODO: rewrite as branchless\n    if (ycIn <= 2.0/3.0 * glowMid) {\n        glowGainOut = glowGainIn;\n    } else if (ycIn >= 2.0 * glowMid) {\n        glowGainOut = 0.0;\n    } else {\n        glowGainOut = glowGainIn * (glowMid / ycIn - 1.0 / 2.0);\n    }\n\n    return glowGainOut;\n}\n\nfloat rgb_2_hue_3903765079(vec3 rgb) {\n    float hue;\n\n    if (rgb.r == rgb.g && rgb.g == rgb.b) {\n        hue = 0.0; // RGB triplets where RGB are equal have an undefined hue\n    } else {\n        hue = (180.0 / PI) * atan(sqrt(3.0) * (rgb.g - rgb.b), 2.0 * rgb.r - rgb.g - rgb.b); // TODO: hard code sqrt_3 or use optimizer\n    }\n\n    if (hue < 0.0) {\n        hue = hue + 360.0;\n    }\n\n    return hue;\n}\n\nfloat center_hue_3903765079(float hue, float centerH) {\n    float hueCentered = hue - centerH;\n    if (hueCentered < -180.0) {\n        hueCentered = hueCentered + 360.0;\n    } else if (hueCentered > 180.0) {\n        hueCentered = hueCentered - 360.0;\n    }\n    return hueCentered;\n}\n\nconst mat4 cubic_basis_m_3903765079 = mat4( // row major since these are looked up directly atm\n    vec4( -1./6.0,  3./6.0, -3./6.0,  1./6.0 ),\n    vec4(  3./6.0, -6./6.0,  3./6.0,  0./6.0 ),\n    vec4( -3./6.0,  0./6.0,  3./6.0,  0./6.0 ),\n    vec4(  1./6.0,  4./6.0,  1./6.0,  0./6.0 )\n);\n\nfloat cubic_basis_shaper_3903765079(float x, float w) {\n    float knots[5];\n    knots[0] = -w / 2.0;\n    knots[1] = -w / 4.0;\n    knots[2] = 0.0;\n    knots[3] = w / 4.0;\n    knots[4] = w / 2.0;\n\n    float y = 0.0;\n\n    if ((x > knots[0]) && (x < knots[4])) { // TODO: branchless\n            \n        float knot_coord = (x - knots[0]) * 4./w;  \n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec4 monomials = vec4(t * t * t, t * t, t, 1.0);\n\n        if (j == 3) { // TODO: matrix multiplication\n            y = monomials.x * cubic_basis_m_3903765079[0].x + monomials.y * cubic_basis_m_3903765079[1].x + monomials.z * cubic_basis_m_3903765079[2].x + monomials.w * cubic_basis_m_3903765079[3].x;\n        } else if ( j == 2) {\n            y = monomials.x * cubic_basis_m_3903765079[0].y + monomials.y * cubic_basis_m_3903765079[1].y + monomials.z * cubic_basis_m_3903765079[2].y + monomials.w * cubic_basis_m_3903765079[3].y;\n        } else if ( j == 1) {\n            y = monomials.x * cubic_basis_m_3903765079[0].z + monomials.y * cubic_basis_m_3903765079[1].z + monomials.z * cubic_basis_m_3903765079[2].z + monomials.w * cubic_basis_m_3903765079[3].z;\n        } else if ( j == 0) {\n            y = monomials.x * cubic_basis_m_3903765079[0].w + monomials.y * cubic_basis_m_3903765079[1].w + monomials.z * cubic_basis_m_3903765079[2].w + monomials.w * cubic_basis_m_3903765079[3].w;\n        } else {\n            y = 0.0;\n        }\n    }\n  \n    return y * 3.0 / 2.0;\n}\n\n// Reference Rendering Transform (RRT)\n//\n// Input is ACES\n// Output is OCES\nvec3 RRT(vec3 aces) {\n    // --- Glow module --- //\n    float saturation = rgb_2_saturation_3903765079(aces);\n    float ycIn = rgb_2_yc_3903765079(aces, 1.75);\n    float s = sigmoid_shaper_3903765079((saturation - 0.4) / 0.2); // TODO: smoothstep is sigmoid; probably an easy replacement\n    float addedGlow = 1.0 + glow_fwd_3903765079(ycIn, RRT_GLOW_GAIN_3903765079 * s, RRT_GLOW_MID_3903765079);\n\n    aces = aces * addedGlow;\n\n    // --- Red modifier --- //\n    float hue = rgb_2_hue_3903765079(aces);\n    float centeredHue = center_hue_3903765079(hue, RRT_RED_HUE_3903765079); // TODO: this seems to be a no-op?\n    float hueWeight = cubic_basis_shaper_3903765079(centeredHue, RRT_RED_WIDTH_3903765079);\n\n    aces.r = aces.r + hueWeight * saturation * (RRT_RED_PIVOT_3903765079 - aces.r) * (1.0 - RRT_RED_SCALE_3903765079);\n\n    // --- ACES to RGB rendering space --- //\n    aces = max(aces, 0.0); // avoids saturated negative colors from becoming positive in the matrix\n\n    vec3 rgbPre = AP0_2_AP1_MAT_3090588381 * aces;\n\n    rgbPre = max(rgbPre, 0.0);\n\n    // --- Global desaturation --- //\n    rgbPre = RRT_SAT_MAT_3903765079 * rgbPre;\n\n    // --- Apply the tonescale independently in rendering-space RGB --- //\n    vec3 rgbPost = vec3(\n        segmented_spline_c5_fwd_2976544439(rgbPre.r),\n        segmented_spline_c5_fwd_2976544439(rgbPre.g),\n        segmented_spline_c5_fwd_2976544439(rgbPre.b)\n    );\n\n    // --- RGB rendering space to OCES --- //\n    vec3 rgbOces = AP1_2_AP0_MAT_870892966 * rgbPost;\n\n    return rgbOces;\n}\n\nfloat segmented_spline_c9_fwd_3903765079(float x) {\n    float coefsLow[10];    // coefs for B-spline between minPoint and midPoint (units of log luminance)\n    coefsLow[0] = -1.6989700043;\n    coefsLow[1] = -1.6989700043;\n    coefsLow[2] = -1.4779000000;\n    coefsLow[3] = -1.2291000000;\n    coefsLow[4] = -0.8648000000;\n    coefsLow[5] = -0.4480000000;\n    coefsLow[6] =  0.0051800000;\n    coefsLow[7] =  0.4511080334;\n    coefsLow[8] =  0.9113744414;\n    coefsLow[9] =  0.9113744414;\n\n    float coefsHigh[10];   // coefs for B-spline between midPoint and maxPoint (units of log luminance)\n    coefsHigh[0] = 0.5154386965;\n    coefsHigh[1] = 0.8470437783;\n    coefsHigh[2] = 1.1358000000;\n    coefsHigh[3] = 1.3802000000;\n    coefsHigh[4] = 1.5197000000;\n    coefsHigh[5] = 1.5985000000;\n    coefsHigh[6] = 1.6467000000;\n    coefsHigh[7] = 1.6746091357;\n    coefsHigh[8] = 1.6878733390;\n    coefsHigh[9] = 1.6878733390;\n\n    vec2 minPoint = vec2(segmented_spline_c5_fwd_2976544439( 0.18*pow(2.,-6.5) ),  0.02); // {luminance, luminance} linear extension below this\n    vec2 midPoint = vec2(segmented_spline_c5_fwd_2976544439( 0.18 ),                4.8); // {luminance, luminance} \n    vec2 maxPoint = vec2(segmented_spline_c5_fwd_2976544439( 0.18*pow(2.,6.5) ),   48.0); // {luminance, luminance} linear extension above this\n    float slopeLow  = 0.0;       // log-log slope of low linear extension\n    float slopeHigh = 0.04;      // log-log slope of high linear extension\n\n    const int N_KNOTS_LOW = 8;\n    const int N_KNOTS_HIGH = 8;\n\n    // Check for negatives or zero before taking the log. If negative or zero,\n    // set to EPSILON.\n    float logx = log10(max(x, EPSILON)); \n\n    float logy;\n\n    if ( logx <= log10(minPoint.x) ) { \n        logy = logx * slopeLow + ( log10(minPoint.y) - slopeLow * log10(minPoint.x) );\n    } else if (( logx > log10(minPoint.x) ) && ( logx < log10(midPoint.x) )) {\n        float knot_coord = float(N_KNOTS_LOW-1) * (logx-log10(minPoint.x))/(log10(midPoint.x)-log10(minPoint.x));\n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec3 cf;\n        if ( j <= 0) {\n            cf = vec3(coefsLow[0],  coefsLow[1],  coefsLow[2]);\n        } else if ( j == 1) {\n            cf = vec3(coefsLow[1],  coefsLow[2],  coefsLow[3]);\n        } else if ( j == 2) {\n            cf = vec3(coefsLow[2],  coefsLow[3],  coefsLow[4]);\n        } else if ( j == 3) {\n            cf = vec3(coefsLow[3],  coefsLow[4],  coefsLow[5]);\n        } else if ( j == 4) {\n            cf = vec3(coefsLow[4],  coefsLow[5],  coefsLow[6]);\n        } else if ( j == 5) {\n            cf = vec3(coefsLow[5],  coefsLow[6],  coefsLow[7]);\n        } else if ( j == 6) {\n            cf = vec3(coefsLow[6],  coefsLow[7],  coefsLow[8]);\n        } \n\n        vec3 monomials = vec3( t * t, t, 1. );\n        logy = dot(monomials, M * cf);\n    } else if (( logx >= log10(midPoint.x) ) && ( logx < log10(maxPoint.x) )) {\n\n        float knot_coord = float(N_KNOTS_HIGH-1) * (logx-log10(midPoint.x))/(log10(maxPoint.x)-log10(midPoint.x));\n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec3 cf;\n        if ( j <= 0) {\n            cf = vec3(coefsHigh[0], coefsHigh[1], coefsHigh[2]);\n        } else if ( j == 1) {\n            cf = vec3(coefsHigh[1], coefsHigh[2], coefsHigh[3]);\n        } else if ( j == 2) {\n            cf = vec3(coefsHigh[2], coefsHigh[3], coefsHigh[4]);\n        } else if ( j == 3) {\n            cf = vec3(coefsHigh[3], coefsHigh[4], coefsHigh[5]);\n        } else if ( j == 4) {\n            cf = vec3(coefsHigh[4], coefsHigh[5], coefsHigh[6]);\n        } else if ( j == 5) {\n            cf = vec3(coefsHigh[5], coefsHigh[6], coefsHigh[7]);\n        } else if ( j == 6) {\n            cf = vec3(coefsHigh[6], coefsHigh[7], coefsHigh[8]);\n        } \n\n        vec3 monomials = vec3( t * t, t, 1. );\n        logy = dot(monomials, M * cf);\n    } else { //if ( logIn >= log10(maxPoint.x) ) { \n        logy = logx * slopeHigh + ( log10(maxPoint.y) - slopeHigh * log10(maxPoint.x) );\n    }\n\n    return pow(logy, 10.0);\n}\n\n/*\n# License Terms for Academy Color Encoding System Components #\nhttps://github.com/ampas/aces-dev/blob/v1.0/LICENSE.md\n\nAcademy Color Encoding System (ACES) software and tools are provided by the\nAcademy under the following terms and conditions: A worldwide, royalty-free,\nnon-exclusive right to copy, modify, create derivatives, and use, in source and\nbinary forms, is hereby granted, subject to acceptance of this license.\n\nCopyright (c) 2013 Academy of Motion Picture Arts and Sciences (A.M.P.A.S.).\nPortions contributed by others as indicated. All rights reserved.\n\nPerformance of any of the aforementioned acts indicates acceptance to be bound\nby the following terms and conditions:\n\n* Copies of source code, in whole or in part, must retain the above copyright\nnotice, this list of conditions and the Disclaimer of Warranty.\n\n* Use in binary form must retain the above copyright notice, this list of\nconditions and the Disclaimer of Warranty in the documentation and/or other\nmaterials provided with the distribution.\n\n* Nothing in this license shall be deemed to grant any rights to trademarks,\ncopyrights, patents, trade secrets or any other intellectual property of\nA.M.P.A.S. or any contributors, except as expressly stated herein.\n\n* Neither the name "A.M.P.A.S." nor the name of any other contributors to this\nsoftware may be used to endorse or promote products derivative of or based on\nthis software without express prior written permission of A.M.P.A.S. or the\ncontributors, as appropriate.\n\nThis license shall be construed pursuant to the laws of the State of\nCalifornia, and any disputes related thereto shall be subject to the\njurisdiction of the courts therein.\n\nDisclaimer of Warranty: THIS SOFTWARE IS PROVIDED BY A.M.P.A.S. AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\nTHE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND\nNON-INFRINGEMENT ARE DISCLAIMED. IN NO EVENT SHALL A.M.P.A.S., OR ANY\nCONTRIBUTORS OR DISTRIBUTORS, BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, RESITUTIONARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\nPROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\nLIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\nOR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\nADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nWITHOUT LIMITING THE GENERALITY OF THE FOREGOING, THE ACADEMY SPECIFICALLY\nDISCLAIMS ANY REPRESENTATIONS OR WARRANTIES WHATSOEVER RELATED TO PATENT OR\nOTHER INTELLECTUAL PROPERTY RIGHTS IN THE ACADEMY COLOR ENCODING SYSTEM, OR\nAPPLICATIONS THEREOF, HELD BY PARTIES OTHER THAN A.M.P.A.S.,WHETHER DISCLOSED OR\nUNDISCLOSED.\n*/\n\nprecision mediump float;\n\nvec3 rgb_to_srgb_2315452051(vec3 rgb) {\n    bvec3 cutoff = lessThan(rgb, vec3(0.0031308));\n    vec3 higher = vec3(1.055)*pow(rgb, vec3(1.0/2.4)) - vec3(0.055);\n    vec3 lower = rgb * vec3(12.92);\n\n    return mix(higher, lower, vec3(cutoff));\n}\n\nprecision mediump float;\n\nconst mat3 DISPLAY_PRI_2_XYZ_1604150559 = mat3(\n    3.24096994, -0.96924364, 0.05563008,\n    -1.53738318, 1.8759675, -0.20397696,\n    -0.49861076, 0.04155506, 1.05697151\n);\n\nprecision mediump float;\n\n#define PI 3.1415926538\n\nfloat segmented_spline_c9_fwd_2197045468(float x) {\n    float coefsLow[10];    // coefs for B-spline between minPoint and midPoint (units of log luminance)\n    coefsLow[0] = -1.6989700043;\n    coefsLow[1] = -1.6989700043;\n    coefsLow[2] = -1.4779000000;\n    coefsLow[3] = -1.2291000000;\n    coefsLow[4] = -0.8648000000;\n    coefsLow[5] = -0.4480000000;\n    coefsLow[6] =  0.0051800000;\n    coefsLow[7] =  0.4511080334;\n    coefsLow[8] =  0.9113744414;\n    coefsLow[9] =  0.9113744414;\n\n    float coefsHigh[10];   // coefs for B-spline between midPoint and maxPoint (units of log luminance)\n    coefsHigh[0] = 0.5154386965;\n    coefsHigh[1] = 0.8470437783;\n    coefsHigh[2] = 1.1358000000;\n    coefsHigh[3] = 1.3802000000;\n    coefsHigh[4] = 1.5197000000;\n    coefsHigh[5] = 1.5985000000;\n    coefsHigh[6] = 1.6467000000;\n    coefsHigh[7] = 1.6746091357;\n    coefsHigh[8] = 1.6878733390;\n    coefsHigh[9] = 1.6878733390;\n\n    vec2 minPoint = vec2(segmented_spline_c5_fwd_2976544439( 0.18*pow(2.,-6.5) ),  0.02); // {luminance, luminance} linear extension below this\n    vec2 midPoint = vec2(segmented_spline_c5_fwd_2976544439( 0.18 ),                4.8); // {luminance, luminance} \n    vec2 maxPoint = vec2(segmented_spline_c5_fwd_2976544439( 0.18*pow(2.,6.5) ),   48.0); // {luminance, luminance} linear extension above this\n    float slopeLow  = 0.0;       // log-log slope of low linear extension\n    float slopeHigh = 0.04;      // log-log slope of high linear extension\n\n    const int N_KNOTS_LOW = 8;\n    const int N_KNOTS_HIGH = 8;\n\n    // Check for negatives or zero before taking the log. If negative or zero,\n    // set to EPSILON.\n    float logx = log10(max(x, EPSILON)); \n\n    float logy;\n\n    if ( logx <= log10(minPoint.x) ) { \n        logy = logx * slopeLow + ( log10(minPoint.y) - slopeLow * log10(minPoint.x) );\n    } else if (( logx > log10(minPoint.x) ) && ( logx < log10(midPoint.x) )) {\n        float knot_coord = float(N_KNOTS_LOW-1) * (logx-log10(minPoint.x))/(log10(midPoint.x)-log10(minPoint.x));\n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec3 cf;\n        if ( j <= 0) {\n            cf = vec3(coefsLow[0],  coefsLow[1],  coefsLow[2]);\n        } else if ( j == 1) {\n            cf = vec3(coefsLow[1],  coefsLow[2],  coefsLow[3]);\n        } else if ( j == 2) {\n            cf = vec3(coefsLow[2],  coefsLow[3],  coefsLow[4]);\n        } else if ( j == 3) {\n            cf = vec3(coefsLow[3],  coefsLow[4],  coefsLow[5]);\n        } else if ( j == 4) {\n            cf = vec3(coefsLow[4],  coefsLow[5],  coefsLow[6]);\n        } else if ( j == 5) {\n            cf = vec3(coefsLow[5],  coefsLow[6],  coefsLow[7]);\n        } else if ( j == 6) {\n            cf = vec3(coefsLow[6],  coefsLow[7],  coefsLow[8]);\n        } \n\n        vec3 monomials = vec3( t * t, t, 1. );\n        logy = dot(monomials, M * cf);\n    } else if (( logx >= log10(midPoint.x) ) && ( logx < log10(maxPoint.x) )) {\n\n        float knot_coord = float(N_KNOTS_HIGH-1) * (logx-log10(midPoint.x))/(log10(maxPoint.x)-log10(midPoint.x));\n        int j = int(knot_coord);\n        float t = knot_coord - float(j);\n\n        vec3 cf;\n        if ( j <= 0) {\n            cf = vec3(coefsHigh[0], coefsHigh[1], coefsHigh[2]);\n        } else if ( j == 1) {\n            cf = vec3(coefsHigh[1], coefsHigh[2], coefsHigh[3]);\n        } else if ( j == 2) {\n            cf = vec3(coefsHigh[2], coefsHigh[3], coefsHigh[4]);\n        } else if ( j == 3) {\n            cf = vec3(coefsHigh[3], coefsHigh[4], coefsHigh[5]);\n        } else if ( j == 4) {\n            cf = vec3(coefsHigh[4], coefsHigh[5], coefsHigh[6]);\n        } else if ( j == 5) {\n            cf = vec3(coefsHigh[5], coefsHigh[6], coefsHigh[7]);\n        } else if ( j == 6) {\n            cf = vec3(coefsHigh[6], coefsHigh[7], coefsHigh[8]);\n        } \n\n        vec3 monomials = vec3( t * t, t, 1. );\n        logy = dot(monomials, M * cf);\n    } else { //if ( logIn >= log10(maxPoint.x) ) { \n        logy = logx * slopeHigh + ( log10(maxPoint.y) - slopeHigh * log10(maxPoint.x) );\n    }\n\n    return pow(logy, 10.0);\n}\n\n// Target white and black points for cinema system tonescale\nconst float CINEMA_WHITE_2197045468 = 48.0;\nconst float CINEMA_BLACK_2197045468 = 0.02; // CINEMA_WHITE / 2400.\n\nfloat Y_2_linCV_2197045468(float Y, float Ymax, float Ymin) \n{\n    return (Y - Ymin) / (Ymax - Ymin);\n}\n\n// Transformations between CIE XYZ tristimulus values and CIE x,y \n// chromaticity coordinates\nvec3 XYZ_2_xyY_2197045468(vec3 XYZ)\n{  \n  vec3 xyY;\n  float divisor = (XYZ.x + XYZ.y + XYZ.z);\n  xyY.xy = XYZ.xy / max(divisor, 1e-10);\n  xyY.z = XYZ.y;\n  \n  return xyY;\n}\n\nvec3 xyY_2_XYZ_2197045468(vec3 xyY)\n{\n  vec3 XYZ;\n  XYZ.x = xyY.x * xyY.z / max( xyY.y, 1e-10);\n  XYZ.y = xyY.x;  \n  XYZ.z = (1.0 - xyY[0] - xyY[1]) * xyY[2] / max( xyY[1], 1e-10);\n\n  return XYZ;\n}\n\n// Gamma compensation factor\nconst float DIM_SURROUND_GAMMA_2197045468 = 0.9811;\n\nvec3 darkSurround_to_dimSurround_2197045468( vec3 linearCV)\n{\n  vec3 XYZ = AP1_2_XYZ_MAT_529295689 * linearCV; \n\n  vec3 xyY = XYZ_2_xyY_2197045468(XYZ);\n  xyY.z = max(xyY.z, 0.);\n  xyY.z = pow(xyY.z, DIM_SURROUND_GAMMA_2197045468);\n  XYZ = xyY_2_XYZ_2197045468(xyY);\n\n  return XYZ_2_AP1_MAT_1535977339 * XYZ;\n}\n\n// Saturation compensation factor\nconst float ODT_SAT_FACTOR_2197045468 = 0.93;\nconst mat3 ODT_SAT_MAT_2197045468 = mat3(\n    vec3((1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_421267681[0] + ODT_SAT_FACTOR_2197045468, (1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_421267681[1], (1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_421267681[2]),\n    vec3((1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_421267681[0], (1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_421267681[1] + ODT_SAT_FACTOR_2197045468, (1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_421267681[2]),\n    vec3((1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_421267681[0], (1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_421267681[1], (1.0 - ODT_SAT_FACTOR_2197045468) * AP1_RGB2Y_421267681[2] + ODT_SAT_FACTOR_2197045468)\n);\n\nconst mat3 XYZ_2_DISPLAY_PRI_MAT_2197045468 = mat3(\n    0.41239080, 0.21263901, 0.01933082,\n    0.35758434, 0.71516868, 0.11919478,\n    0.18048079, 0.07219232, 0.95053215\n);\n\nconst vec2 AP0_WHITE_2197045468 = vec2(0.32168,  0.33767);\nconst vec2 REC709_PRI_WHITE_2197045468 = vec2(0.31270, 0.32900);\n\nconst mat3 CONE_RESP_MAT_BRADFORD_2197045468 = mat3(\n     0.89510,  0.26640, -0.16140,\n    -0.75020,  1.71350,  0.03670,\n     0.03890, -0.06850,  1.02960\n);\n\nconst mat3 INV_CONE_RESP_MAT_BRADFORD_2197045468 = mat3(\n    0.98699291, -0.14705426,  0.15996265,\n    0.43230527,  0.51836027,  0.04929123,\n    -0.00852866,  0.04004282,  0.9684867\n);\n\nmat3 calculate_cat_matrix_2197045468(\n    vec2 src_xy,         // x,y chromaticity of source white\n    vec2 des_xy          // x,y chromaticity of destination white\n) {\n    // Calculates and returns a 3x3 Von Kries chromatic adaptation transform \n    // from src_xy to des_xy using the cone response primaries defined \n    // by CONE_RESP_MAT_BRADFORD.\n\n    vec3 src_xyY_2197045468 = vec3( src_xy.x, src_xy.y, 1. );\n    vec3 des_xyY = vec3( des_xy.x, des_xy.y, 1. );\n\n    vec3 src_XYZ = xyY_2_XYZ_2197045468( src_xyY_2197045468 );\n    vec3 des_XYZ = xyY_2_XYZ_2197045468( des_xyY );\n\n    vec3 src_coneResp = CONE_RESP_MAT_BRADFORD_2197045468 * src_XYZ;\n    vec3 des_coneResp = CONE_RESP_MAT_BRADFORD_2197045468 * des_XYZ;\n\n    mat3 vkMat = mat3(\n        des_coneResp[0]/src_coneResp[0], 0.0, 0.0,\n        0.0, des_coneResp[1]/src_coneResp[1], 0.0,\n        0.0, 0.0, des_coneResp[2]/src_coneResp[2]\n    );\n\n    return (INV_CONE_RESP_MAT_BRADFORD_2197045468 * vkMat) * CONE_RESP_MAT_BRADFORD_2197045468;\n}\n\n// const mat3 D60_2_D65_CAT = calculate_cat_matrix( AP0_WHITE, REC709_PRI_WHITE);\n\nconst mat3 D60_2_D65_CAT_2197045468 = mat3(\n    1.0074907834951157, -0.006221569500961697, -0.013048924410388851,\n    -0.030625260908988792, 0.9755641622789065, -0.000645225943184724,\n    0.0005207330177655085, 0.00476541331512529, 1.0920586986267373\n);\n\n// const mat3 D60_2_D65_CAT = mat3(\n//     0.987224, -0.00759836, 0.00307257,\n//     -0.00611327, 1.00186, -0.00509595,\n//     0.0159533, 0.00533002, 1.08168\n// );\n\n// Output Device Transform - RGB computer monitor\n//\n// Summary :\n//  This transform is intended for mapping OCES onto a desktop computer monitor \n//  typical of those used in motion picture visual effects production. These \n//  monitors may occasionally be referred to as "sRGB" displays, however, the \n//  monitor for which this transform is designed does not exactly match the \n//  specifications in IEC 61966-2-1:1999.\n// \n//  The assumed observer adapted white is D65, and the viewing environment is \n//  that of a dim surround. \n//\n//  The monitor specified is intended to be more typical of those found in \n//  visual effects production.\n//\n// Device Primaries : \n//  Primaries are those specified in Rec. ITU-R BT.709\n//  CIE 1931 chromaticities:  x         y         Y\n//              Red:          0.64      0.33\n//              Green:        0.3       0.6\n//              Blue:         0.15      0.06\n//              White:        0.3127    0.329     100 cd/m^2\n//\n// Display EOTF :\n//  The reference electro-optical transfer function specified in \n//  IEC 61966-2-1:1999.\n//  Note: This EOTF is *NOT* gamma 2.2\n//\n// Signal Range:\n//    This transform outputs full range code values.\n//\n// Assumed observer adapted white point:\n//         CIE 1931 chromaticities:    x            y\n//                                     0.3127       0.329\n//\n// Viewing Environment:\n//   This ODT has a compensation for viewing environment variables more typical \n//   of those associated with video mastering.\n//\n// Input is OCES\n// Output is sRGB\nvec3 ODT_Academy_sRGB_2197045468(vec3 oces) {\n    const float SCALE = 0.955;\n\n    // OCES to RGB rendering space\n    vec3 rgbPre = AP0_2_AP1_MAT_3090588381 * oces;\n\n    // Apply the tonescale independently in rendering-space RGB\n    vec3 rgbPost = vec3(\n        segmented_spline_c9_fwd_2197045468(rgbPre.r),\n        segmented_spline_c9_fwd_2197045468(rgbPre.g),\n        segmented_spline_c9_fwd_2197045468(rgbPre.b)\n    );\n\n    // Scale luminance to linear code value\n    vec3 linearCV = vec3(\n        Y_2_linCV_2197045468(rgbPost.x, CINEMA_WHITE_2197045468, CINEMA_BLACK_2197045468),\n        Y_2_linCV_2197045468(rgbPost.y, CINEMA_WHITE_2197045468, CINEMA_BLACK_2197045468),\n        Y_2_linCV_2197045468(rgbPost.z, CINEMA_WHITE_2197045468, CINEMA_BLACK_2197045468)\n    );\n\n    // Apply gamma adjustment to compensate for dim surround\n    linearCV = darkSurround_to_dimSurround_2197045468(linearCV);\n\n    // Apply desaturation to compensate for luminance difference\n    linearCV = ODT_SAT_MAT_2197045468 * linearCV;\n\n    // Convert to display primary encoding\n    // Rendering space RGB to XYZ\n    vec3 XYZ = AP1_2_XYZ_MAT_529295689 * linearCV;\n\n    // Apply CAT from ACES white point to assumed observer adapted white point\n    XYZ = D60_2_D65_CAT_2197045468 * XYZ;\n\n    // CIE XYZ to display primaries\n    linearCV = XYZ_2_DISPLAY_PRI_MAT_2197045468 * XYZ;\n\n    // Handle out-of-gamut values\n    // Clip values < 0 or > 1 (i.e. projecting outside the display primaries)\n    linearCV = clamp( linearCV, 0., 1.);\n\n    // Encode linear code values with transfer function\n    return rgb_to_srgb_2315452051(linearCV);\n}\n\nprecision mediump float;\n\n// TODO: see if we can use Open Color IO for this\n\n// approximation of ACES LUT\n// adapted from https://github.com/TheRealMJP/BakingLab/blob/master/BakingLab/ACES.hlsl\n\n// sRGB => XYZ => D65_2_D60 => AP1 => RRT_SAT\nconst mat3 ACESInput = mat3(\n    vec3(0.59719, 0.07600, 0.02840),\n    vec3(0.35458, 0.90834, 0.13383),\n    vec3(0.04823, 0.01566, 0.83777)\n);\n\n// ODT_SAT => XYZ => D60_2_D65 => sRGB\nconst mat3 ACESOutput = mat3(\n    vec3( 1.60475, -0.10208, -0.00327),\n    vec3(-0.53108,  1.10813, -0.07276),\n    vec3(-0.07367, -0.00605,  1.07602)\n);\n\nvec3 RRTAndODTFit(vec3 v) {\n    vec3 a = v * (v + 0.0245786) - 0.000090537;\n    vec3 b = v * (0.983729 * v + 0.4329510) + 0.238081;\n    return a / b;\n}\n\n// Convert linear RGB used in shaders to AP0\nvec3 Linear_RGB_to_ACES_208481169(vec3 rgb) {\n    vec3 xyz = DISPLAY_PRI_2_XYZ_1604150559 * rgb;\n    vec3 ap0 = XYZ_2_AP0_MAT_1540259130 * xyz;\n    return ap0;\n}\n\nvec3 tonemap(vec3 hdrColor) {\n    vec3 color = Linear_RGB_to_ACES_208481169(hdrColor);\n\n    color = RRT(color);\n    color = ODT_Academy_sRGB_2197045468(color);\n\n    return color;\n}\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying vec3 vPosition;\n\nuniform sampler2D uSampler;\n\n#define PI 3.1415926538\n\nvec4 equirectangular(sampler2D tex, vec3 direction) {\n    float x = (1.0 + atan(direction.z, direction.x) / PI) / 2.0;\n    float y = acos(direction.y) / PI;\n    vec2 coord = vec2(x, y);\n    return texture2D(tex, coord);\n}\n\nvoid main() {\n    vec3 direction = normalize(vPosition);\n\n    vec3 color = equirectangular(uSampler, direction).rgb * 2.0;\n\n    gl_FragColor = vec4(tonemap(color), 1.0);\n    gl_FragColor.rgb *= gl_FragColor.a; // premultiply alpha\n}'),Cp=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,r,o;return n=e,(t=[{key:"initGL",value:(o=Sp(regeneratorRuntime.mark((function e(n){var t,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.backgroundTexture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.backgroundTexture),this.backgroundLoaded=!1,this.cubeBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.cubeBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(zd),n.STATIC_DRAW),this.cubeIndexBuffer=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.cubeIndexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(Gd),n.STATIC_DRAW),this.cubeLineIndexBuffer=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.cubeLineIndexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(Vd),n.STATIC_DRAW),this.backgroundShader=Bd(n,Ap,Pp),this.lineShader=Bd(n,lp,up),e.next=16,Lp(xp);case 16:return t=e.sent,console.log("loaded background"),n.bindTexture(n.TEXTURE_2D,this.backgroundTexture),r=n.RGB,o=n.RGB,i=n.FLOAT,n.texImage2D(n.TEXTURE_2D,0,r,t.width,t.height,0,o,i,t.pixels),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),this.backgroundLoaded=!0,e.abrupt("return",!0);case 31:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"drawMainPass",value:function(e,n,t,r,o){var a=o.position,l=o.rotation,u=o.scale,s=o.brushCursor;e.enable(e.DEPTH_TEST);var c=i();Ip(c,a,l,u);var f=i();kp(f,n,t),this.backgroundLoaded&&this.drawBackground(e,l,f),r&&r.draw(e,c,f,this.backgroundTexture),this.drawCube(e,c,f,[0,1,0],.4),s&&this.drawCube(e,c,f,s,.4),e.disable(e.DEPTH_TEST)}},{key:"draw",value:function(e,n,t,r){var o=e.gl;o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.clearColor(.2,.1,.3,1),o.clearDepth(1),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),this.drawMainPass(o,n,t,e.mesh,r)}},{key:"drawBackground",value:function(e,n,t){e.disable(e.CULL_FACE),e.useProgram(this.backgroundShader.program);var r=i();a(r),s(r,r,[50,50,50]);var o=i();c(o,n);var l=i();f(l,o,r),e.uniformMatrix4fv(this.backgroundShader.uniforms.uProjectionMatrix,!1,t),e.uniformMatrix4fv(this.backgroundShader.uniforms.uModelViewMatrix,!1,l);var u=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,this.cubeBuffer),e.vertexAttribPointer(this.backgroundShader.attributes.aVertexPosition,3,u,!1,0,0),e.enableVertexAttribArray(this.backgroundShader.attributes.aVertexPosition),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.cubeIndexBuffer),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.backgroundTexture),e.uniform1i(this.backgroundShader.uniforms.uSampler,0),e.drawElements(e.TRIANGLES,Gd.length,e.UNSIGNED_SHORT,0),e.enable(e.CULL_FACE)}},{key:"drawCube",value:function(e,n,t,r,o){e.disable(e.CULL_FACE),e.useProgram(this.lineShader.program);var l=i();a(l),u(l,l,r),s(l,l,[o*=.1,o,o]);var c=i();f(c,n,l),e.uniformMatrix4fv(this.lineShader.uniforms.uProjectionMatrix,!1,t),e.uniformMatrix4fv(this.lineShader.uniforms.uModelViewMatrix,!1,c);var d=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,this.cubeBuffer),e.vertexAttribPointer(this.lineShader.attributes.aVertexPosition,3,d,!1,0,0),e.enableVertexAttribArray(this.lineShader.attributes.aVertexPosition),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.cubeLineIndexBuffer),e.drawElements(e.LINES,Vd.length,e.UNSIGNED_SHORT,0),e.enable(e.CULL_FACE)}}])&&Rp(n.prototype,t),r&&Rp(n,r),e}(),Op=d();function Ip(e,n,t,r){a(e);var o=d();y(o,Op,r),u(e,e,o),u(e,e,n);var l=i();c(l,t),f(e,e,l)}function kp(e,n,t){!function(e,n,t,r,o){var i,a=1/Math.tan(n/2);e[0]=a/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(i=1/(r-o),e[10]=(o+r)*i,e[14]=2*o*r*i):(e[10]=-1,e[14]=-2*r)}(e,Oh,n/t,.1,100)}g(Op,0,0,-6);var Lp=function(){var e=Sp(regeneratorRuntime.mark((function e(n){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return t=e.sent,e.next=5,t.arrayBuffer();case 5:return r=e.sent,e.next=8,wp(r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function Np(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return Dp(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dp(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dp(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Mp=d();g(Mp,0,1,0),g(d(),0,0,1);function Fp(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var n=Np(an.useState(1),2),t=n[0],r=n[1],a=Np(an.useState(O()),2),u=a[0],s=a[1],c=Np(an.useState(!1),2),p=c[0],m=c[1],_=Np(an.useState(d()),2),w=_[0],E=_[1],S=Np(an.useState(d()),2),A=S[0],k=S[1],L=Np(an.useState(!1),2),N=L[0],D=L[1],M=Np(an.useState(d()),2),F=M[0],H=M[1],B=Np(an.useState(null),2),U=B[0],j=B[1],z=an.useRef(null),G=an.useContext(ih),V=function(){m(!1)},W=function(){D(!1)},X="auto";return p?X="move":N&&(X="grabbing"),an.createElement("div",{style:{flexGrow:1},ref:z},an.createElement(th,{type:"MeshDisplay",widgetProps:{position:A,rotation:u,scale:t,brushCursor:U},style:{height:"100%",cursor:X},onWheel:function(e){var n=Ih(e);r(n<0?t*(2/3*-n):t/(n*(2/3)))},onPointerDown:function(e){var n,t,r=d();g(r,e.clientX,e.clientY,0),(1===e.button||0===e.button&&e.altKey)&&(e.shiftKey?(t=r,D(!0),H(h(t))):(n=r,m(!0),E(h(n))))},onPointerUp:function(e){g(d(),e.clientX,e.clientY,0),p?V():N&&W()},onPointerMove:function(e){var n,r,a=d();g(a,e.clientX,e.clientY,0),p?function(e){var n=d();R(n,w,e),y(n,n,-.02);var t,r,i,a,l,c,f,p,m,v,_,b,T,S,x,A,P,C,k=O(),L=O(),N=O(),D=o(),M=o();t=D,i=(r=u)[0],a=r[1],l=r[2],c=r[3],v=i*(f=i+i),_=a*f,b=a*(p=a+a),T=l*f,S=l*p,x=l*(m=l+l),A=c*f,P=c*p,C=c*m,t[0]=1-b-x,t[3]=_-C,t[6]=T+P,t[1]=_+C,t[4]=1-v-x,t[7]=S-A,t[2]=T-P,t[5]=S+A,t[8]=1-v-b,function(e,n){var t=n[0],r=n[1],o=n[2],i=n[3],a=n[4],l=n[5],u=n[6],s=n[7],c=n[8],f=c*a-l*s,d=-c*i+l*u,h=s*i-a*u,p=t*f+r*d+o*h;p&&(p=1/p,e[0]=f*p,e[1]=(-c*r+o*s)*p,e[2]=(l*r-o*a)*p,e[3]=d*p,e[4]=(c*t-o*u)*p,e[5]=(-l*t+o*i)*p,e[6]=h*p,e[7]=(-s*t+r*u)*p,e[8]=(a*t-r*i)*p)}(M,D);var F=d();g(F,M[0],M[1],M[2]),I(L,F,n[1]),Y(L,u,L),I(N,Mp,n[0]),Y(k,L,N),s(k),E(h(e))}(a):N&&(n=a,r=d(),R(r,n,F),y(r,r,.003),x(r,r,[1,-1,1]),v(r,r,A),k(r),H(h(n)));var c=z.current.getBoundingClientRect(),m=i(),_=i(),S=i();Ip(m,A,u,t),kp(_,c.width,c.height),f(S,_,m),l(S,S);var L=(a[0]+.5)/c.width*2-1,D=-((a[1]+.5)/c.height*2-1),M=d();g(M,L,D,-1),y(M,M,.1),T(M,M,S);var B,U,V,W,X,Z,$,K=P();C(K,99.9*L,99.9*D,100.1,99.9),B=K,V=S,W=(U=K)[0],X=U[1],Z=U[2],$=U[3],B[0]=V[0]*W+V[4]*X+V[8]*Z+V[12]*$,B[1]=V[1]*W+V[5]*X+V[9]*Z+V[13]*$,B[2]=V[2]*W+V[6]*X+V[10]*Z+V[14]*$,B[3]=V[3]*W+V[7]*X+V[11]*Z+V[15]*$;var q=d();if(g(q,K[0],K[1],K[2]),b(q,q),G.mesh){var Q=d();G.mesh.raycast(Q,M,q)&&j(Q)}},onPointerLeave:function(e){V(),W()}}))}function Hp(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void t(e)}l.done?n(u):Promise.resolve(u).then(r,o)}function Yp(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return Bp(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bp(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bp(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Up=function(e){var n=e.widgets,t=e.children,r=Yp(an.useState(null),2),o=r[0],i=(r[1],an.useRef(null)),a=Yp(an.useState(null),2),l=a[0],u=a[1];return an.useEffect((function(){null===l?u(new Eh(i.current,n)):l.draw()})),o?an.createElement("div",{style:{backgroundColor:"white",margin:"5px",border:"2px solid red",padding:"20px"}},"Error during rendering:",an.createElement("pre",null,o.name,": ",o.message+"\n"+o.stack)):an.createElement(an.Fragment,null,an.createElement(ih.Provider,{value:l},l?t:"GL not yet started"),an.createElement("canvas",{id:"application",ref:i}))},jp=function(){var e=an.useContext(ih),n=Yp(an.useState(d()),2),t=n[0],r=n[1],o=Yp(an.useState(!1),2),i=o[0],a=o[1],l=d();return x(l,t,[255,255,255]),_(l,l),an.createElement("div",{className:"color-select",style:{backgroundColor:i&&"#7f7f7f"}},an.createElement("button",{className:"brush-color",style:{backgroundColor:"rgb(".concat(l,")")},onClick:function(){return a(!i)}}),i&&an.createElement(ch,{brushColor:t,setBrushColor:function(n){r(n),e.brushEngine.color=n}}))},zp=function(e){var n=e.on2d,t=e.on3d,r=e.onAces,o=an.useContext(ih);return an.createElement("div",{className:"top-bar"},an.createElement("button",{onClick:n},"2D Texture"),an.createElement("button",{onClick:t},"3D Object"),an.createElement("button",{onClick:function(){var e=document.createElement("input");e.type="file",e.click(),e.addEventListener("change",(function(){var e=this.files[0],n=new FileReader;if(e.type.startsWith("image"))n.onload=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.slate.load(n.target.result);case 2:o.drawOnNextFrame();case 3:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){Hp(i,r,o,a,l,"next",e)}function l(e){Hp(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),n.readAsDataURL(e);else{if(!e.name.endsWith(".obj"))throw new Error("unsupported file format");n.onload=function(e){var n=sp.fromWaveformObj(o.gl,e.target.result);console.log(n[0]),n[0].setTexture(o.slate.texture),o.mesh=n[0],o.drawOnNextFrame()},n.readAsBinaryString(e)}}))}},"Open"),an.createElement("button",{onClick:r},"Show ACES"),an.createElement("div",{style:{flexGrow:1,textAlign:"right"}},an.createElement(jp,null)))},Gp=function(){var e=Yp(an.useState(!1),2),n=e[0],t=e[1],r=Yp(an.useState(!0),2),o=r[0],i=r[1],a=Yp(an.useState(!1),2),l=a[0],u=a[1];return an.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},an.createElement(Up,{widgets:[Kd,Ph,Cp]},an.createElement(zp,{on2d:function(){return t(!n)},on3d:function(){return i(!o)},onAces:function(){u(!l),i(!1)}}),an.createElement("div",{style:{flexGrow:1,display:"flex",position:"relative"}},n&&an.createElement(Nh,null),o&&an.createElement(Fp,null),l&&an.createElement(ep,null))))},Vp=e(Hd);window.addEventListener("load",(function(){Vp.render(an.createElement(Gp,null),document.getElementById("container"))})),window.addEventListener("error",(function(e){document.body.innerHTML='<div style="background-color: white; font-size: 20px;">ERROR: <pre>'.concat(e.error,"</pre></div>")}))}();
//# sourceMappingURL=texpaint.357a1a52.js.map
